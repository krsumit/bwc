{"version":3,"sources":["bootstrap.min.js","modernizr.custom.js","jquery.pnotify.min.js","less-1.3.1.min.js","xbreadcrumbs.js","jquery.maskedinput-1.3.min.js","jquery.autotab-1.1b.js","charCount.js","jquery.textareaCounter.js","elrte.min.js","elrte.en.js","select2.js","jquery-picklist.min.js","jquery.validate.min.js","additional-methods.min.js","jquery.form.js","jquery.metadata.js","jquery.mockjax.js","jquery.uniform.min.js","jquery.tagsinput.min.js","jquery.rating.pack.js","farbtastic.js","jquery.timeentry.min.js","jquery.dataTables.min.js","jquery.jstree.js","dataTables.bootstrap.js","jquery.mousewheel.min.js","jquery.mCustomScrollbar.js","jquery.flot.js","jquery.flot.stack.js","jquery.flot.pie.js","jquery.flot.resize.js","raphael.2.1.0.min.js","justgage.1.0.1.min.js","jquery.qrcode.min.js","jquery.clock.js","jquery.countdown.js","jquery.jqtweet.js","jquery.cookie.js","bootstrap-fileupload.min.js","prettify.js","bootstrapSwitch.js","mfupload.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC94EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChiBA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACv5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7XA;ACAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxVA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACt8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACz2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxLA;ACAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login-one.js","sourcesContent":["/**\n* Bootstrap.js by @fat & @mdo\n* plugins: bootstrap-transition.js, bootstrap-modal.js, bootstrap-dropdown.js, bootstrap-scrollspy.js, bootstrap-tab.js, bootstrap-tooltip.js, bootstrap-popover.js, bootstrap-affix.js, bootstrap-alert.js, bootstrap-button.js, bootstrap-collapse.js, bootstrap-carousel.js, bootstrap-typeahead.js\n* Copyright 2012 Twitter, Inc.\n* http://www.apache.org/licenses/LICENSE-2.0.txt\n*/\n!function(a){a(function(){a.support.transition=function(){var a=function(){var a=document.createElement(\"bootstrap\"),b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss=\"modal\"]',\"click.dismiss.modal\",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(\".modal-body\").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?\"hide\":\"show\"]()},show:function(){var b=this,c=a.Event(\"show\");this.$element.trigger(c);if(this.isShown||c.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass(\"fade\");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass(\"in\").attr(\"aria-hidden\",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger(\"shown\")}):b.$element.focus().trigger(\"shown\")})},hide:function(b){b&&b.preventDefault();var c=this;b=a.Event(\"hide\"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,this.escape(),a(document).off(\"focusin.modal\"),this.$element.removeClass(\"in\").attr(\"aria-hidden\",!0),a.support.transition&&this.$element.hasClass(\"fade\")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var b=this;a(document).on(\"focusin.modal\",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on(\"keyup.dismiss.modal\",function(b){b.which==27&&a.hide()}):this.isShown||this.$element.off(\"keyup.dismiss.modal\")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger(\"hidden\")})},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this,d=this.$element.hasClass(\"fade\")?\"fade\":\"\";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class=\"modal-backdrop '+d+'\" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop==\"static\"?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass(\"in\");if(!b)return;e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass(\"in\"),a.support.transition&&this.$element.hasClass(\"fade\")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data(\"modal\"),f=a.extend({},a.fn.modal.defaults,d.data(),typeof c==\"object\"&&c);e||d.data(\"modal\",e=new b(this,f)),typeof c==\"string\"?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on(\"click.modal.data-api\",'[data-toggle=\"modal\"]',function(b){var c=a(this),d=c.attr(\"href\"),e=a(c.attr(\"data-target\")||d&&d.replace(/.*(?=#[^\\s]+$)/,\"\")),f=e.data(\"modal\")?\"toggle\":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one(\"hide\",function(){c.focus()})})}(window.jQuery),!function(a){function d(){a(b).each(function(){e(a(this)).removeClass(\"open\")})}function e(b){var c=b.attr(\"data-target\"),d;c||(c=b.attr(\"href\"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,\"\")),d=c&&a(c);if(!d||!d.length)d=b.parent();return d}var b=\"[data-toggle=dropdown]\",c=function(b){var c=a(b).on(\"click.dropdown.data-api\",this.toggle);a(\"html\").on(\"click.dropdown.data-api\",function(){c.parent().removeClass(\"open\")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),f,g;if(c.is(\".disabled, :disabled\"))return;return f=e(c),g=f.hasClass(\"open\"),d(),g||f.toggleClass(\"open\"),c.focus(),!1},keydown:function(c){var d,f,g,h,i,j;if(!/(38|40|27)/.test(c.keyCode))return;d=a(this),c.preventDefault(),c.stopPropagation();if(d.is(\".disabled, :disabled\"))return;h=e(d),i=h.hasClass(\"open\");if(!i||i&&c.keyCode==27)return c.which==27&&h.find(b).focus(),d.click();f=a(\"[role=menu] li:not(.divider):visible a\",h);if(!f.length)return;j=f.index(f.filter(\":focus\")),c.keyCode==38&&j>0&&j--,c.keyCode==40&&j<f.length-1&&j++,~j||(j=0),f.eq(j).focus()}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data(\"dropdown\");e||d.data(\"dropdown\",e=new c(this)),typeof b==\"string\"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on(\"click.dropdown.data-api\",d).on(\"click.dropdown.data-api\",\".dropdown form\",function(a){a.stopPropagation()}).on(\".dropdown-menu\",function(a){a.stopPropagation()}).on(\"click.dropdown.data-api\",b,c.prototype.toggle).on(\"keydown.dropdown.data-api\",b+\", [role=menu]\",c.prototype.keydown)}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is(\"body\")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on(\"scroll.scroll-spy.data-api\",d),this.selector=(this.options.target||(f=a(b).attr(\"href\"))&&f.replace(/.*(?=#[^\\s]+$)/,\"\")||\"\")+\" .nav li > a\",this.$body=a(\"body\"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b=this,c;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var c=a(this),d=c.data(\"target\")||c.attr(\"href\"),e=/^#\\w/.test(d)&&a(d);return e&&e.length&&[[e.position().top+(!a.isWindow(b.$scrollElement.get(0))&&b.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(\".active\").removeClass(\"active\"),d=this.selector+'[data-target=\"'+b+'\"],'+this.selector+'[href=\"'+b+'\"]',c=a(d).parent(\"li\").addClass(\"active\"),c.parent(\".dropdown-menu\").length&&(c=c.closest(\"li.dropdown\").addClass(\"active\")),c.trigger(\"activate\")}};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data(\"scrollspy\"),f=typeof c==\"object\"&&c;e||d.data(\"scrollspy\",e=new b(this,f)),typeof c==\"string\"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on(\"load\",function(){a('[data-spy=\"scroll\"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest(\"ul:not(.dropdown-menu)\"),d=b.attr(\"data-target\"),e,f,g;d||(d=b.attr(\"href\"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,\"\"));if(b.parent(\"li\").hasClass(\"active\"))return;e=c.find(\".active:last a\")[0],g=a.Event(\"show\",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.parent(\"li\"),c),this.activate(f,f.parent(),function(){b.trigger({type:\"shown\",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass(\"active\").find(\"> .dropdown-menu > .active\").removeClass(\"active\"),b.addClass(\"active\"),f?(b[0].offsetWidth,b.addClass(\"in\")):b.removeClass(\"fade\"),b.parent(\".dropdown-menu\")&&b.closest(\"li.dropdown\").addClass(\"active\"),d&&d()}var e=c.find(\"> .active\"),f=d&&a.support.transition&&e.hasClass(\"fade\");f?e.one(a.support.transition.end,g):g(),e.removeClass(\"in\")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data(\"tab\");e||d.data(\"tab\",e=new b(this)),typeof c==\"string\"&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on(\"click.tab.data-api\",'[data-toggle=\"tab\"], [data-toggle=\"pill\"]',function(b){b.preventDefault(),a(this).tab(\"show\")})}(window.jQuery),!function(a){var b=function(a,b){this.init(\"tooltip\",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(\" \");for(i=g.length;i--;)h=g[i],h==\"click\"?this.$element.on(\"click.\"+this.type,this.options.selector,a.proxy(this.toggle,this)):h!=\"manual\"&&(e=h==\"hover\"?\"mouseenter\":\"focus\",f=h==\"hover\"?\"mouseleave\":\"blur\",this.$element.on(e+\".\"+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+\".\"+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:\"manual\",selector:\"\"}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&typeof b.delay==\"number\"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState=\"in\",this.timeout=setTimeout(function(){c.hoverState==\"in\"&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState=\"out\",this.timeout=setTimeout(function(){c.hoverState==\"out\"&&c.hide()},c.options.delay.hide)},show:function(){var b,c,d,e,f,g,h=a.Event(\"show\");if(this.hasContent()&&this.enabled){this.$element.trigger(h);if(h.isDefaultPrevented())return;b=this.tip(),this.setContent(),this.options.animation&&b.addClass(\"fade\"),f=typeof this.options.placement==\"function\"?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:\"block\"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight;switch(f){case\"bottom\":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case\"top\":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case\"left\":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case\"right\":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger(\"shown\")}},applyPlacement:function(a,b){var c=this.tip(),d=c[0].offsetWidth,e=c[0].offsetHeight,f,g,h,i;c.offset(a).addClass(b).addClass(\"in\"),f=c[0].offsetWidth,g=c[0].offsetHeight,b==\"top\"&&g!=e&&(a.top=a.top+e-g,i=!0),b==\"bottom\"||b==\"top\"?(h=0,a.left<0&&(h=a.left*-2,a.left=0,c.offset(a),f=c[0].offsetWidth,g=c[0].offsetHeight),this.replaceArrow(h-d+f,f,\"left\")):this.replaceArrow(g-e,g,\"top\"),i&&c.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+\"%\":\"\")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(\".tooltip-inner\")[this.options.html?\"html\":\"text\"](b),a.removeClass(\"fade in top bottom left right\")},hide:function(){function e(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var b=this,c=this.tip(),d=a.Event(\"hide\");this.$element.trigger(d);if(d.isDefaultPrevented())return;return c.removeClass(\"in\"),a.support.transition&&this.$tip.hasClass(\"fade\")?e():c.detach(),this.$element.trigger(\"hidden\"),this},fixTitle:function(){var a=this.$element;(a.attr(\"title\")||typeof a.attr(\"data-original-title\")!=\"string\")&&a.attr(\"data-original-title\",a.attr(\"title\")||\"\").attr(\"title\",\"\")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},typeof b.getBoundingClientRect==\"function\"?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr(\"data-original-title\")||(typeof c.title==\"function\"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(\".tooltip-arrow\")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass(\"in\")?c.hide():c.show()},destroy:function(){this.hide().$element.off(\".\"+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data(\"tooltip\"),f=typeof c==\"object\"&&c;e||d.data(\"tooltip\",e=new b(this,f)),typeof c==\"string\"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:\"top\",selector:!1,template:'<div class=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){var b=function(a,b){this.init(\"popover\",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(\".popover-title\")[this.options.html?\"html\":\"text\"](b),a.find(\".popover-content\")[this.options.html?\"html\":\"text\"](c),a.removeClass(\"fade top bottom left right in\")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=(typeof c.content==\"function\"?c.content.call(b[0]):c.content)||b.attr(\"data-content\"),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off(\".\"+this.type).removeData(this.type)}});var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data(\"popover\"),f=typeof c==\"object\"&&c;e||d.data(\"popover\",e=new b(this,f)),typeof c==\"string\"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),!function(a){var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on(\"scroll.affix.data-api\",a.proxy(this.checkPosition,this)).on(\"click.affix.data-api\",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(!this.$element.is(\":visible\"))return;var b=a(document).height(),c=this.$window.scrollTop(),d=this.$element.offset(),e=this.options.offset,f=e.bottom,g=e.top,h=\"affix affix-top affix-bottom\",i;typeof e!=\"object\"&&(f=g=e),typeof g==\"function\"&&(g=e.top()),typeof f==\"function\"&&(f=e.bottom()),i=this.unpin!=null&&c+this.unpin<=d.top?!1:f!=null&&d.top+this.$element.height()>=b-f?\"bottom\":g!=null&&c<=g?\"top\":!1;if(this.affixed===i)return;this.affixed=i,this.unpin=i==\"bottom\"?d.top-c:null,this.$element.removeClass(h).addClass(\"affix\"+(i?\"-\"+i:\"\"))};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data(\"affix\"),f=typeof c==\"object\"&&c;e||d.data(\"affix\",e=new b(this,f)),typeof c==\"string\"&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on(\"load\",function(){a('[data-spy=\"affix\"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),!function(a){var b='[data-dismiss=\"alert\"]',c=function(c){a(c).on(\"click\",b,this.close)};c.prototype.close=function(b){function f(){e.trigger(\"closed\").remove()}var c=a(this),d=c.attr(\"data-target\"),e;d||(d=c.attr(\"href\"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,\"\")),e=a(d),b&&b.preventDefault(),e.length||(e=c.hasClass(\"alert\")?c:c.parent()),e.trigger(b=a.Event(\"close\"));if(b.isDefaultPrevented())return;e.removeClass(\"in\"),a.support.transition&&e.hasClass(\"fade\")?e.on(a.support.transition.end,f):f()};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data(\"alert\");e||d.data(\"alert\",e=new c(this)),typeof b==\"string\"&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on(\"click.alert.data-api\",b,c.prototype.close)}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b=\"disabled\",c=this.$element,d=c.data(),e=c.is(\"input\")?\"val\":\"html\";a+=\"Text\",d.resetText||c.data(\"resetText\",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a==\"loadingText\"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle=\"buttons-radio\"]');a&&a.find(\".active\").removeClass(\"active\"),this.$element.toggleClass(\"active\")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data(\"button\"),f=typeof c==\"object\"&&c;e||d.data(\"button\",e=new b(this,f)),c==\"toggle\"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:\"loading...\"},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on(\"click.button.data-api\",\"[data-toggle^=button]\",function(b){var c=a(b.target);c.hasClass(\"btn\")||(c=c.closest(\".btn\")),c.button(\"toggle\")})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass(\"width\");return a?\"width\":\"height\"},show:function(){var b,c,d,e;if(this.transitioning||this.$element.hasClass(\"in\"))return;b=this.dimension(),c=a.camelCase([\"scroll\",b].join(\"-\")),d=this.$parent&&this.$parent.find(\"> .accordion-group > .in\");if(d&&d.length){e=d.data(\"collapse\");if(e&&e.transitioning)return;d.collapse(\"hide\"),e||d.data(\"collapse\",null)}this.$element[b](0),this.transition(\"addClass\",a.Event(\"show\"),\"shown\"),a.support.transition&&this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning||!this.$element.hasClass(\"in\"))return;b=this.dimension(),this.reset(this.$element[b]()),this.transition(\"removeClass\",a.Event(\"hide\"),\"hidden\"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass(\"collapse\")[b](a||\"auto\")[0].offsetWidth,this.$element[a!==null?\"addClass\":\"removeClass\"](\"collapse\"),this},transition:function(b,c,d){var e=this,f=function(){c.type==\"show\"&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b](\"in\"),a.support.transition&&this.$element.hasClass(\"collapse\")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass(\"in\")?\"hide\":\"show\"]()}};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data(\"collapse\"),f=a.extend({},a.fn.collapse.defaults,d.data(),typeof c==\"object\"&&c);e||d.data(\"collapse\",e=new b(this,f)),typeof c==\"string\"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on(\"click.collapse.data-api\",\"[data-toggle=collapse]\",function(b){var c=a(this),d,e=c.attr(\"data-target\")||b.preventDefault()||(d=c.attr(\"href\"))&&d.replace(/.*(?=#[^\\s]+$)/,\"\"),f=a(e).data(\"collapse\")?\"toggle\":c.data();c[a(e).hasClass(\"in\")?\"addClass\":\"removeClass\"](\"collapsed\"),a(e).collapse(f)})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(\".carousel-indicators\"),this.options=c,this.options.pause==\"hover\"&&this.$element.on(\"mouseenter\",a.proxy(this.pause,this)).on(\"mouseleave\",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(\".item.active\"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(b>this.$items.length-1||b<0)return;return this.sliding?this.$element.one(\"slid\",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?\"next\":\"prev\",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(\".next, .prev\").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide(\"next\")},prev:function(){if(this.sliding)return;return this.slide(\"prev\")},slide:function(b,c){var d=this.$element.find(\".item.active\"),e=c||d[b](),f=this.interval,g=b==\"next\"?\"left\":\"right\",h=b==\"next\"?\"first\":\"last\",i=this,j;this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(\".item\")[h](),j=a.Event(\"slide\",{relatedTarget:e[0],direction:g});if(e.hasClass(\"active\"))return;this.$indicators.length&&(this.$indicators.find(\".active\").removeClass(\"active\"),this.$element.one(\"slid\",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass(\"active\")}));if(a.support.transition&&this.$element.hasClass(\"slide\")){this.$element.trigger(j);if(j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(\" \")).addClass(\"active\"),d.removeClass([\"active\",g].join(\" \")),i.sliding=!1,setTimeout(function(){i.$element.trigger(\"slid\")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented())return;d.removeClass(\"active\"),e.addClass(\"active\"),this.sliding=!1,this.$element.trigger(\"slid\")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data(\"carousel\"),f=a.extend({},a.fn.carousel.defaults,typeof c==\"object\"&&c),g=typeof c==\"string\"?c:f.slide;e||d.data(\"carousel\",e=new b(this,f)),typeof c==\"number\"?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.defaults={interval:5e3,pause:\"hover\"},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on(\"click.carousel.data-api\",\"[data-slide], [data-slide-to]\",function(b){var c=a(this),d,e=a(c.attr(\"data-target\")||(d=c.attr(\"href\"))&&d.replace(/.*(?=#[^\\s]+$)/,\"\")),f=a.extend({},e.data(),c.data()),g;e.carousel(f),(g=c.attr(\"data-slide-to\"))&&e.data(\"carousel\").pause().to(g).cycle(),b.preventDefault()})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(\".active\").attr(\"data-value\");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\");return a.replace(new RegExp(\"(\"+b+\")\",\"ig\"),function(a,b){return\"<strong>\"+b+\"</strong>\"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr(\"data-value\",d),b.find(\"a\").html(c.highlighter(d)),b[0]}),b.first().addClass(\"active\"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(\".active\").removeClass(\"active\"),d=c.next();d.length||(d=a(this.$menu.find(\"li\")[0])),d.addClass(\"active\")},prev:function(a){var b=this.$menu.find(\".active\").removeClass(\"active\"),c=b.prev();c.length||(c=this.$menu.find(\"li\").last()),c.addClass(\"active\")},listen:function(){this.$element.on(\"focus\",a.proxy(this.focus,this)).on(\"blur\",a.proxy(this.blur,this)).on(\"keypress\",a.proxy(this.keypress,this)).on(\"keyup\",a.proxy(this.keyup,this)),this.eventSupported(\"keydown\")&&this.$element.on(\"keydown\",a.proxy(this.keydown,this)),this.$menu.on(\"click\",a.proxy(this.click,this)).on(\"mouseenter\",\"li\",a.proxy(this.mouseenter,this)).on(\"mouseleave\",\"li\",a.proxy(this.mouseleave,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,\"return;\"),b=typeof this.$element[a]==\"function\"),b},move:function(a){if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){if(this.suppressKeyPressRepeat)return;this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(\".active\").removeClass(\"active\"),a(b.currentTarget).addClass(\"active\")},mouseleave:function(a){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=a.fn.typeahead;a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data(\"typeahead\"),f=typeof c==\"object\"&&c;e||d.data(\"typeahead\",e=new b(this,f)),typeof c==\"string\"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class=\"typeahead dropdown-menu\"></ul>',item:'<li><a href=\"#\"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on(\"focus.typeahead.data-api\",'[data-provide=\"typeahead\"]',function(b){var c=a(this);if(c.data(\"typeahead\"))return;c.typeahead(c.data())})}(window.jQuery)","/* Modernizr 2.6.2 (Custom Build) | MIT & BSD\r\n * Build: http://modernizr.com/download/#-csstransitions-cssclasses-testprop-testallprops-domprefixes-load\r\n */\r\n;window.Modernizr=function(a,b,c){function x(a){j.cssText=a}function y(a,b){return x(prefixes.join(a+\";\")+(b||\"\"))}function z(a,b){return typeof a===b}function A(a,b){return!!~(\"\"+a).indexOf(b)}function B(a,b){for(var d in a){var e=a[d];if(!A(e,\"-\")&&j[e]!==c)return b==\"pfx\"?e:!0}return!1}function C(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:z(f,\"function\")?f.bind(d||b):f}return!1}function D(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+\" \"+n.join(d+\" \")+d).split(\" \");return z(b,\"string\")||z(b,\"undefined\")?B(e,b):(e=(a+\" \"+o.join(d+\" \")+d).split(\" \"),C(e,b,c))}var d=\"2.6.2\",e={},f=!0,g=b.documentElement,h=\"modernizr\",i=b.createElement(h),j=i.style,k,l={}.toString,m=\"Webkit Moz O ms\",n=m.split(\" \"),o=m.toLowerCase().split(\" \"),p={},q={},r={},s=[],t=s.slice,u,v={}.hasOwnProperty,w;!z(v,\"undefined\")&&!z(v.call,\"undefined\")?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],\"undefined\")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!=\"function\")throw new TypeError;var d=t.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(t.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(t.call(arguments)))};return e}),p.csstransitions=function(){return D(\"transition\")};for(var E in p)w(p,E)&&(u=E.toLowerCase(),e[u]=p[E](),s.push((e[u]?\"\":\"no-\")+u));return e.addTest=function(a,b){if(typeof a==\"object\")for(var d in a)w(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b==\"function\"?b():b,typeof f!=\"undefined\"&&f&&(g.className+=\" \"+(b?\"\":\"no-\")+a),e[a]=b}return e},x(\"\"),i=k=null,e._version=d,e._domPrefixes=o,e._cssomPrefixes=n,e.testProp=function(a){return B([a])},e.testAllProps=D,g.className=g.className.replace(/(^|\\s)no-js(\\s|$)/,\"$1$2\")+(f?\" js \"+s.join(\" \"):\"\"),e}(this,this.document),function(a,b,c){function d(a){return\"[object Function]\"==o.call(a)}function e(a){return\"string\"==typeof a}function f(){}function g(a){return!a||\"loaded\"==a||\"complete\"==a||\"uninitialized\"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){(\"c\"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){\"img\"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),\"object\"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height=\"0\",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),\"img\"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||\"j\",e(a)?i(\"c\"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName(\"script\")[0],o={}.toString,p=[],q=0,r=\"MozAppearance\"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&\"[object Opera]\"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?\"object\":l?\"script\":\"img\",v=l?\"script\":u,w=Array.isArray||function(a){return\"[object Array]\"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split(\"!\"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split(\"=\"),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(\".\").pop().split(\"?\").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split(\"/\").pop().split(\"?\")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&\"css\"==i.url.split(\".\").pop().split(\"?\").shift()?\"c\":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState=\"loading\",b.addEventListener(\"DOMContentLoaded\",A=function(){b.removeEventListener(\"DOMContentLoaded\",A,0),b.readyState=\"complete\"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement(\"script\"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement(\"link\"),j,c=i?h:c||f;e.href=a,e.rel=\"stylesheet\",e.type=\"text/css\";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};","/*\n * jQuery Pines Notify (pnotify) Plugin 1.2.0\n *\n * http://pinesframework.org/pnotify/\n * Copyright (c) 2009-2012 Hunter Perrin\n *\n * Triple license under the GPL, LGPL, and MPL:\n *\t  http://www.gnu.org/licenses/gpl.html\n *\t  http://www.gnu.org/licenses/lgpl.html\n *\t  http://www.mozilla.org/MPL/MPL-1.1.html\n */\n(function(d){var q,j,r,i=d(window),u={jqueryui:{container:\"ui-widget ui-widget-content ui-corner-all\",notice:\"ui-state-highlight\",notice_icon:\"ui-icon ui-icon-info\",info:\"\",info_icon:\"ui-icon ui-icon-info\",success:\"ui-state-default\",success_icon:\"ui-icon ui-icon-circle-check\",error:\"ui-state-error\",error_icon:\"ui-icon ui-icon-alert\",closer:\"ui-icon ui-icon-close\",pin_up:\"ui-icon ui-icon-pin-w\",pin_down:\"ui-icon ui-icon-pin-s\",hi_menu:\"ui-state-default ui-corner-bottom\",hi_btn:\"ui-state-default ui-corner-all\",\nhi_btnhov:\"ui-state-hover\",hi_hnd:\"ui-icon ui-icon-grip-dotted-horizontal\"},bootstrap:{container:\"alert\",notice:\"\",notice_icon:\"icon-exclamation-sign\",info:\"alert-info\",info_icon:\"icon-info-sign\",success:\"alert-success\",success_icon:\"icon-ok-sign\",error:\"alert-error\",error_icon:\"icon-warning-sign\",closer:\"icon-remove\",pin_up:\"icon-pause\",pin_down:\"icon-play\",hi_menu:\"well\",hi_btn:\"btn\",hi_btnhov:\"\",hi_hnd:\"icon-chevron-down\"}},s=function(){r=d(\"body\");i=d(window);i.bind(\"resize\",function(){j&&clearTimeout(j);\nj=setTimeout(d.pnotify_position_all,10)})};document.body?s():d(s);d.extend({pnotify_remove_all:function(){var e=i.data(\"pnotify\");e&&e.length&&d.each(e,function(){this.pnotify_remove&&this.pnotify_remove()})},pnotify_position_all:function(){j&&clearTimeout(j);j=null;var e=i.data(\"pnotify\");e&&e.length&&(d.each(e,function(){var d=this.opts.stack;if(d)d.nextpos1=d.firstpos1,d.nextpos2=d.firstpos2,d.addpos2=0,d.animation=true}),d.each(e,function(){this.pnotify_position()}))},pnotify:function(e){var g,\na;typeof e!=\"object\"?(a=d.extend({},d.pnotify.defaults),a.text=e):a=d.extend({},d.pnotify.defaults,e);for(var p in a)typeof p==\"string\"&&p.match(/^pnotify_/)&&(a[p.replace(/^pnotify_/,\"\")]=a[p]);if(a.before_init&&a.before_init(a)===false)return null;var k,o=function(a,c){b.css(\"display\",\"none\");var f=document.elementFromPoint(a.clientX,a.clientY);b.css(\"display\",\"block\");var e=d(f),g=e.css(\"cursor\");b.css(\"cursor\",g!=\"auto\"?g:\"default\");if(!k||k.get(0)!=f)k&&(n.call(k.get(0),\"mouseleave\",a.originalEvent),\nn.call(k.get(0),\"mouseout\",a.originalEvent)),n.call(f,\"mouseenter\",a.originalEvent),n.call(f,\"mouseover\",a.originalEvent);n.call(f,c,a.originalEvent);k=e},f=u[a.styling],b=d(\"<div />\",{\"class\":\"ui-pnotify \"+a.addclass,css:{display:\"none\"},mouseenter:function(l){a.nonblock&&l.stopPropagation();a.mouse_reset&&g==\"out\"&&(b.stop(true),g=\"in\",b.css(\"height\",\"auto\").animate({width:a.width,opacity:a.nonblock?a.nonblock_opacity:a.opacity},\"fast\"));a.nonblock&&b.animate({opacity:a.nonblock_opacity},\"fast\");\na.hide&&a.mouse_reset&&b.pnotify_cancel_remove();a.sticker&&!a.nonblock&&b.sticker.trigger(\"pnotify_icon\").css(\"visibility\",\"visible\");a.closer&&!a.nonblock&&b.closer.css(\"visibility\",\"visible\")},mouseleave:function(l){a.nonblock&&l.stopPropagation();k=null;b.css(\"cursor\",\"auto\");a.nonblock&&g!=\"out\"&&b.animate({opacity:a.opacity},\"fast\");a.hide&&a.mouse_reset&&b.pnotify_queue_remove();a.sticker_hover&&b.sticker.css(\"visibility\",\"hidden\");a.closer_hover&&b.closer.css(\"visibility\",\"hidden\");d.pnotify_position_all()},\nmouseover:function(b){a.nonblock&&b.stopPropagation()},mouseout:function(b){a.nonblock&&b.stopPropagation()},mousemove:function(b){a.nonblock&&(b.stopPropagation(),o(b,\"onmousemove\"))},mousedown:function(b){a.nonblock&&(b.stopPropagation(),b.preventDefault(),o(b,\"onmousedown\"))},mouseup:function(b){a.nonblock&&(b.stopPropagation(),b.preventDefault(),o(b,\"onmouseup\"))},click:function(b){a.nonblock&&(b.stopPropagation(),o(b,\"onclick\"))},dblclick:function(b){a.nonblock&&(b.stopPropagation(),o(b,\"ondblclick\"))}});\nb.opts=a;b.container=d(\"<div />\",{\"class\":f.container+\" ui-pnotify-container \"+(a.type==\"error\"?f.error:a.type==\"info\"?f.info:a.type==\"success\"?f.success:f.notice)}).appendTo(b);a.cornerclass!=\"\"&&b.container.removeClass(\"ui-corner-all\").addClass(a.cornerclass);a.shadow&&b.container.addClass(\"ui-pnotify-shadow\");b.pnotify_version=\"1.2.0\";b.pnotify=function(l){var c=a;typeof l==\"string\"?a.text=l:a=d.extend({},a,l);for(var e in a)typeof e==\"string\"&&e.match(/^pnotify_/)&&(a[e.replace(/^pnotify_/,\"\")]=\na[e]);b.opts=a;a.cornerclass!=c.cornerclass&&b.container.removeClass(\"ui-corner-all\").addClass(a.cornerclass);a.shadow!=c.shadow&&(a.shadow?b.container.addClass(\"ui-pnotify-shadow\"):b.container.removeClass(\"ui-pnotify-shadow\"));a.addclass===false?b.removeClass(c.addclass):a.addclass!==c.addclass&&b.removeClass(c.addclass).addClass(a.addclass);a.title===false?b.title_container.slideUp(\"fast\"):a.title!==c.title&&(a.title_escape?b.title_container.text(a.title).slideDown(200):b.title_container.html(a.title).slideDown(200));\na.text===false?b.text_container.slideUp(\"fast\"):a.text!==c.text&&(a.text_escape?b.text_container.text(a.text).slideDown(200):b.text_container.html(a.insert_brs?String(a.text).replace(/\\n/g,\"<br />\"):a.text).slideDown(200));b.pnotify_history=a.history;b.pnotify_hide=a.hide;a.type!=c.type&&b.container.removeClass(f.error+\" \"+f.notice+\" \"+f.success+\" \"+f.info).addClass(a.type==\"error\"?f.error:a.type==\"info\"?f.info:a.type==\"success\"?f.success:f.notice);if(a.icon!==c.icon||a.icon===true&&a.type!=c.type)b.container.find(\"div.ui-pnotify-icon\").remove(),\na.icon!==false&&d(\"<div />\",{\"class\":\"ui-pnotify-icon\"}).append(d(\"<span />\",{\"class\":a.icon===true?a.type==\"error\"?f.error_icon:a.type==\"info\"?f.info_icon:a.type==\"success\"?f.success_icon:f.notice_icon:a.icon})).prependTo(b.container);a.width!==c.width&&b.animate({width:a.width});a.min_height!==c.min_height&&b.container.animate({minHeight:a.min_height});a.opacity!==c.opacity&&b.fadeTo(a.animate_speed,a.opacity);!a.closer||a.nonblock?b.closer.css(\"display\",\"none\"):b.closer.css(\"display\",\"block\");\n!a.sticker||a.nonblock?b.sticker.css(\"display\",\"none\"):b.sticker.css(\"display\",\"block\");b.sticker.trigger(\"pnotify_icon\");a.sticker_hover?b.sticker.css(\"visibility\",\"hidden\"):a.nonblock||b.sticker.css(\"visibility\",\"visible\");a.closer_hover?b.closer.css(\"visibility\",\"hidden\"):a.nonblock||b.closer.css(\"visibility\",\"visible\");a.hide?c.hide||b.pnotify_queue_remove():b.pnotify_cancel_remove();b.pnotify_queue_position();return b};b.pnotify_position=function(a){var c=b.opts.stack;if(c){if(!c.nextpos1)c.nextpos1=\nc.firstpos1;if(!c.nextpos2)c.nextpos2=c.firstpos2;if(!c.addpos2)c.addpos2=0;var d=b.css(\"display\")==\"none\";if(!d||a){var f,e={},g;switch(c.dir1){case \"down\":g=\"top\";break;case \"up\":g=\"bottom\";break;case \"left\":g=\"right\";break;case \"right\":g=\"left\"}a=parseInt(b.css(g));isNaN(a)&&(a=0);if(typeof c.firstpos1==\"undefined\"&&!d)c.firstpos1=a,c.nextpos1=c.firstpos1;var h;switch(c.dir2){case \"down\":h=\"top\";break;case \"up\":h=\"bottom\";break;case \"left\":h=\"right\";break;case \"right\":h=\"left\"}f=parseInt(b.css(h));\nisNaN(f)&&(f=0);if(typeof c.firstpos2==\"undefined\"&&!d)c.firstpos2=f,c.nextpos2=c.firstpos2;if(c.dir1==\"down\"&&c.nextpos1+b.height()>i.height()||c.dir1==\"up\"&&c.nextpos1+b.height()>i.height()||c.dir1==\"left\"&&c.nextpos1+b.width()>i.width()||c.dir1==\"right\"&&c.nextpos1+b.width()>i.width())c.nextpos1=c.firstpos1,c.nextpos2+=c.addpos2+(typeof c.spacing2==\"undefined\"?25:c.spacing2),c.addpos2=0;if(c.animation&&c.nextpos2<f)switch(c.dir2){case \"down\":e.top=c.nextpos2+\"px\";break;case \"up\":e.bottom=c.nextpos2+\n\"px\";break;case \"left\":e.right=c.nextpos2+\"px\";break;case \"right\":e.left=c.nextpos2+\"px\"}else b.css(h,c.nextpos2+\"px\");switch(c.dir2){case \"down\":case \"up\":if(b.outerHeight(true)>c.addpos2)c.addpos2=b.height();break;case \"left\":case \"right\":if(b.outerWidth(true)>c.addpos2)c.addpos2=b.width()}if(c.nextpos1)if(c.animation&&(a>c.nextpos1||e.top||e.bottom||e.right||e.left))switch(c.dir1){case \"down\":e.top=c.nextpos1+\"px\";break;case \"up\":e.bottom=c.nextpos1+\"px\";break;case \"left\":e.right=c.nextpos1+\"px\";\nbreak;case \"right\":e.left=c.nextpos1+\"px\"}else b.css(g,c.nextpos1+\"px\");(e.top||e.bottom||e.right||e.left)&&b.animate(e,{duration:500,queue:false});switch(c.dir1){case \"down\":case \"up\":c.nextpos1+=b.height()+(typeof c.spacing1==\"undefined\"?25:c.spacing1);break;case \"left\":case \"right\":c.nextpos1+=b.width()+(typeof c.spacing1==\"undefined\"?25:c.spacing1)}}}};b.pnotify_queue_position=function(a){j&&clearTimeout(j);a||(a=10);j=setTimeout(d.pnotify_position_all,a)};b.pnotify_display=function(){b.parent().length||\nb.appendTo(r);a.before_open&&a.before_open(b)===false||(a.stack.push!=\"top\"&&b.pnotify_position(true),a.animation==\"fade\"||a.animation.effect_in==\"fade\"?b.show().fadeTo(0,0).hide():a.opacity!=1&&b.show().fadeTo(0,a.opacity).hide(),b.animate_in(function(){a.after_open&&a.after_open(b);b.pnotify_queue_position();a.hide&&b.pnotify_queue_remove()}))};b.pnotify_remove=function(){if(b.timer)window.clearTimeout(b.timer),b.timer=null;a.before_close&&a.before_close(b)===false||b.animate_out(function(){a.after_close&&\na.after_close(b)===false||(b.pnotify_queue_position(),a.remove&&b.detach())})};b.animate_in=function(d){g=\"in\";var c;c=typeof a.animation.effect_in!=\"undefined\"?a.animation.effect_in:a.animation;c==\"none\"?(b.show(),d()):c==\"show\"?b.show(a.animate_speed,d):c==\"fade\"?b.show().fadeTo(a.animate_speed,a.opacity,d):c==\"slide\"?b.slideDown(a.animate_speed,d):typeof c==\"function\"?c(\"in\",d,b):b.show(c,typeof a.animation.options_in==\"object\"?a.animation.options_in:{},a.animate_speed,d)};b.animate_out=function(d){g=\n\"out\";var c;c=typeof a.animation.effect_out!=\"undefined\"?a.animation.effect_out:a.animation;c==\"none\"?(b.hide(),d()):c==\"show\"?b.hide(a.animate_speed,d):c==\"fade\"?b.fadeOut(a.animate_speed,d):c==\"slide\"?b.slideUp(a.animate_speed,d):typeof c==\"function\"?c(\"out\",d,b):b.hide(c,typeof a.animation.options_out==\"object\"?a.animation.options_out:{},a.animate_speed,d)};b.pnotify_cancel_remove=function(){b.timer&&window.clearTimeout(b.timer)};b.pnotify_queue_remove=function(){b.pnotify_cancel_remove();b.timer=\nwindow.setTimeout(function(){b.pnotify_remove()},isNaN(a.delay)?0:a.delay)};b.closer=d(\"<div />\",{\"class\":\"ui-pnotify-closer\",css:{cursor:\"pointer\",visibility:a.closer_hover?\"hidden\":\"visible\"},click:function(){b.pnotify_remove();b.sticker.css(\"visibility\",\"hidden\");b.closer.css(\"visibility\",\"hidden\")}}).append(d(\"<span />\",{\"class\":f.closer})).appendTo(b.container);(!a.closer||a.nonblock)&&b.closer.css(\"display\",\"none\");b.sticker=d(\"<div />\",{\"class\":\"ui-pnotify-sticker\",css:{cursor:\"pointer\",visibility:a.sticker_hover?\n\"hidden\":\"visible\"},click:function(){a.hide=!a.hide;a.hide?b.pnotify_queue_remove():b.pnotify_cancel_remove();d(this).trigger(\"pnotify_icon\")}}).bind(\"pnotify_icon\",function(){d(this).children().removeClass(f.pin_up+\" \"+f.pin_down).addClass(a.hide?f.pin_up:f.pin_down)}).append(d(\"<span />\",{\"class\":f.pin_up})).appendTo(b.container);(!a.sticker||a.nonblock)&&b.sticker.css(\"display\",\"none\");a.icon!==false&&d(\"<div />\",{\"class\":\"ui-pnotify-icon\"}).append(d(\"<span />\",{\"class\":a.icon===true?a.type==\"error\"?\nf.error_icon:a.type==\"info\"?f.info_icon:a.type==\"success\"?f.success_icon:f.notice_icon:a.icon})).prependTo(b.container);b.title_container=d(\"<h4 />\",{\"class\":\"ui-pnotify-title\"}).appendTo(b.container);a.title===false?b.title_container.hide():a.title_escape?b.title_container.text(a.title):b.title_container.html(a.title);b.text_container=d(\"<div />\",{\"class\":\"ui-pnotify-text\"}).appendTo(b.container);a.text===false?b.text_container.hide():a.text_escape?b.text_container.text(a.text):b.text_container.html(a.insert_brs?\nString(a.text).replace(/\\n/g,\"<br />\"):a.text);typeof a.width==\"string\"&&b.css(\"width\",a.width);typeof a.min_height==\"string\"&&b.container.css(\"min-height\",a.min_height);b.pnotify_history=a.history;b.pnotify_hide=a.hide;var h=i.data(\"pnotify\");if(h==null||typeof h!=\"object\")h=[];h=a.stack.push==\"top\"?d.merge([b],h):d.merge(h,[b]);i.data(\"pnotify\",h);a.stack.push==\"top\"&&b.pnotify_queue_position(1);a.after_init&&a.after_init(b);if(a.history){var m=i.data(\"pnotify_history\");typeof m==\"undefined\"&&(m=\nd(\"<div />\",{\"class\":\"ui-pnotify-history-container \"+f.hi_menu,mouseleave:function(){m.animate({top:\"-\"+q+\"px\"},{duration:100,queue:false})}}).append(d(\"<div />\",{\"class\":\"ui-pnotify-history-header\",text:\"Redisplay\"})).append(d(\"<button />\",{\"class\":\"ui-pnotify-history-all \"+f.hi_btn,text:\"All\",mouseenter:function(){d(this).addClass(f.hi_btnhov)},mouseleave:function(){d(this).removeClass(f.hi_btnhov)},click:function(){d.each(h,function(){this.pnotify_history&&(this.is(\":visible\")?this.pnotify_hide&&\nthis.pnotify_queue_remove():this.pnotify_display&&this.pnotify_display())});return false}})).append(d(\"<button />\",{\"class\":\"ui-pnotify-history-last \"+f.hi_btn,text:\"Last\",mouseenter:function(){d(this).addClass(f.hi_btnhov)},mouseleave:function(){d(this).removeClass(f.hi_btnhov)},click:function(){var a=-1,b;do{b=a==-1?h.slice(a):h.slice(a,a+1);if(!b[0])break;a--}while(!b[0].pnotify_history||b[0].is(\":visible\"));if(!b[0])return false;b[0].pnotify_display&&b[0].pnotify_display();return false}})).appendTo(r),\nq=d(\"<span />\",{\"class\":\"ui-pnotify-history-pulldown \"+f.hi_hnd,mouseenter:function(){m.animate({top:\"0\"},{duration:100,queue:false})}}).appendTo(m).offset().top+2,m.css({top:\"-\"+q+\"px\"}),i.data(\"pnotify_history\",m))}a.stack.animation=false;b.pnotify_display();return b}});var t=/^on/,v=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,w=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,x=/^(scroll|resize|(un)?load|abort|error)$/,n=function(e,g){var a,e=e.toLowerCase();\ndocument.createEvent&&this.dispatchEvent?(e=e.replace(t,\"\"),e.match(v)?(d(this).offset(),a=document.createEvent(\"MouseEvents\"),a.initMouseEvent(e,g.bubbles,g.cancelable,g.view,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,g.relatedTarget)):e.match(w)?(a=document.createEvent(\"UIEvents\"),a.initUIEvent(e,g.bubbles,g.cancelable,g.view,g.detail)):e.match(x)&&(a=document.createEvent(\"HTMLEvents\"),a.initEvent(e,g.bubbles,g.cancelable)),a&&this.dispatchEvent(a)):\n(e.match(t)||(e=\"on\"+e),a=document.createEventObject(g),this.fireEvent(e,a))};d.pnotify.defaults={title:false,title_escape:false,text:false,text_escape:false,styling:\"bootstrap\",addclass:\"\",cornerclass:\"\",nonblock:false,nonblock_opacity:0.2,history:true,width:\"300px\",min_height:\"16px\",type:\"notice\",icon:true,animation:\"fade\",animate_speed:\"slow\",opacity:1,shadow:true,closer:true,closer_hover:true,sticker:true,sticker_hover:true,hide:true,delay:8E3,mouse_reset:true,remove:true,insert_brs:true,stack:{dir1:\"down\",\ndir2:\"left\",push:\"bottom\",spacing1:25,spacing2:25}}})(jQuery);\n","//\n// LESS - Leaner CSS v1.3.1\n// http://lesscss.org\n// \n// Copyright (c) 2009-2011, Alexis Sellier\n// Licensed under the Apache 2.0 License.\n//\n(function(e,t){function n(t){return e.less[t.split(\"/\")[1]]}function h(){var e=document.getElementsByTagName(\"style\");for(var t=0;t<e.length;t++)e[t].type.match(l)&&(new r.Parser({filename:document.location.href.replace(/#.*$/,\"\"),dumpLineNumbers:r.dumpLineNumbers})).parse(e[t].innerHTML||\"\",function(n,r){var i=r.toCSS(),s=e[t];s.type=\"text/css\",s.styleSheet?s.styleSheet.cssText=i:s.innerHTML=i})}function p(e,t){for(var n=0;n<r.sheets.length;n++)d(r.sheets[n],e,t,r.sheets.length-(n+1))}function d(t,n,i,s){var o=t.contents||{},a=e.location.href.replace(/[#?].*$/,\"\"),f=t.href.replace(/\\?.*$/,\"\"),l=u&&u.getItem(f),c=u&&u.getItem(f+\":timestamp\"),h={css:l,timestamp:c};/^[a-z-]+:/.test(f)||(f.charAt(0)==\"/\"?f=e.location.protocol+\"//\"+e.location.host+f:f=a.slice(0,a.lastIndexOf(\"/\")+1)+f),g(t.href,t.type,function(e,u){if(!i&&h&&u&&(new Date(u)).valueOf()===(new Date(h.timestamp)).valueOf())m(h.css,t),n(null,null,e,t,{local:!0,remaining:s});else try{o[f]=e,(new r.Parser({optimization:r.optimization,paths:[f.replace(/[\\w\\.-]+$/,\"\")],mime:t.type,filename:f,contents:o,dumpLineNumbers:r.dumpLineNumbers})).parse(e,function(r,i){if(r)return E(r,f);try{n(r,i,e,t,{local:!1,lastModified:u,remaining:s}),b(document.getElementById(\"less-error-message:\"+v(f)))}catch(r){E(r,f)}})}catch(a){E(a,f)}},function(e,t){throw new Error(\"Couldn't load \"+t+\" (\"+e+\")\")})}function v(e){return e.replace(/^[a-z]+:\\/\\/?[^\\/]+/,\"\").replace(/^\\//,\"\").replace(/\\?.*$/,\"\").replace(/\\.[^\\.\\/]+$/,\"\").replace(/[^\\.\\w-]+/g,\"-\").replace(/\\./g,\":\")}function m(e,t,n){var r,i=t.href?t.href.replace(/\\?.*$/,\"\"):\"\",s=\"less:\"+(t.title||v(i));if((r=document.getElementById(s))===null){r=document.createElement(\"style\"),r.type=\"text/css\",t.media&&(r.media=t.media),r.id=s;var o=t&&t.nextSibling||null;document.getElementsByTagName(\"head\")[0].insertBefore(r,o)}if(r.styleSheet)try{r.styleSheet.cssText=e}catch(a){throw new Error(\"Couldn't reassign styleSheet.cssText.\")}else(function(e){r.childNodes.length>0?r.firstChild.nodeValue!==e.nodeValue&&r.replaceChild(e,r.firstChild):r.appendChild(e)})(document.createTextNode(e));if(n&&u){w(\"saving \"+i+\" to cache.\");try{u.setItem(i,e),u.setItem(i+\":timestamp\",n)}catch(a){w(\"failed to save\")}}}function g(e,t,n,i){function a(t,n,r){t.status>=200&&t.status<300?n(t.responseText,t.getResponseHeader(\"Last-Modified\")):typeof r==\"function\"&&r(t.status,e)}var o=y(),u=s?r.fileAsync:r.async;typeof o.overrideMimeType==\"function\"&&o.overrideMimeType(\"text/css\"),o.open(\"GET\",e,u),o.setRequestHeader(\"Accept\",t||\"text/x-less, text/css; q=0.9, */*; q=0.5\"),o.send(null),s&&!r.fileAsync?o.status===0||o.status>=200&&o.status<300?n(o.responseText):i(o.status,e):u?o.onreadystatechange=function(){o.readyState==4&&a(o,n,i)}:a(o,n,i)}function y(){if(e.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\")}catch(t){return w(\"browser doesn't support AJAX.\"),null}}function b(e){return e&&e.parentNode.removeChild(e)}function w(e){r.env==\"development\"&&typeof console!=\"undefined\"&&console.log(\"less: \"+e)}function E(e,t){var n=\"less-error-message:\"+v(t),i='<li><label>{line}</label><pre class=\"{class}\">{content}</pre></li>',s=document.createElement(\"div\"),o,u,a=[],f=e.filename||t,l=f.match(/([^\\/]+)$/)[1];s.id=n,s.className=\"less-error-message\",u=\"<h3>\"+(e.message||\"There is an error in your .less file\")+\"</h3>\"+'<p>in <a href=\"'+f+'\">'+l+\"</a> \";var c=function(e,t,n){e.extract[t]&&a.push(i.replace(/\\{line\\}/,parseInt(e.line)+(t-1)).replace(/\\{class\\}/,n).replace(/\\{content\\}/,e.extract[t]))};e.stack?u+=\"<br/>\"+e.stack.split(\"\\n\").slice(1).join(\"<br/>\"):e.extract&&(c(e,0,\"\"),c(e,1,\"line\"),c(e,2,\"\"),u+=\"on line \"+e.line+\", column \"+(e.column+1)+\":</p>\"+\"<ul>\"+a.join(\"\")+\"</ul>\"),s.innerHTML=u,m([\".less-error-message ul, .less-error-message li {\",\"list-style-type: none;\",\"margin-right: 15px;\",\"padding: 4px 0;\",\"margin: 0;\",\"}\",\".less-error-message label {\",\"font-size: 12px;\",\"margin-right: 15px;\",\"padding: 4px 0;\",\"color: #cc7777;\",\"}\",\".less-error-message pre {\",\"color: #dd6666;\",\"padding: 4px 0;\",\"margin: 0;\",\"display: inline-block;\",\"}\",\".less-error-message pre.line {\",\"color: #ff0000;\",\"}\",\".less-error-message h3 {\",\"font-size: 20px;\",\"font-weight: bold;\",\"padding: 15px 0 5px 0;\",\"margin: 0;\",\"}\",\".less-error-message a {\",\"color: #10a\",\"}\",\".less-error-message .error {\",\"color: red;\",\"font-weight: bold;\",\"padding-bottom: 2px;\",\"border-bottom: 1px dashed red;\",\"}\"].join(\"\\n\"),{title:\"error-message\"}),s.style.cssText=[\"font-family: Arial, sans-serif\",\"border: 1px solid #e00\",\"background-color: #eee\",\"border-radius: 5px\",\"-webkit-border-radius: 5px\",\"-moz-border-radius: 5px\",\"color: #e00\",\"padding: 15px\",\"margin-bottom: 15px\"].join(\";\"),r.env==\"development\"&&(o=setInterval(function(){document.body&&(document.getElementById(n)?document.body.replaceChild(s,document.getElementById(n)):document.body.insertBefore(s,document.body.firstChild),clearInterval(o))},10))}Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)===\"[object Array]\"||e instanceof Array}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n=this.length>>>0;for(var r=0;r<n;r++)r in this&&e.call(t,this[r],r,this)}),Array.prototype.map||(Array.prototype.map=function(e){var t=this.length>>>0,n=new Array(t),r=arguments[1];for(var i=0;i<t;i++)i in this&&(n[i]=e.call(r,this[i],i,this));return n}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=[],n=arguments[1];for(var r=0;r<this.length;r++)e.call(n,this[r])&&t.push(this[r]);return t}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=this.length>>>0,n=0;if(t===0&&arguments.length===1)throw new TypeError;if(arguments.length>=2)var r=arguments[1];else do{if(n in this){r=this[n++];break}if(++n>=t)throw new TypeError}while(!0);for(;n<t;n++)n in this&&(r=e.call(null,r,this[n],n,this));return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,n=arguments[1]||0;if(!t)return-1;if(n>=t)return-1;n<0&&(n+=t);for(;n<t;n++){if(!Object.prototype.hasOwnProperty.call(this,n))continue;if(e===this[n])return n}return-1}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")});var r,i;typeof environment==\"object\"&&{}.toString.call(environment)===\"[object Environment]\"?(typeof e==\"undefined\"?r={}:r=e.less={},i=r.tree={},r.mode=\"rhino\"):typeof e==\"undefined\"?(r=exports,i=n(\"./tree\"),r.mode=\"node\"):(typeof e.less==\"undefined\"&&(e.less={}),r=e.less,i=e.less.tree={},r.mode=\"browser\"),r.Parser=function(t){function g(){a=c[u],f=o,h=o}function y(){c[u]=a,o=f,h=o}function b(){o>h&&(c[u]=c[u].slice(o-h),h=o)}function w(e){var t=e.charCodeAt(0);return t===32||t===10||t===9}function E(e){var t,n,r,i,a;if(e instanceof Function)return e.call(p.parsers);if(typeof e==\"string\")t=s.charAt(o)===e?e:null,r=1,b();else{b();if(!(t=e.exec(c[u])))return null;r=t[0].length}if(t)return S(r),typeof t==\"string\"?t:t.length===1?t[0]:t}function S(e){var t=o,n=u,r=o+c[u].length,i=o+=e;while(o<r){if(!w(s.charAt(o)))break;o++}return c[u]=c[u].slice(e+(o-i)),h=o,c[u].length===0&&u<c.length-1&&u++,t!==o||n!==u}function x(e,t){var n=E(e);if(!!n)return n;T(t||(typeof e==\"string\"?\"expected '\"+e+\"' got '\"+s.charAt(o)+\"'\":\"unexpected token\"))}function T(e,t){throw{index:o,type:t||\"Syntax\",message:e}}function N(e){return typeof e==\"string\"?s.charAt(o)===e:e.test(c[u])?!0:!1}function C(e,t){return e.filename&&t.filename&&e.filename!==t.filename?p.imports.contents[e.filename]:s}function k(e,t){for(var n=e,r=-1;n>=0&&t.charAt(n)!==\"\\n\";n--)r++;return{line:typeof e==\"number\"?(t.slice(0,e).match(/\\n/g)||\"\").length:null,column:r}}function L(e){return r.mode===\"browser\"||r.mode===\"rhino\"?e.filename:n(\"path\").resolve(e.filename)}function A(e,t,n){return{lineNumber:k(e,t).line+1,fileName:L(n)}}function O(e,t){var n=C(e,t),r=k(e.index,n),i=r.line,s=r.column,o=n.split(\"\\n\");this.type=e.type||\"Syntax\",this.message=e.message,this.filename=e.filename||t.filename,this.index=e.index,this.line=typeof i==\"number\"?i+1:null,this.callLine=e.call&&k(e.call,n).line+1,this.callExtract=o[k(e.call,n).line],this.stack=e.stack,this.column=s,this.extract=[o[i-1],o[i],o[i+1]]}var s,o,u,a,f,l,c,h,p,d=this,t=t||{};t.contents||(t.contents={});var v=function(){},m=this.imports={paths:t&&t.paths||[],queue:[],files:{},contents:t.contents,mime:t&&t.mime,error:null,push:function(e,n){var i=this;this.queue.push(e),r.Parser.importer(e,this.paths,function(t,r){i.queue.splice(i.queue.indexOf(e),1);var s=e in i.files;i.files[e]=r,t&&!i.error&&(i.error=t),n(t,r,s),i.queue.length===0&&v(t)},t)}};return this.env=t=t||{},this.optimization=\"optimization\"in this.env?this.env.optimization:1,this.env.filename=this.env.filename||null,p={imports:m,parse:function(e,a){var f,d,m,g,y,b,w=[],S,x=null;o=u=h=l=0,s=e.replace(/\\r\\n/g,\"\\n\"),s=s.replace(/^\\uFEFF/,\"\"),c=function(e){var n=0,r=/(?:@\\{[\\w-]+\\}|[^\"'`\\{\\}\\/\\(\\)\\\\])+/g,i=/\\/\\*(?:[^*]|\\*+[^\\/*])*\\*+\\/|\\/\\/.*/g,o=/\"((?:[^\"\\\\\\r\\n]|\\\\.)*)\"|'((?:[^'\\\\\\r\\n]|\\\\.)*)'|`((?:[^`]|\\\\.)*)`/g,u=0,a,f=e[0],l;for(var c=0,h,p;c<s.length;c++){r.lastIndex=c,(a=r.exec(s))&&a.index===c&&(c+=a[0].length,f.push(a[0])),h=s.charAt(c),i.lastIndex=o.lastIndex=c,(a=o.exec(s))&&a.index===c&&(c+=a[0].length,f.push(a[0]),h=s.charAt(c)),!l&&h===\"/\"&&(p=s.charAt(c+1),(p===\"/\"||p===\"*\")&&(a=i.exec(s))&&a.index===c&&(c+=a[0].length,f.push(a[0]),h=s.charAt(c)));switch(h){case\"{\":if(!l){u++,f.push(h);break};case\"}\":if(!l){u--,f.push(h),e[++n]=f=[];break};case\"(\":if(!l){l=!0,f.push(h);break};case\")\":if(l){l=!1,f.push(h);break};default:f.push(h)}}return u>0&&(x=new O({index:c,type:\"Parse\",message:\"missing closing `}`\",filename:t.filename},t)),e.map(function(e){return e.join(\"\")})}([[]]);if(x)return a(x);try{f=new i.Ruleset([],E(this.parsers.primary)),f.root=!0}catch(T){return a(new O(T,t))}f.toCSS=function(e){var s,o,u;return function(s,o){var u=[],a;s=s||{},typeof o==\"object\"&&!Array.isArray(o)&&(o=Object.keys(o).map(function(e){var t=o[e];return t instanceof i.Value||(t instanceof i.Expression||(t=new i.Expression([t])),t=new i.Value([t])),new i.Rule(\"@\"+e,t,!1,0)}),u=[new i.Ruleset(null,o)]);try{var f=e.call(this,{frames:u}).toCSS([],{compress:s.compress||!1,dumpLineNumbers:t.dumpLineNumbers})}catch(l){throw new O(l,t)}if(a=p.imports.error)throw a instanceof O?a:new O(a,t);return s.yuicompress&&r.mode===\"node\"?n(\"./cssmin\").compressor.cssmin(f):s.compress?f.replace(/(\\s)+/g,\"$1\"):f}}(f.eval);if(o<s.length-1){o=l,b=s.split(\"\\n\"),y=(s.slice(0,o).match(/\\n/g)||\"\").length+1;for(var N=o,C=-1;N>=0&&s.charAt(N)!==\"\\n\";N--)C++;x={type:\"Parse\",message:\"Syntax Error on line \"+y,index:o,filename:t.filename,line:y,column:C,extract:[b[y-2],b[y-1],b[y]]}}this.imports.queue.length>0?v=function(e){e?a(e):a(null,f)}:a(x,f)},parsers:{primary:function(){var e,t=[];while((e=E(this.mixin.definition)||E(this.rule)||E(this.ruleset)||E(this.mixin.call)||E(this.comment)||E(this.directive))||E(/^[\\s\\n]+/))e&&t.push(e);return t},comment:function(){var e;if(s.charAt(o)!==\"/\")return;if(s.charAt(o+1)===\"/\")return new i.Comment(E(/^\\/\\/.*/),!0);if(e=E(/^\\/\\*(?:[^*]|\\*+[^\\/*])*\\*+\\/\\n?/))return new i.Comment(e)},entities:{quoted:function(){var e,t=o,n;s.charAt(t)===\"~\"&&(t++,n=!0);if(s.charAt(t)!=='\"'&&s.charAt(t)!==\"'\")return;n&&E(\"~\");if(e=E(/^\"((?:[^\"\\\\\\r\\n]|\\\\.)*)\"|'((?:[^'\\\\\\r\\n]|\\\\.)*)'/))return new i.Quoted(e[0],e[1]||e[2],n)},keyword:function(){var e;if(e=E(/^[_A-Za-z-][_A-Za-z0-9-]*/))return i.colors.hasOwnProperty(e)?new i.Color(i.colors[e].slice(1)):new i.Keyword(e)},call:function(){var e,n,r,s,a=o;if(!(e=/^([\\w-]+|%|progid:[\\w\\.]+)\\(/.exec(c[u])))return;e=e[1],n=e.toLowerCase();if(n===\"url\")return null;o+=e.length;if(n===\"alpha\"){s=E(this.alpha);if(typeof s!=\"undefined\")return s}E(\"(\"),r=E(this.entities.arguments);if(!E(\")\"))return;if(e)return new i.Call(e,r,a,t.filename)},arguments:function(){var e=[],t;while(t=E(this.entities.assignment)||E(this.expression)){e.push(t);if(!E(\",\"))break}return e},literal:function(){return E(this.entities.ratio)||E(this.entities.dimension)||E(this.entities.color)||E(this.entities.quoted)},assignment:function(){var e,t;if((e=E(/^\\w+(?=\\s?=)/i))&&E(\"=\")&&(t=E(this.entity)))return new i.Assignment(e,t)},url:function(){var e;if(s.charAt(o)!==\"u\"||!E(/^url\\(/))return;return e=E(this.entities.quoted)||E(this.entities.variable)||E(/^(?:(?:\\\\[\\(\\)'\"])|[^\\(\\)'\"])+/)||\"\",x(\")\"),new i.URL(e.value!=null||e instanceof i.Variable?e:new i.Anonymous(e),m.paths)},variable:function(){var e,n=o;if(s.charAt(o)===\"@\"&&(e=E(/^@@?[\\w-]+/)))return new i.Variable(e,n,t.filename)},variableCurly:function(){var e,n,r=o;if(s.charAt(o)===\"@\"&&(n=E(/^@\\{([\\w-]+)\\}/)))return new i.Variable(\"@\"+n[1],r,t.filename)},color:function(){var e;if(s.charAt(o)===\"#\"&&(e=E(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/)))return new i.Color(e[1])},dimension:function(){var e,t=s.charCodeAt(o);if(t>57||t<45||t===47)return;if(e=E(/^(-?\\d*\\.?\\d+)(px|%|em|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn|dpi|dpcm|dppx|rem|vw|vh|vmin|vm|ch)?/))return new i.Dimension(e[1],e[2])},ratio:function(){var e,t=s.charCodeAt(o);if(t>57||t<48)return;if(e=E(/^(\\d+\\/\\d+)/))return new i.Ratio(e[1])},javascript:function(){var e,t=o,n;s.charAt(t)===\"~\"&&(t++,n=!0);if(s.charAt(t)!==\"`\")return;n&&E(\"~\");if(e=E(/^`([^`]*)`/))return new i.JavaScript(e[1],o,n)}},variable:function(){var e;if(s.charAt(o)===\"@\"&&(e=E(/^(@[\\w-]+)\\s*:/)))return e[1]},shorthand:function(){var e,t;if(!N(/^[@\\w.%-]+\\/[@\\w.-]+/))return;g();if((e=E(this.entity))&&E(\"/\")&&(t=E(this.entity)))return new i.Shorthand(e,t);y()},mixin:{call:function(){var e=[],n,r,u=[],a,f=o,l=s.charAt(o),c,h,p=!1;if(l!==\".\"&&l!==\"#\")return;g();while(n=E(/^[#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/))e.push(new i.Element(r,n,o)),r=E(\">\");if(E(\"(\")){while(a=E(this.expression)){h=a,c=null;if(a.value.length==1){var d=a.value[0];if(d instanceof i.Variable&&E(\":\")){if(!(h=E(this.expression)))throw new Error(\"Expected value\");c=d.name}}u.push({name:c,value:h});if(!E(\",\"))break}if(!E(\")\"))throw new Error(\"Expected )\")}E(this.important)&&(p=!0);if(e.length>0&&(E(\";\")||N(\"}\")))return new i.mixin.Call(e,u,f,t.filename,p);y()},definition:function(){var e,t=[],n,r,u,a,f,c=!1;if(s.charAt(o)!==\".\"&&s.charAt(o)!==\"#\"||N(/^[^{]*(;|})/))return;g();if(n=E(/^([#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\\s*\\(/)){e=n[1];do{if(s.charAt(o)===\".\"&&E(/^\\.{3}/)){c=!0;break}if(!(u=E(this.entities.variable)||E(this.entities.literal)||E(this.entities.keyword)))break;if(u instanceof i.Variable)if(E(\":\"))a=x(this.expression,\"expected expression\"),t.push({name:u.name,value:a});else{if(E(/^\\.{3}/)){t.push({name:u.name,variadic:!0}),c=!0;break}t.push({name:u.name})}else t.push({value:u})}while(E(\",\"));E(\")\")||(l=o,y()),E(/^when/)&&(f=x(this.conditions,\"expected condition\")),r=E(this.block);if(r)return new i.mixin.Definition(e,t,r,f,c);y()}}},entity:function(){return E(this.entities.literal)||E(this.entities.variable)||E(this.entities.url)||E(this.entities.call)||E(this.entities.keyword)||E(this.entities.javascript)||E(this.comment)},end:function(){return E(\";\")||N(\"}\")},alpha:function(){var e;if(!E(/^\\(opacity=/i))return;if(e=E(/^\\d+/)||E(this.entities.variable))return x(\")\"),new i.Alpha(e)},element:function(){var e,t,n,r;n=E(this.combinator),e=E(/^(?:\\d+\\.\\d+|\\d+)%/)||E(/^(?:[.#]?|:*)(?:[\\w-]|[^\\x00-\\x9f]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||E(\"*\")||E(\"&\")||E(this.attribute)||E(/^\\([^)@]+\\)/)||E(/^[\\.#](?=@)/)||E(this.entities.variableCurly),e||E(\"(\")&&(r=E(this.entities.variableCurly)||E(this.entities.variable))&&E(\")\")&&(e=new i.Paren(r));if(e)return new i.Element(n,e,o)},combinator:function(){var e,t=s.charAt(o);if(t===\">\"||t===\"+\"||t===\"~\"){o++;while(s.charAt(o).match(/\\s/))o++;return new i.Combinator(t)}return s.charAt(o-1).match(/\\s/)?new i.Combinator(\" \"):new i.Combinator(null)},selector:function(){var e,t,n=[],r,u;if(E(\"(\"))return e=E(this.entity),x(\")\"),new i.Selector([new i.Element(\"\",e,o)]);while(t=E(this.element)){r=s.charAt(o),n.push(t);if(r===\"{\"||r===\"}\"||r===\";\"||r===\",\")break}if(n.length>0)return new i.Selector(n)},tag:function(){return E(/^[A-Za-z][A-Za-z-]*[0-9]?/)||E(\"*\")},attribute:function(){var e=\"\",t,n,r;if(!E(\"[\"))return;if(t=E(/^(?:[_A-Za-z0-9-]|\\\\.)+/)||E(this.entities.quoted))(r=E(/^[|~*$^]?=/))&&(n=E(this.entities.quoted)||E(/^[\\w-]+/))?e=[t,r,n.toCSS?n.toCSS():n].join(\"\"):e=t;if(!E(\"]\"))return;if(e)return\"[\"+e+\"]\"},block:function(){var e;if(E(\"{\")&&(e=E(this.primary))&&E(\"}\"))return e},ruleset:function(){var e=[],n,r,u,a;g(),t.dumpLineNumbers&&(a=A(o,s,t));while(n=E(this.selector)){e.push(n),E(this.comment);if(!E(\",\"))break;E(this.comment)}if(e.length>0&&(r=E(this.block))){var f=new i.Ruleset(e,r,t.strictImports);return t.dumpLineNumbers&&(f.debugInfo=a),f}l=o,y()},rule:function(){var e,t,n=s.charAt(o),r,a;g();if(n===\".\"||n===\"#\"||n===\"&\")return;if(e=E(this.variable)||E(this.property)){e.charAt(0)!=\"@\"&&(a=/^([^@+\\/'\"*`(;{}-]*);/.exec(c[u]))?(o+=a[0].length-1,t=new i.Anonymous(a[1])):e===\"font\"?t=E(this.font):t=E(this.value),r=E(this.important);if(t&&E(this.end))return new i.Rule(e,t,r,f);l=o,y()}},\"import\":function(){var e,t,n=o;g();var r=E(/^@import(?:-(once))?\\s+/);if(r&&(e=E(this.entities.quoted)||E(this.entities.url))){t=E(this.mediaFeatures);if(E(\";\"))return new i.Import(e,m,t,r[1]===\"once\",n)}y()},mediaFeature:function(){var e,t,n=[];do if(e=E(this.entities.keyword))n.push(e);else if(E(\"(\")){t=E(this.property),e=E(this.entity);if(!E(\")\"))return null;if(t&&e)n.push(new i.Paren(new i.Rule(t,e,null,o,!0)));else{if(!e)return null;n.push(new i.Paren(e))}}while(e);if(n.length>0)return new i.Expression(n)},mediaFeatures:function(){var e,t=[];do if(e=E(this.mediaFeature)){t.push(e);if(!E(\",\"))break}else if(e=E(this.entities.variable)){t.push(e);if(!E(\",\"))break}while(e);return t.length>0?t:null},media:function(){var e,n,r,u;t.dumpLineNumbers&&(u=A(o,s,t));if(E(/^@media/)){e=E(this.mediaFeatures);if(n=E(this.block))return r=new i.Media(n,e),t.dumpLineNumbers&&(r.debugInfo=u),r}},directive:function(){var e,t,n,r,u,a,f,l,c;if(s.charAt(o)!==\"@\")return;if(t=E(this[\"import\"])||E(this.media))return t;g(),e=E(/^@[a-z-]+/),f=e,e.charAt(1)==\"-\"&&e.indexOf(\"-\",2)>0&&(f=\"@\"+e.slice(e.indexOf(\"-\",2)+1));switch(f){case\"@font-face\":l=!0;break;case\"@viewport\":case\"@top-left\":case\"@top-left-corner\":case\"@top-center\":case\"@top-right\":case\"@top-right-corner\":case\"@bottom-left\":case\"@bottom-left-corner\":case\"@bottom-center\":case\"@bottom-right\":case\"@bottom-right-corner\":case\"@left-top\":case\"@left-middle\":case\"@left-bottom\":case\"@right-top\":case\"@right-middle\":case\"@right-bottom\":l=!0;break;case\"@page\":case\"@document\":case\"@supports\":case\"@keyframes\":l=!0,c=!0}c&&(e+=\" \"+(E(/^[^{]+/)||\"\").trim());if(l){if(n=E(this.block))return new i.Directive(e,n)}else if((t=E(this.entity))&&E(\";\"))return new i.Directive(e,t);y()},font:function(){var e=[],t=[],n,r,s,o;while(o=E(this.shorthand)||E(this.entity))t.push(o);e.push(new i.Expression(t));if(E(\",\"))while(o=E(this.expression)){e.push(o);if(!E(\",\"))break}return new i.Value(e)},value:function(){var e,t=[],n;while(e=E(this.expression)){t.push(e);if(!E(\",\"))break}if(t.length>0)return new i.Value(t)},important:function(){if(s.charAt(o)===\"!\")return E(/^! *important/)},sub:function(){var e;if(E(\"(\")&&(e=E(this.expression))&&E(\")\"))return e},multiplication:function(){var e,t,n,r;if(e=E(this.operand)){while(!N(/^\\/\\*/)&&(n=E(\"/\")||E(\"*\"))&&(t=E(this.operand)))r=new i.Operation(n,[r||e,t]);return r||e}},addition:function(){var e,t,n,r;if(e=E(this.multiplication)){while((n=E(/^[-+]\\s+/)||!w(s.charAt(o-1))&&(E(\"+\")||E(\"-\")))&&(t=E(this.multiplication)))r=new i.Operation(n,[r||e,t]);return r||e}},conditions:function(){var e,t,n=o,r;if(e=E(this.condition)){while(E(\",\")&&(t=E(this.condition)))r=new i.Condition(\"or\",r||e,t,n);return r||e}},condition:function(){var e,t,n,r,s=o,u=!1;E(/^not/)&&(u=!0),x(\"(\");if(e=E(this.addition)||E(this.entities.keyword)||E(this.entities.quoted))return(r=E(/^(?:>=|=<|[<=>])/))?(t=E(this.addition)||E(this.entities.keyword)||E(this.entities.quoted))?n=new i.Condition(r,e,t,s,u):T(\"expected expression\"):n=new i.Condition(\"=\",e,new i.Keyword(\"true\"),s,u),x(\")\"),E(/^and/)?new i.Condition(\"and\",n,E(this.condition)):n},operand:function(){var e,t=s.charAt(o+1);s.charAt(o)===\"-\"&&(t===\"@\"||t===\"(\")&&(e=E(\"-\"));var n=E(this.sub)||E(this.entities.dimension)||E(this.entities.color)||E(this.entities.variable)||E(this.entities.call);return e?new i.Operation(\"*\",[new i.Dimension(-1),n]):n},expression:function(){var e,t,n=[],r;while(e=E(this.addition)||E(this.entity))n.push(e);if(n.length>0)return new i.Expression(n)},property:function(){var e;if(e=E(/^(\\*?-?[_a-z0-9-]+)\\s*:/))return e[1]}}}};if(r.mode===\"browser\"||r.mode===\"rhino\")r.Parser.importer=function(e,t,n,r){!/^([a-z-]+:)?\\//.test(e)&&t.length>0&&(e=t[0]+e),d({href:e,title:e,type:r.mime,contents:r.contents},function(i){i&&typeof r.errback==\"function\"?r.errback.call(null,e,t,n,r):n.apply(null,arguments)},!0)};(function(e){function t(t){return e.functions.hsla(t.h,t.s,t.l,t.a)}function n(t){if(t instanceof e.Dimension)return parseFloat(t.unit==\"%\"?t.value/100:t.value);if(typeof t==\"number\")return t;throw{error:\"RuntimeError\",message:\"color functions take numbers as parameters\"}}function r(e){return Math.min(1,Math.max(0,e))}e.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(t,r,i,s){var o=[t,r,i].map(function(e){return n(e)}),s=n(s);return new e.Color(o,s)},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,r,i){function u(e){return e=e<0?e+1:e>1?e-1:e,e*6<1?o+(s-o)*e*6:e*2<1?s:e*3<2?o+(s-o)*(2/3-e)*6:o}e=n(e)%360/360,t=n(t),r=n(r),i=n(i);var s=r<=.5?r*(t+1):r+t-r*t,o=r*2-s;return this.rgba(u(e+1/3)*255,u(e)*255,u(e-1/3)*255,i)},hue:function(t){return new e.Dimension(Math.round(t.toHSL().h))},saturation:function(t){return new e.Dimension(Math.round(t.toHSL().s*100),\"%\")},lightness:function(t){return new e.Dimension(Math.round(t.toHSL().l*100),\"%\")},red:function(t){return new e.Dimension(t.rgb[0])},green:function(t){return new e.Dimension(t.rgb[1])},blue:function(t){return new e.Dimension(t.rgb[2])},alpha:function(t){return new e.Dimension(t.toHSL().a)},luma:function(t){return new e.Dimension(Math.round((.2126*(t.rgb[0]/255)+.7152*(t.rgb[1]/255)+.0722*(t.rgb[2]/255))*t.alpha*100),\"%\")},saturate:function(e,n){var i=e.toHSL();return i.s+=n.value/100,i.s=r(i.s),t(i)},desaturate:function(e,n){var i=e.toHSL();return i.s-=n.value/100,i.s=r(i.s),t(i)},lighten:function(e,n){var i=e.toHSL();return i.l+=n.value/100,i.l=r(i.l),t(i)},darken:function(e,n){var i=e.toHSL();return i.l-=n.value/100,i.l=r(i.l),t(i)},fadein:function(e,n){var i=e.toHSL();return i.a+=n.value/100,i.a=r(i.a),t(i)},fadeout:function(e,n){var i=e.toHSL();return i.a-=n.value/100,i.a=r(i.a),t(i)},fade:function(e,n){var i=e.toHSL();return i.a=n.value/100,i.a=r(i.a),t(i)},spin:function(e,n){var r=e.toHSL(),i=(r.h+n.value)%360;return r.h=i<0?360+i:i,t(r)},mix:function(t,n,r){r||(r=new e.Dimension(50));var i=r.value/100,s=i*2-1,o=t.toHSL().a-n.toHSL().a,u=((s*o==-1?s:(s+o)/(1+s*o))+1)/2,a=1-u,f=[t.rgb[0]*u+n.rgb[0]*a,t.rgb[1]*u+n.rgb[1]*a,t.rgb[2]*u+n.rgb[2]*a],l=t.alpha*i+n.alpha*(1-i);return new e.Color(f,l)},greyscale:function(t){return this.desaturate(t,new e.Dimension(100))},contrast:function(e,t,n,r){return typeof n==\"undefined\"&&(n=this.rgba(255,255,255,1)),typeof t==\"undefined\"&&(t=this.rgba(0,0,0,1)),typeof r==\"undefined\"?r=.43:r=r.value,(.2126*(e.rgb[0]/255)+.7152*(e.rgb[1]/255)+.0722*(e.rgb[2]/255))*e.alpha<r?n:t},e:function(t){return new e.Anonymous(t instanceof e.JavaScript?t.evaluated:t)},escape:function(t){return new e.Anonymous(encodeURI(t.value).replace(/=/g,\"%3D\").replace(/:/g,\"%3A\").replace(/#/g,\"%23\").replace(/;/g,\"%3B\").replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\"))},\"%\":function(t){var n=Array.prototype.slice.call(arguments,1),r=t.value;for(var i=0;i<n.length;i++)r=r.replace(/%[sda]/i,function(e){var t=e.match(/s/i)?n[i].value:n[i].toCSS();return e.match(/[A-Z]$/)?encodeURIComponent(t):t});return r=r.replace(/%%/g,\"%\"),new e.Quoted('\"'+r+'\"',r)},round:function(t,r){var i=typeof r==\"undefined\"?0:r.value;if(t instanceof e.Dimension)return new e.Dimension(n(t).toFixed(i),t.unit);if(typeof t==\"number\")return t.toFixed(i);throw{type:\"Argument\",message:\"argument must be a number\"}},ceil:function(e){return this._math(\"ceil\",e)},floor:function(e){return this._math(\"floor\",e)},_math:function(t,r){if(r instanceof e.Dimension)return new e.Dimension(Math[t](n(r)),r.unit);if(typeof r==\"number\")return Math[t](r);throw{type:\"Argument\",message:\"argument must be a number\"}},argb:function(t){return new e.Anonymous(t.toARGB())},percentage:function(t){return new e.Dimension(t.value*100,\"%\")},color:function(t){if(t instanceof e.Quoted)return new e.Color(t.value.slice(1));throw{type:\"Argument\",message:\"argument must be a string\"}},iscolor:function(t){return this._isa(t,e.Color)},isnumber:function(t){return this._isa(t,e.Dimension)},isstring:function(t){return this._isa(t,e.Quoted)},iskeyword:function(t){return this._isa(t,e.Keyword)},isurl:function(t){return this._isa(t,e.URL)},ispixel:function(t){return t instanceof e.Dimension&&t.unit===\"px\"?e.True:e.False},ispercentage:function(t){return t instanceof e.Dimension&&t.unit===\"%\"?e.True:e.False},isem:function(t){return t instanceof e.Dimension&&t.unit===\"em\"?e.True:e.False},_isa:function(t,n){return t instanceof n?e.True:e.False},multiply:function(e,t){var n=e.rgb[0]*t.rgb[0]/255,r=e.rgb[1]*t.rgb[1]/255,i=e.rgb[2]*t.rgb[2]/255;return this.rgb(n,r,i)},screen:function(e,t){var n=255-(255-e.rgb[0])*(255-t.rgb[0])/255,r=255-(255-e.rgb[1])*(255-t.rgb[1])/255,i=255-(255-e.rgb[2])*(255-t.rgb[2])/255;return this.rgb(n,r,i)},overlay:function(e,t){var n=e.rgb[0]<128?2*e.rgb[0]*t.rgb[0]/255:255-2*(255-e.rgb[0])*(255-t.rgb[0])/255,r=e.rgb[1]<128?2*e.rgb[1]*t.rgb[1]/255:255-2*(255-e.rgb[1])*(255-t.rgb[1])/255,i=e.rgb[2]<128?2*e.rgb[2]*t.rgb[2]/255:255-2*(255-e.rgb[2])*(255-t.rgb[2])/255;return this.rgb(n,r,i)},softlight:function(e,t){var n=t.rgb[0]*e.rgb[0]/255,r=n+e.rgb[0]*(255-(255-e.rgb[0])*(255-t.rgb[0])/255-n)/255;n=t.rgb[1]*e.rgb[1]/255;var i=n+e.rgb[1]*(255-(255-e.rgb[1])*(255-t.rgb[1])/255-n)/255;n=t.rgb[2]*e.rgb[2]/255;var s=n+e.rgb[2]*(255-(255-e.rgb[2])*(255-t.rgb[2])/255-n)/255;return this.rgb(r,i,s)},hardlight:function(e,t){var n=t.rgb[0]<128?2*t.rgb[0]*e.rgb[0]/255:255-2*(255-t.rgb[0])*(255-e.rgb[0])/255,r=t.rgb[1]<128?2*t.rgb[1]*e.rgb[1]/255:255-2*(255-t.rgb[1])*(255-e.rgb[1])/255,i=t.rgb[2]<128?2*t.rgb[2]*e.rgb[2]/255:255-2*(255-t.rgb[2])*(255-e.rgb[2])/255;return this.rgb(n,r,i)},difference:function(e,t){var n=Math.abs(e.rgb[0]-t.rgb[0]),r=Math.abs(e.rgb[1]-t.rgb[1]),i=Math.abs(e.rgb[2]-t.rgb[2]);return this.rgb(n,r,i)},exclusion:function(e,t){var n=e.rgb[0]+t.rgb[0]*(255-e.rgb[0]-e.rgb[0])/255,r=e.rgb[1]+t.rgb[1]*(255-e.rgb[1]-e.rgb[1])/255,i=e.rgb[2]+t.rgb[2]*(255-e.rgb[2]-e.rgb[2])/255;return this.rgb(n,r,i)},average:function(e,t){var n=(e.rgb[0]+t.rgb[0])/2,r=(e.rgb[1]+t.rgb[1])/2,i=(e.rgb[2]+t.rgb[2])/2;return this.rgb(n,r,i)},negation:function(e,t){var n=255-Math.abs(255-t.rgb[0]-e.rgb[0]),r=255-Math.abs(255-t.rgb[1]-e.rgb[1]),i=255-Math.abs(255-t.rgb[2]-e.rgb[2]);return this.rgb(n,r,i)},tint:function(e,t){return this.mix(this.rgb(255,255,255),e,t)},shade:function(e,t){return this.mix(this.rgb(0,0,0),e,t)}}})(n(\"./tree\")),function(e){e.colors={aliceblue:\"#f0f8ff\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",aquamarine:\"#7fffd4\",azure:\"#f0ffff\",beige:\"#f5f5dc\",bisque:\"#ffe4c4\",black:\"#000000\",blanchedalmond:\"#ffebcd\",blue:\"#0000ff\",blueviolet:\"#8a2be2\",brown:\"#a52a2a\",burlywood:\"#deb887\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",cornflowerblue:\"#6495ed\",cornsilk:\"#fff8dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkgray:\"#a9a9a9\",darkgrey:\"#a9a9a9\",darkgreen:\"#006400\",darkkhaki:\"#bdb76b\",darkmagenta:\"#8b008b\",darkolivegreen:\"#556b2f\",darkorange:\"#ff8c00\",darkorchid:\"#9932cc\",darkred:\"#8b0000\",darksalmon:\"#e9967a\",darkseagreen:\"#8fbc8f\",darkslateblue:\"#483d8b\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",darkturquoise:\"#00ced1\",darkviolet:\"#9400d3\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1e90ff\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",forestgreen:\"#228b22\",fuchsia:\"#ff00ff\",gainsboro:\"#dcdcdc\",ghostwhite:\"#f8f8ff\",gold:\"#ffd700\",goldenrod:\"#daa520\",gray:\"#808080\",grey:\"#808080\",green:\"#008000\",greenyellow:\"#adff2f\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",ivory:\"#fffff0\",khaki:\"#f0e68c\",lavender:\"#e6e6fa\",lavenderblush:\"#fff0f5\",lawngreen:\"#7cfc00\",lemonchiffon:\"#fffacd\",lightblue:\"#add8e6\",lightcoral:\"#f08080\",lightcyan:\"#e0ffff\",lightgoldenrodyellow:\"#fafad2\",lightgray:\"#d3d3d3\",lightgrey:\"#d3d3d3\",lightgreen:\"#90ee90\",lightpink:\"#ffb6c1\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",lightskyblue:\"#87cefa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",lightsteelblue:\"#b0c4de\",lightyellow:\"#ffffe0\",lime:\"#00ff00\",limegreen:\"#32cd32\",linen:\"#faf0e6\",magenta:\"#ff00ff\",maroon:\"#800000\",mediumaquamarine:\"#66cdaa\",mediumblue:\"#0000cd\",mediumorchid:\"#ba55d3\",mediumpurple:\"#9370d8\",mediumseagreen:\"#3cb371\",mediumslateblue:\"#7b68ee\",mediumspringgreen:\"#00fa9a\",mediumturquoise:\"#48d1cc\",mediumvioletred:\"#c71585\",midnightblue:\"#191970\",mintcream:\"#f5fffa\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",navajowhite:\"#ffdead\",navy:\"#000080\",oldlace:\"#fdf5e6\",olive:\"#808000\",olivedrab:\"#6b8e23\",orange:\"#ffa500\",orangered:\"#ff4500\",orchid:\"#da70d6\",palegoldenrod:\"#eee8aa\",palegreen:\"#98fb98\",paleturquoise:\"#afeeee\",palevioletred:\"#d87093\",papayawhip:\"#ffefd5\",peachpuff:\"#ffdab9\",peru:\"#cd853f\",pink:\"#ffc0cb\",plum:\"#dda0dd\",powderblue:\"#b0e0e6\",purple:\"#800080\",red:\"#ff0000\",rosybrown:\"#bc8f8f\",royalblue:\"#4169e1\",saddlebrown:\"#8b4513\",salmon:\"#fa8072\",sandybrown:\"#f4a460\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",sienna:\"#a0522d\",silver:\"#c0c0c0\",skyblue:\"#87ceeb\",slateblue:\"#6a5acd\",slategray:\"#708090\",slategrey:\"#708090\",snow:\"#fffafa\",springgreen:\"#00ff7f\",steelblue:\"#4682b4\",tan:\"#d2b48c\",teal:\"#008080\",thistle:\"#d8bfd8\",tomato:\"#ff6347\",turquoise:\"#40e0d0\",violet:\"#ee82ee\",wheat:\"#f5deb3\",white:\"#ffffff\",whitesmoke:\"#f5f5f5\",yellow:\"#ffff00\",yellowgreen:\"#9acd32\"}}(n(\"./tree\")),function(e){e.Alpha=function(e){this.value=e},e.Alpha.prototype={toCSS:function(){return\"alpha(opacity=\"+(this.value.toCSS?this.value.toCSS():this.value)+\")\"},eval:function(e){return this.value.eval&&(this.value=this.value.eval(e)),this}}}(n(\"../tree\")),function(e){e.Anonymous=function(e){this.value=e.value||e},e.Anonymous.prototype={toCSS:function(){return this.value},eval:function(){return this},compare:function(e){if(!e.toCSS)return-1;var t=this.toCSS(),n=e.toCSS();return t===n?0:t<n?-1:1}}}(n(\"../tree\")),function(e){e.Assignment=function(e,t){this.key=e,this.value=t},e.Assignment.prototype={toCSS:function(){return this.key+\"=\"+(this.value.toCSS?this.value.toCSS():this.value)},eval:function(t){return this.value.eval?new e.Assignment(this.key,this.value.eval(t)):this}}}(n(\"../tree\")),function(e){e.Call=function(e,t,n,r){this.name=e,this.args=t,this.index=n,this.filename=r},e.Call.prototype={eval:function(t){var n=this.args.map(function(e){return e.eval(t)});if(!(this.name in e.functions))return new e.Anonymous(this.name+\"(\"+n.map(function(e){return e.toCSS(t)}).join(\", \")+\")\");try{return e.functions[this.name].apply(e.functions,n)}catch(r){throw{type:r.type||\"Runtime\",message:\"error evaluating function `\"+this.name+\"`\"+(r.message?\": \"+r.message:\"\"),index:this.index,filename:this.filename}}},toCSS:function(e){return this.eval(e).toCSS()}}}(n(\"../tree\")),function(e){e.Color=function(e,t){Array.isArray(e)?this.rgb=e:e.length==6?this.rgb=e.match(/.{2}/g).map(function(e){return parseInt(e,16)}):this.rgb=e.split(\"\").map(function(e){return parseInt(e+e,16)}),this.alpha=typeof t==\"number\"?t:1},e.Color.prototype={eval:function(){return this},toCSS:function(){return this.alpha<1?\"rgba(\"+this.rgb.map(function(e){return Math.round(e)}).concat(this.alpha).join(\", \")+\")\":\"#\"+this.rgb.map(function(e){return e=Math.round(e),e=(e>255?255:e<0?0:e).toString(16),e.length===1?\"0\"+e:e}).join(\"\")},operate:function(t,n){var r=[];n instanceof e.Color||(n=n.toColor());for(var i=0;i<3;i++)r[i]=e.operate(t,this.rgb[i],n.rgb[i]);return new e.Color(r,this.alpha+n.alpha)},toHSL:function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,n=this.rgb[2]/255,r=this.alpha,i=Math.max(e,t,n),s=Math.min(e,t,\nn),o,u,a=(i+s)/2,f=i-s;if(i===s)o=u=0;else{u=a>.5?f/(2-i-s):f/(i+s);switch(i){case e:o=(t-n)/f+(t<n?6:0);break;case t:o=(n-e)/f+2;break;case n:o=(e-t)/f+4}o/=6}return{h:o*360,s:u,l:a,a:r}},toARGB:function(){var e=[Math.round(this.alpha*255)].concat(this.rgb);return\"#\"+e.map(function(e){return e=Math.round(e),e=(e>255?255:e<0?0:e).toString(16),e.length===1?\"0\"+e:e}).join(\"\")},compare:function(e){return e.rgb?e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:-1:-1}}}(n(\"../tree\")),function(e){e.Comment=function(e,t){this.value=e,this.silent=!!t},e.Comment.prototype={toCSS:function(e){return e.compress?\"\":this.value},eval:function(){return this}}}(n(\"../tree\")),function(e){e.Condition=function(e,t,n,r,i){this.op=e.trim(),this.lvalue=t,this.rvalue=n,this.index=r,this.negate=i},e.Condition.prototype.eval=function(e){var t=this.lvalue.eval(e),n=this.rvalue.eval(e),r=this.index,i,i=function(e){switch(e){case\"and\":return t&&n;case\"or\":return t||n;default:if(t.compare)i=t.compare(n);else{if(!n.compare)throw{type:\"Type\",message:\"Unable to perform comparison\",index:r};i=n.compare(t)}switch(i){case-1:return e===\"<\"||e===\"=<\";case 0:return e===\"=\"||e===\">=\"||e===\"=<\";case 1:return e===\">\"||e===\">=\"}}}(this.op);return this.negate?!i:i}}(n(\"../tree\")),function(e){e.Dimension=function(e,t){this.value=parseFloat(e),this.unit=t||null},e.Dimension.prototype={eval:function(){return this},toColor:function(){return new e.Color([this.value,this.value,this.value])},toCSS:function(){var e=this.value+this.unit;return e},operate:function(t,n){return new e.Dimension(e.operate(t,this.value,n.value),this.unit||n.unit)},compare:function(t){return t instanceof e.Dimension?t.value>this.value?-1:t.value<this.value?1:0:-1}}}(n(\"../tree\")),function(e){e.Directive=function(t,n){this.name=t,Array.isArray(n)?(this.ruleset=new e.Ruleset([],n),this.ruleset.allowImports=!0):this.value=n},e.Directive.prototype={toCSS:function(e,t){return this.ruleset?(this.ruleset.root=!0,this.name+(t.compress?\"{\":\" {\\n  \")+this.ruleset.toCSS(e,t).trim().replace(/\\n/g,\"\\n  \")+(t.compress?\"}\":\"\\n}\\n\")):this.name+\" \"+this.value.toCSS()+\";\\n\"},eval:function(t){var n=this;return this.ruleset&&(t.frames.unshift(this),n=new e.Directive(this.name),n.ruleset=this.ruleset.eval(t),t.frames.shift()),n},variable:function(t){return e.Ruleset.prototype.variable.call(this.ruleset,t)},find:function(){return e.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return e.Ruleset.prototype.rulesets.apply(this.ruleset)}}}(n(\"../tree\")),function(e){e.Element=function(t,n,r){this.combinator=t instanceof e.Combinator?t:new e.Combinator(t),typeof n==\"string\"?this.value=n.trim():n?this.value=n:this.value=\"\",this.index=r},e.Element.prototype.eval=function(t){return new e.Element(this.combinator,this.value.eval?this.value.eval(t):this.value,this.index)},e.Element.prototype.toCSS=function(e){var t=this.value.toCSS?this.value.toCSS(e):this.value;return t==\"\"&&this.combinator.value.charAt(0)==\"&\"?\"\":this.combinator.toCSS(e||{})+t},e.Combinator=function(e){e===\" \"?this.value=\" \":this.value=e?e.trim():\"\"},e.Combinator.prototype.toCSS=function(e){return{\"\":\"\",\" \":\" \",\":\":\" :\",\"+\":e.compress?\"+\":\" + \",\"~\":e.compress?\"~\":\" ~ \",\">\":e.compress?\">\":\" > \"}[this.value]}}(n(\"../tree\")),function(e){e.Expression=function(e){this.value=e},e.Expression.prototype={eval:function(t){return this.value.length>1?new e.Expression(this.value.map(function(e){return e.eval(t)})):this.value.length===1?this.value[0].eval(t):this},toCSS:function(e){return this.value.map(function(t){return t.toCSS?t.toCSS(e):\"\"}).join(\" \")}}}(n(\"../tree\")),function(e){e.Import=function(t,n,r,i,s){var o=this;this.once=i,this.index=s,this._path=t,this.features=r&&new e.Value(r),t instanceof e.Quoted?this.path=/\\.(le?|c)ss(\\?.*)?$/.test(t.value)?t.value:t.value+\".less\":this.path=t.value.value||t.value,this.css=/css(\\?.*)?$/.test(this.path),this.css||n.push(this.path,function(t,n,r){t&&(t.index=s),r&&o.once&&(o.skip=r),o.root=n||new e.Ruleset([],[])})},e.Import.prototype={toCSS:function(e){var t=this.features?\" \"+this.features.toCSS(e):\"\";return this.css?\"@import \"+this._path.toCSS()+t+\";\\n\":\"\"},eval:function(t){var n,r=this.features&&this.features.eval(t);if(this.skip)return[];if(this.css)return this;n=new e.Ruleset([],this.root.rules.slice(0));for(var i=0;i<n.rules.length;i++)n.rules[i]instanceof e.Import&&Array.prototype.splice.apply(n.rules,[i,1].concat(n.rules[i].eval(t)));return this.features?new e.Media(n.rules,this.features.value):n.rules}}}(n(\"../tree\")),function(e){e.JavaScript=function(e,t,n){this.escaped=n,this.expression=e,this.index=t},e.JavaScript.prototype={eval:function(t){var n,r=this,i={},s=this.expression.replace(/@\\{([\\w-]+)\\}/g,function(n,i){return e.jsify((new e.Variable(\"@\"+i,r.index)).eval(t))});try{s=new Function(\"return (\"+s+\")\")}catch(o){throw{message:\"JavaScript evaluation error: `\"+s+\"`\",index:this.index}}for(var u in t.frames[0].variables())i[u.slice(1)]={value:t.frames[0].variables()[u].value,toJS:function(){return this.value.eval(t).toCSS()}};try{n=s.call(i)}catch(o){throw{message:\"JavaScript evaluation error: '\"+o.name+\": \"+o.message+\"'\",index:this.index}}return typeof n==\"string\"?new e.Quoted('\"'+n+'\"',n,this.escaped,this.index):Array.isArray(n)?new e.Anonymous(n.join(\", \")):new e.Anonymous(n)}}}(n(\"../tree\")),function(e){e.Keyword=function(e){this.value=e},e.Keyword.prototype={eval:function(){return this},toCSS:function(){return this.value},compare:function(t){return t instanceof e.Keyword?t.value===this.value?0:1:-1}},e.True=new e.Keyword(\"true\"),e.False=new e.Keyword(\"false\")}(n(\"../tree\")),function(e){e.Media=function(t,n){var r=this.emptySelectors();this.features=new e.Value(n),this.ruleset=new e.Ruleset(r,t),this.ruleset.allowImports=!0},e.Media.prototype={toCSS:function(e,t){var n=this.features.toCSS(t);return this.ruleset.root=e.length===0||e[0].multiMedia,\"@media \"+n+(t.compress?\"{\":\" {\\n  \")+this.ruleset.toCSS(e,t).trim().replace(/\\n/g,\"\\n  \")+(t.compress?\"}\":\"\\n}\\n\")},eval:function(t){t.mediaBlocks||(t.mediaBlocks=[],t.mediaPath=[]);var n=t.mediaBlocks.length;t.mediaPath.push(this),t.mediaBlocks.push(this);var r=new e.Media([],[]);return this.debugInfo&&(this.ruleset.debugInfo=this.debugInfo,r.debugInfo=this.debugInfo),r.features=this.features.eval(t),t.frames.unshift(this.ruleset),r.ruleset=this.ruleset.eval(t),t.frames.shift(),t.mediaBlocks[n]=r,t.mediaPath.pop(),t.mediaPath.length===0?r.evalTop(t):r.evalNested(t)},variable:function(t){return e.Ruleset.prototype.variable.call(this.ruleset,t)},find:function(){return e.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return e.Ruleset.prototype.rulesets.apply(this.ruleset)},emptySelectors:function(){var t=new e.Element(\"\",\"&\",0);return[new e.Selector([t])]},evalTop:function(t){var n=this;if(t.mediaBlocks.length>1){var r=this.emptySelectors();n=new e.Ruleset(r,t.mediaBlocks),n.multiMedia=!0}return delete t.mediaBlocks,delete t.mediaPath,n},evalNested:function(t){var n,r,i=t.mediaPath.concat([this]);for(n=0;n<i.length;n++)r=i[n].features instanceof e.Value?i[n].features.value:i[n].features,i[n]=Array.isArray(r)?r:[r];return this.features=new e.Value(this.permute(i).map(function(t){t=t.map(function(t){return t.toCSS?t:new e.Anonymous(t)});for(n=t.length-1;n>0;n--)t.splice(n,0,new e.Anonymous(\"and\"));return new e.Expression(t)})),new e.Ruleset([],[])},permute:function(e){if(e.length===0)return[];if(e.length===1)return e[0];var t=[],n=this.permute(e.slice(1));for(var r=0;r<n.length;r++)for(var i=0;i<e[0].length;i++)t.push([e[0][i]].concat(n[r]));return t},bubbleSelectors:function(t){this.ruleset=new e.Ruleset(t.slice(0),[this.ruleset])}}}(n(\"../tree\")),function(e){e.mixin={},e.mixin.Call=function(t,n,r,i,s){this.selector=new e.Selector(t),this.arguments=n,this.index=r,this.filename=i,this.important=s},e.mixin.Call.prototype={eval:function(e){var t,n,r=[],i=!1;for(var s=0;s<e.frames.length;s++)if((t=e.frames[s].find(this.selector)).length>0){n=this.arguments&&this.arguments.map(function(t){return{name:t.name,value:t.value.eval(e)}});for(var o=0;o<t.length;o++)if(t[o].match(n,e))try{Array.prototype.push.apply(r,t[o].eval(e,this.arguments,this.important).rules),i=!0}catch(u){throw{message:u.message,index:this.index,filename:this.filename,stack:u.stack}}if(i)return r;throw{type:\"Runtime\",message:\"No matching definition was found for `\"+this.selector.toCSS().trim()+\"(\"+this.arguments.map(function(e){return e.toCSS()}).join(\", \")+\")`\",index:this.index,filename:this.filename}}throw{type:\"Name\",message:this.selector.toCSS().trim()+\" is undefined\",index:this.index,filename:this.filename}}},e.mixin.Definition=function(t,n,r,i,s){this.name=t,this.selectors=[new e.Selector([new e.Element(null,t)])],this.params=n,this.condition=i,this.variadic=s,this.arity=n.length,this.rules=r,this._lookups={},this.required=n.reduce(function(e,t){return!t.name||t.name&&!t.value?e+1:e},0),this.parent=e.Ruleset.prototype,this.frames=[]},e.mixin.Definition.prototype={toCSS:function(){return\"\"},variable:function(e){return this.parent.variable.call(this,e)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(t,n){var r=new e.Ruleset(null,[]),i,s;for(var o=0,u,a;o<this.params.length;o++){s=n&&n[o];if(s&&s.name){r.rules.unshift(new e.Rule(s.name,s.value.eval(t))),n.splice(o,1),o--;continue}if(a=this.params[o].name)if(this.params[o].variadic&&n){i=[];for(var f=o;f<n.length;f++)i.push(n[f].value.eval(t));r.rules.unshift(new e.Rule(a,(new e.Expression(i)).eval(t)))}else{if(!(u=s&&s.value||this.params[o].value))throw{type:\"Runtime\",message:\"wrong number of arguments for \"+this.name+\" (\"+n.length+\" for \"+this.arity+\")\"};r.rules.unshift(new e.Rule(a,u.eval(t)))}}return r},eval:function(t,n,r){var i=this.evalParams(t,n),s,o=[],u,a;for(var f=0;f<Math.max(this.params.length,n&&n.length);f++)o.push(n[f]&&n[f].value||this.params[f].value);return i.rules.unshift(new e.Rule(\"@arguments\",(new e.Expression(o)).eval(t))),u=r?this.rules.map(function(t){return new e.Rule(t.name,t.value,\"!important\",t.index)}):this.rules.slice(0),(new e.Ruleset(null,u)).eval({frames:[this,i].concat(this.frames,t.frames)})},match:function(e,t){var n=e&&e.length||0,r,i;if(!this.variadic){if(n<this.required)return!1;if(n>this.params.length)return!1;if(this.required>0&&n>this.params.length)return!1}if(this.condition&&!this.condition.eval({frames:[this.evalParams(t,e)].concat(t.frames)}))return!1;r=Math.min(n,this.arity);for(var s=0;s<r;s++)if(!this.params[s].name&&e[s].value.eval(t).toCSS()!=this.params[s].value.eval(t).toCSS())return!1;return!0}}}(n(\"../tree\")),function(e){e.Operation=function(e,t){this.op=e.trim(),this.operands=t},e.Operation.prototype.eval=function(t){var n=this.operands[0].eval(t),r=this.operands[1].eval(t),i;if(n instanceof e.Dimension&&r instanceof e.Color){if(this.op!==\"*\"&&this.op!==\"+\")throw{name:\"OperationError\",message:\"Can't substract or divide a color from a number\"};i=r,r=n,n=i}return n.operate(this.op,r)},e.operate=function(e,t,n){switch(e){case\"+\":return t+n;case\"-\":return t-n;case\"*\":return t*n;case\"/\":return t/n}}}(n(\"../tree\")),function(e){e.Paren=function(e){this.value=e},e.Paren.prototype={toCSS:function(e){return\"(\"+this.value.toCSS(e)+\")\"},eval:function(t){return new e.Paren(this.value.eval(t))}}}(n(\"../tree\")),function(e){e.Quoted=function(e,t,n,r){this.escaped=n,this.value=t||\"\",this.quote=e.charAt(0),this.index=r},e.Quoted.prototype={toCSS:function(){return this.escaped?this.value:this.quote+this.value+this.quote},eval:function(t){var n=this,r=this.value.replace(/`([^`]+)`/g,function(r,i){return(new e.JavaScript(i,n.index,!0)).eval(t).value}).replace(/@\\{([\\w-]+)\\}/g,function(r,i){var s=(new e.Variable(\"@\"+i,n.index)).eval(t);return\"value\"in s?s.value:s.toCSS()});return new e.Quoted(this.quote+r+this.quote,r,this.escaped,this.index)},compare:function(e){if(!e.toCSS)return-1;var t=this.toCSS(),n=e.toCSS();return t===n?0:t<n?-1:1}}}(n(\"../tree\")),function(e){e.Ratio=function(e){this.value=e},e.Ratio.prototype={toCSS:function(e){return this.value},eval:function(){return this}}}(n(\"../tree\")),function(e){e.Rule=function(t,n,r,i,s){this.name=t,this.value=n instanceof e.Value?n:new e.Value([n]),this.important=r?\" \"+r.trim():\"\",this.index=i,this.inline=s||!1,t.charAt(0)===\"@\"?this.variable=!0:this.variable=!1},e.Rule.prototype.toCSS=function(e){return this.variable?\"\":this.name+(e.compress?\":\":\": \")+this.value.toCSS(e)+this.important+(this.inline?\"\":\";\")},e.Rule.prototype.eval=function(t){return new e.Rule(this.name,this.value.eval(t),this.important,this.index,this.inline)},e.Shorthand=function(e,t){this.a=e,this.b=t},e.Shorthand.prototype={toCSS:function(e){return this.a.toCSS(e)+\"/\"+this.b.toCSS(e)},eval:function(){return this}}}(n(\"../tree\")),function(e){e.Ruleset=function(e,t,n){this.selectors=e,this.rules=t,this._lookups={},this.strictImports=n},e.Ruleset.prototype={eval:function(t){var n=this.selectors&&this.selectors.map(function(e){return e.eval(t)}),r=new e.Ruleset(n,this.rules.slice(0),this.strictImports),i=[];r.root=this.root,r.allowImports=this.allowImports,this.debugInfo&&(r.debugInfo=this.debugInfo),t.frames.unshift(r);if(r.root||r.allowImports||!r.strictImports){for(var s=0;s<r.rules.length;s++)r.rules[s]instanceof e.Import?i=i.concat(r.rules[s].eval(t)):i.push(r.rules[s]);r.rules=i,i=[]}for(var s=0;s<r.rules.length;s++)r.rules[s]instanceof e.mixin.Definition&&(r.rules[s].frames=t.frames.slice(0));var o=t.mediaBlocks&&t.mediaBlocks.length||0;for(var s=0;s<r.rules.length;s++)r.rules[s]instanceof e.mixin.Call?i=i.concat(r.rules[s].eval(t)):i.push(r.rules[s]);r.rules=i;for(var s=0,u;s<r.rules.length;s++)u=r.rules[s],u instanceof e.mixin.Definition||(r.rules[s]=u.eval?u.eval(t):u);t.frames.shift();if(t.mediaBlocks)for(var s=o;s<t.mediaBlocks.length;s++)t.mediaBlocks[s].bubbleSelectors(n);return r},match:function(e){return!e||e.length===0},variables:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(t,n){return n instanceof e.Rule&&n.variable===!0&&(t[n.name]=n),t},{})},variable:function(e){return this.variables()[e]},rulesets:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(t){return t instanceof e.Ruleset||t instanceof e.mixin.Definition})},find:function(t,n){n=n||this;var r=[],i,s,o=t.toCSS();return o in this._lookups?this._lookups[o]:(this.rulesets().forEach(function(i){if(i!==n)for(var o=0;o<i.selectors.length;o++)if(s=t.match(i.selectors[o])){t.elements.length>i.selectors[o].elements.length?Array.prototype.push.apply(r,i.find(new e.Selector(t.elements.slice(1)),n)):r.push(i);break}}),this._lookups[o]=r)},toCSS:function(t,n){var r=[],i=[],s=[],o=[],u=[],a,f,l;this.root||this.joinSelectors(u,t,this.selectors);for(var c=0;c<this.rules.length;c++)l=this.rules[c],l.rules||l instanceof e.Directive||l instanceof e.Media?o.push(l.toCSS(u,n)):l instanceof e.Comment?l.silent||(this.root?o.push(l.toCSS(n)):i.push(l.toCSS(n))):l.toCSS&&!l.variable?i.push(l.toCSS(n)):l.value&&!l.variable&&i.push(l.value.toString());o=o.join(\"\");if(this.root)r.push(i.join(n.compress?\"\":\"\\n\"));else if(i.length>0){f=e.debugInfo(n,this),a=u.map(function(e){return e.map(function(e){return e.toCSS(n)}).join(\"\").trim()}).join(n.compress?\",\":\",\\n\");for(var c=i.length-1;c>=0;c--)s.indexOf(i[c])===-1&&s.unshift(i[c]);i=s,r.push(f+a+(n.compress?\"{\":\" {\\n  \")+i.join(n.compress?\"\":\"\\n  \")+(n.compress?\"}\":\"\\n}\\n\"))}return r.push(o),r.join(\"\")+(n.compress?\"\\n\":\"\")},joinSelectors:function(e,t,n){for(var r=0;r<n.length;r++)this.joinSelector(e,t,n[r])},joinSelector:function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;for(i=0;i<r.elements.length;i++)f=r.elements[i],f.value===\"&\"&&(u=!0);if(!u){if(n.length>0)for(i=0;i<n.length;i++)t.push(n[i].concat(r));else t.push([r]);return}g=[],a=[[]];for(i=0;i<r.elements.length;i++){f=r.elements[i];if(f.value!==\"&\")g.push(f);else{y=[],g.length>0&&this.mergeElementsOnToSelectors(g,a);for(s=0;s<a.length;s++){l=a[s];if(n.length==0)l.length>0&&(l[0].elements=l[0].elements.slice(0),l[0].elements.push(new e.Element(f.combinator,\"\",0))),y.push(l);else for(o=0;o<n.length;o++)c=n[o],h=[],p=[],v=!0,l.length>0?(h=l.slice(0),m=h.pop(),d=new e.Selector(m.elements.slice(0)),v=!1):d=new e.Selector([]),c.length>1&&(p=p.concat(c.slice(1))),c.length>0&&(v=!1,d.elements.push(new e.Element(f.combinator,c[0].elements[0].value,0)),d.elements=d.elements.concat(c[0].elements.slice(1))),v||h.push(d),h=h.concat(p),y.push(h)}a=y,g=[]}}g.length>0&&this.mergeElementsOnToSelectors(g,a);for(i=0;i<a.length;i++)t.push(a[i])},mergeElementsOnToSelectors:function(t,n){var r,i;if(n.length==0){n.push([new e.Selector(t)]);return}for(r=0;r<n.length;r++)i=n[r],i.length>0?i[i.length-1]=new e.Selector(i[i.length-1].elements.concat(t)):i.push(new e.Selector(t))}}}(n(\"../tree\")),function(e){e.Selector=function(e){this.elements=e},e.Selector.prototype.match=function(e){var t=this.elements.length,n=e.elements.length,r=Math.min(t,n);if(t<n)return!1;for(var i=0;i<r;i++)if(this.elements[i].value!==e.elements[i].value)return!1;return!0},e.Selector.prototype.eval=function(t){return new e.Selector(this.elements.map(function(e){return e.eval(t)}))},e.Selector.prototype.toCSS=function(e){return this._css?this._css:(this.elements[0].combinator.value===\"\"?this._css=\" \":this._css=\"\",this._css+=this.elements.map(function(t){return typeof t==\"string\"?\" \"+t.trim():t.toCSS(e)}).join(\"\"),this._css)}}(n(\"../tree\")),function(t){t.URL=function(e,t){this.value=e,this.paths=t},t.URL.prototype={toCSS:function(){return\"url(\"+this.value.toCSS()+\")\"},eval:function(n){var r=this.value.eval(n);return typeof e!=\"undefined\"&&typeof r.value==\"string\"&&!/^(?:[a-z-]+:|\\/)/.test(r.value)&&this.paths.length>0&&(r.value=this.paths[0]+(r.value.charAt(0)===\"/\"?r.value.slice(1):r.value)),new t.URL(r,this.paths)}}}(n(\"../tree\")),function(e){e.Value=function(e){this.value=e,this.is=\"value\"},e.Value.prototype={eval:function(t){return this.value.length===1?this.value[0].eval(t):new e.Value(this.value.map(function(e){return e.eval(t)}))},toCSS:function(e){return this.value.map(function(t){return t.toCSS(e)}).join(e.compress?\",\":\", \")}}}(n(\"../tree\")),function(e){e.Variable=function(e,t,n){this.name=e,this.index=t,this.file=n},e.Variable.prototype={eval:function(t){var n,r,i=this.name;i.indexOf(\"@@\")==0&&(i=\"@\"+(new e.Variable(i.slice(1))).eval(t).value);if(n=e.find(t.frames,function(e){if(r=e.variable(i))return r.value.eval(t)}))return n;throw{type:\"Name\",message:\"variable \"+i+\" is undefined\",filename:this.file,index:this.index}}}}(n(\"../tree\")),function(e){e.debugInfo=function(t,n){var r=\"\";if(t.dumpLineNumbers&&!t.compress)switch(t.dumpLineNumbers){case\"comments\":r=e.debugInfo.asComment(n);break;case\"mediaquery\":r=e.debugInfo.asMediaQuery(n);break;case\"all\":r=e.debugInfo.asComment(n)+e.debugInfo.asMediaQuery(n)}return r},e.debugInfo.asComment=function(e){return\"/* line \"+e.debugInfo.lineNumber+\", \"+e.debugInfo.fileName+\" */\\n\"},e.debugInfo.asMediaQuery=function(e){return'@media -sass-debug-info{filename{font-family:\"'+e.debugInfo.fileName+'\";}line{font-family:\"'+e.debugInfo.lineNumber+'\";}}\\n'},e.find=function(e,t){for(var n=0,r;n<e.length;n++)if(r=t.call(e,e[n]))return r;return null},e.jsify=function(e){return Array.isArray(e.value)&&e.value.length>1?\"[\"+e.value.map(function(e){return e.toCSS(!1)}).join(\", \")+\"]\":e.toCSS(!1)}}(n(\"./tree\"));var s=/^(file|chrome(-extension)?|resource|qrc|app):/.test(location.protocol);r.env=r.env||(location.hostname==\"127.0.0.1\"||location.hostname==\"0.0.0.0\"||location.hostname==\"localhost\"||location.port.length>0||s?\"development\":\"production\"),r.async=r.async||!1,r.fileAsync=r.fileAsync||!1,r.poll=r.poll||(s?1e3:1500),r.watch=function(){return this.watchMode=!0},r.unwatch=function(){return this.watchMode=!1};if(r.env===\"development\"){r.optimization=0,/!watch/.test(location.hash)&&r.watch();var o=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(location.hash);o&&(r.dumpLineNumbers=o[1]),r.watchTimer=setInterval(function(){r.watchMode&&p(function(e,t,n,r,i){t&&m(t.toCSS(),r,i.lastModified)})},r.poll)}else r.optimization=3;var u;try{u=typeof e.localStorage==\"undefined\"?null:e.localStorage}catch(a){u=null}var f=document.getElementsByTagName(\"link\"),l=/^text\\/(x-)?less$/;r.sheets=[];for(var c=0;c<f.length;c++)(f[c].rel===\"stylesheet/less\"||f[c].rel.match(/stylesheet/)&&f[c].type.match(l))&&r.sheets.push(f[c]);r.refresh=function(e){var t,n;t=n=new Date,p(function(e,r,i,s,o){o.local?w(\"loading \"+s.href+\" from cache.\"):(w(\"parsed \"+s.href+\" successfully.\"),m(r.toCSS(),s,o.lastModified)),w(\"css for \"+s.href+\" generated in \"+(new Date-n)+\"ms\"),o.remaining===0&&w(\"css generated in \"+(new Date-t)+\"ms\"),n=new Date},e),h()},r.refreshStyles=h,r.refresh(r.env===\"development\"),typeof define==\"function\"&&define.amd&&define(\"less\",[],function(){return r})})(window);","/*\r\n\txBreadcrumbs (Extended Breadcrums) jQuery Plugin\r\n\t� 2009 ajaxBlender.com\r\n\tFor any questions please visit www.ajaxblender.com \r\n\tor email us at support@ajaxblender.com\r\n*/\r\n\r\n;(function($){\r\n\t/*  Variables  */\r\n\t$.fn.xBreadcrumbs = function(settings){\r\n\t\tvar element = $(this);\r\n\t\tvar \r\n\t\t\r\n\t\tsettings = $.extend({}, $.fn.xBreadcrumbs.defaults, settings);\r\n\r\n\t\tfunction _build(){\r\n\t\t\tif(settings.collapsible){\r\n\t\t\t\tvar sz = element.children('LI').length;\r\n\t\t\t\telement.children('LI').children('A').css('white-space', 'nowrap').css('float', 'left');\r\n\t\t\t\telement.children('LI').children('A').each(function(i, el){\r\n\t\t\t\t\tif(i != sz - 1){\r\n\t\t\t\t\t\t$(this).css('overflow', 'hidden');\r\n\t\t\t\t\t\t$(this).attr('init-width', $(this).width());\r\n\t\t\t\t\t\t$(this).width(settings.collapsedWidth);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n            element.children('LI').mouseenter(function(){\r\n                if($(this).hasClass('hover')){ return; }\r\n                \r\n            \t_hideAllSubLevels();\r\n            \tif(!_subLevelExists($(this))){ return; }\r\n\r\n            \t// Show sub-level\r\n            \tvar subLevel = $(this).children('UL');\r\n            \t_showHideSubLevel(subLevel, true);\r\n            \t\r\n            \tif(settings.collapsible && !$(this).hasClass('current')){\r\n            \t\tvar initWidth = $(this).children('A').attr('init-width');\r\n            \t\t$(this).children('A').animate({width: initWidth}, 'normal');\r\n            \t}\r\n            });\r\n            \r\n            element.children('LI').mouseleave(function(){\r\n                var subLevel = $(this).children('UL');\r\n                _showHideSubLevel(subLevel, false);\r\n                \r\n                if(settings.collapsible && !$(this).hasClass('current')){\r\n                \t$(this).children('A').animate({width: settings.collapsedWidth}, 'fast');\r\n                }\r\n            });\r\n\t\t};\r\n\t\t\r\n\t\tfunction _hideAllSubLevels(){\r\n\t\t\telement.children('LI').children('UL').each(function(){\r\n                $(this).hide();\r\n                $(this).parent().removeClass('hover');\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\tfunction _showHideSubLevel(subLevel, isShow){\r\n\t\t\tif(isShow){\r\n                subLevel.parent().addClass('hover');\r\n                if($.browser.msie){\r\n                \tvar pos = subLevel.parent().position();\r\n                \tsubLevel.css('left', parseInt(pos['left']));\r\n                }\r\n\t\t\t\tif(settings.showSpeed != ''){ subLevel.fadeIn( settings.showSpeed ); } \r\n\t\t\t\telse { subLevel.show(); }\r\n\t\t\t} else {\r\n                subLevel.parent().removeClass('hover');\r\n                if(settings.hideSpeed != ''){ subLevel.fadeOut( settings.hideSpeed ); } \r\n                else { subLevel.hide(); }\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tfunction _subLevelExists(obj){\r\n\t\t\treturn obj.children('UL').length > 0;\r\n\t\t};\r\n\t\t\r\n\t\t//    Entry point\r\n\t\t_build();\r\n\t};\r\n\t\r\n\t/*  Default Settings  */\r\n\t$.fn.xBreadcrumbs.defaults = {\r\n\t\tshowSpeed:        'fast',\r\n\t\thideSpeed:        '',\r\n\t\tcollapsible:      false,\r\n\t\tcollapsedWidth:   10\r\n\t};\r\n})(jQuery);","/*\n\tMasked Input plugin for jQuery\n\tCopyright (c) 2007-2011 Josh Bush (digitalbush.com)\n\tLicensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license) \n\tVersion: 1.3\n*/\n(function(a){var b=(a.browser.msie?\"paste\":\"input\")+\".mask\",c=window.orientation!=undefined;a.mask={definitions:{9:\"[0-9]\",a:\"[A-Za-z]\",\"*\":\"[A-Za-z0-9]\"},dataName:\"rawMaskFn\"},a.fn.extend({caret:function(a,b){if(this.length!=0){if(typeof a==\"number\"){b=typeof b==\"number\"?b:a;return this.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd(\"character\",b),c.moveStart(\"character\",a),c.select()}})}if(this[0].setSelectionRange)a=this[0].selectionStart,b=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart(\"character\",-1e5),b=a+c.text.length}return{begin:a,end:b}}},unmask:function(){return this.trigger(\"unmask\")},mask:function(d,e){if(!d&&this.length>0){var f=a(this[0]);return f.data(a.mask.dataName)()}e=a.extend({placeholder:\"_\",completed:null},e);var g=a.mask.definitions,h=[],i=d.length,j=null,k=d.length;a.each(d.split(\"\"),function(a,b){b==\"?\"?(k--,i=a):g[b]?(h.push(new RegExp(g[b])),j==null&&(j=h.length-1)):h.push(null)});return this.trigger(\"unmask\").each(function(){function v(a){var b=f.val(),c=-1;for(var d=0,g=0;d<k;d++)if(h[d]){l[d]=e.placeholder;while(g++<b.length){var m=b.charAt(g-1);if(h[d].test(m)){l[d]=m,c=d;break}}if(g>b.length)break}else l[d]==b.charAt(g)&&d!=i&&(g++,c=d);if(!a&&c+1<i)f.val(\"\"),t(0,k);else if(a||c+1>=i)u(),a||f.val(f.val().substring(0,c+1));return i?d:j}function u(){return f.val(l.join(\"\")).val()}function t(a,b){for(var c=a;c<b&&c<k;c++)h[c]&&(l[c]=e.placeholder)}function s(a){var b=a.which,c=f.caret();if(a.ctrlKey||a.altKey||a.metaKey||b<32)return!0;if(b){c.end-c.begin!=0&&(t(c.begin,c.end),p(c.begin,c.end-1));var d=n(c.begin-1);if(d<k){var g=String.fromCharCode(b);if(h[d].test(g)){q(d),l[d]=g,u();var i=n(d);f.caret(i),e.completed&&i>=k&&e.completed.call(f)}}return!1}}function r(a){var b=a.which;if(b==8||b==46||c&&b==127){var d=f.caret(),e=d.begin,g=d.end;g-e==0&&(e=b!=46?o(e):g=n(e-1),g=b==46?n(g):g),t(e,g),p(e,g-1);return!1}if(b==27){f.val(m),f.caret(0,v());return!1}}function q(a){for(var b=a,c=e.placeholder;b<k;b++)if(h[b]){var d=n(b),f=l[b];l[b]=c;if(d<k&&h[d].test(f))c=f;else break}}function p(a,b){if(!(a<0)){for(var c=a,d=n(b);c<k;c++)if(h[c]){if(d<k&&h[c].test(l[d]))l[c]=l[d],l[d]=e.placeholder;else break;d=n(d)}u(),f.caret(Math.max(j,a))}}function o(a){while(--a>=0&&!h[a]);return a}function n(a){while(++a<=k&&!h[a]);return a}var f=a(this),l=a.map(d.split(\"\"),function(a,b){if(a!=\"?\")return g[a]?e.placeholder:a}),m=f.val();f.data(a.mask.dataName,function(){return a.map(l,function(a,b){return h[b]&&a!=e.placeholder?a:null}).join(\"\")}),f.attr(\"readonly\")||f.one(\"unmask\",function(){f.unbind(\".mask\").removeData(a.mask.dataName)}).bind(\"focus.mask\",function(){m=f.val();var b=v();u();var c=function(){b==d.length?f.caret(0,b):f.caret(b)};(a.browser.msie?c:function(){setTimeout(c,0)})()}).bind(\"blur.mask\",function(){v(),f.val()!=m&&f.change()}).bind(\"keydown.mask\",r).bind(\"keypress.mask\",s).bind(b,function(){setTimeout(function(){f.caret(v(!0))},0)}),v()})}})})(jQuery)","/**\r\n * Autotab - jQuery plugin 1.1b\r\n * http://www.lousyllama.com/sandbox/jquery-autotab\r\n * \r\n * Copyright (c) 2008 Matthew Miller\r\n * \r\n * Dual licensed under the MIT and GPL licenses:\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *   http://www.gnu.org/licenses/gpl.html\r\n * \r\n * Revised: 2008-09-10 16:55:08\r\n */\r\n\r\n(function($) {\r\n// Look for an element based on ID or name\r\nvar check_element = function(name) {\r\n\tvar obj = null;\r\n\tvar check_id = $('#' + name);\r\n\tvar check_name = $('input[name=' + name + ']');\r\n\r\n\tif(check_id.length)\r\n\t\tobj = check_id;\r\n\telse if(check_name != undefined)\r\n\t\tobj = check_name;\r\n\r\n\treturn obj;\r\n};\r\n\r\n/**\r\n * autotab_magic automatically establishes autotabbing with the\r\n * next and previous elements as provided by :input.\r\n * \r\n * autotab_magic should called after applying filters, if used.\r\n * If any filters are applied after calling autotab_magic, then\r\n * Autotab may not protect against brute force typing.\r\n * \r\n * @name\tautotab_magic\r\n * @param\tfocus\tApplies focus on the specified element\r\n * @example\t$(':input').autotab_magic();\r\n */\r\n$.fn.autotab_magic = function(focus) {\r\n\tfor(var i = 0; i < this.length; i++)\r\n\t{\r\n\t\tvar n = i + 1;\r\n\t\tvar p = i - 1;\r\n\r\n\t\tif(i > 0 && n < this.length)\r\n\t\t\t$(this[i]).autotab({ target: $(this[n]), previous: $(this[p]) });\r\n\t\telse if(i > 0)\r\n\t\t\t$(this[i]).autotab({ previous: $(this[p]) });\r\n\t\telse\r\n\t\t\t$(this[i]).autotab({ target: $(this[n]) });\r\n\r\n\t\t// Set the focus on the specified element\r\n\t\tif(focus != null && (isNaN(focus) && focus == $(this[i]).attr('id')) || (!isNaN(focus) && focus == i))\r\n\t\t\t$(this[i]).focus();\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n/**\r\n * This will take any of the text that is typed and\r\n * format it according to the options specified.\r\n * \r\n * Option values:\r\n *\tformat\t\ttext|number|alphanumeric|all|custom\r\n *\t- Text\t\t\tAllows all characters except numbers\r\n *\t- Number\t\tAllows only numbers\r\n *\t- Alphanumeric\tAllows only letters and numbers\r\n *\t- All\t\t\tAllows any and all characters\r\n *\t- Custom\t\tAllows developer to provide their own filter\r\n *\r\n *\tuppercase\ttrue|false\r\n *\t- Converts a string to UPPERCASE\r\n * \r\n *\tlowercase\ttrue|false\r\n *\t- Converts a string to lowecase\r\n * \r\n *\tnospace\t\ttrue|false\r\n *\t- Remove spaces in the user input\r\n * \r\n *\tpattern\t\tnull|(regular expression)\r\n *\t- Custom regular expression for the filter\r\n * \r\n * @name\tautotab_filter\r\n * @param\toptions\t\tCan be a string, function or a list of options. If a string or\r\n *\t\t\t\t\t\tfunction is passed, it will be assumed to be a format option.\r\n * @example\t$('#number1, #number2, #number3').autotab_filter('number');\r\n * @example\t$('#product_key').autotab_filter({ format: 'alphanumeric', nospace: true });\r\n * @example\t$('#unique_id').autotab_filter({ format: 'custom', pattern: '[^0-9\\.]' });\r\n */\r\n$.fn.autotab_filter = function(options) {\r\n\tvar defaults = {\r\n\t\tformat: 'all',\r\n\t\tuppercase: false,\r\n\t\tlowercase: false,\r\n\t\tnospace: false,\r\n\t\tpattern: null\r\n\t};\r\n\r\n\tif(typeof options == 'string' || typeof options == 'function')\r\n\t\tdefaults.format = options;\r\n\telse\r\n\t\t$.extend(defaults, options);\r\n\r\n\tfor(var i = 0; i < this.length; i++)\r\n\t{\r\n\t\t$(this[i]).bind('keyup', function(e) {\r\n\t\t\tvar val = this.value;\r\n\r\n\t\t\tswitch(defaults.format)\r\n\t\t\t{\r\n\t\t\t\tcase 'text':\r\n\t\t\t\t\tvar pattern = new RegExp('[0-9]+', 'g');\r\n\t\t\t\t\tval = val.replace(pattern, '');\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'alpha':\r\n\t\t\t\t\tvar pattern = new RegExp('[^a-zA-Z]+', 'g');\r\n\t\t\t\t\tval = val.replace(pattern, '');\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'number':\r\n\t\t\t\tcase 'numeric':\r\n\t\t\t\t\tvar pattern = new RegExp('[^0-9]+', 'g');\r\n\t\t\t\t\tval = val.replace(pattern, '');\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'alphanumeric':\r\n\t\t\t\t\tvar pattern = new RegExp('[^0-9a-zA-Z]+', 'g');\r\n\t\t\t\t\tval = val.replace(pattern, '');\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'custom':\r\n\t\t\t\t\tvar pattern = new RegExp(defaults.pattern, 'g');\r\n\t\t\t\t\tval = val.replace(pattern, '');\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'all':\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tif(typeof defaults.format == 'function')\r\n\t\t\t\t\t\tvar val = defaults.format(val);\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif(defaults.nospace)\r\n\t\t\t{\r\n\t\t\t\tvar pattern = new RegExp('[ ]+', 'g');\r\n\t\t\t\tval = val.replace(pattern, '');\r\n\t\t\t}\r\n\r\n\t\t\tif(defaults.uppercase)\r\n\t\t\t\tval = val.toUpperCase();\r\n\r\n\t\t\tif(defaults.lowercase)\r\n\t\t\t\tval = val.toLowerCase();\r\n\r\n\t\t\tif(val != this.value)\r\n\t\t\t\tthis.value = val;\r\n\t\t});\r\n\t}\r\n};\r\n\r\n/**\r\n * Provides the autotabbing mechanism for the supplied element and passes\r\n * any formatting options to autotab_filter.\r\n * \r\n * Refer to autotab_filter's description for a detailed explanation of\r\n * the options available.\r\n * \r\n * @name\tautotab\r\n * @param\toptions\r\n * @example\t$('#phone').autotab({ format: 'number' });\r\n * @example\t$('#username').autotab({ format: 'alphanumeric', target: 'password' });\r\n * @example\t$('#password').autotab({ previous: 'username', target: 'confirm' });\r\n */\r\n$.fn.autotab = function(options) {\r\n\tvar defaults = {\r\n\t\tformat: 'all',\r\n\t\tmaxlength: 2147483647,\r\n\t\tuppercase: false,\r\n\t\tlowercase: false,\r\n\t\tnospace: false,\r\n\t\ttarget: null,\r\n\t\tprevious: null,\r\n\t\tpattern: null\r\n\t};\r\n\r\n\t$.extend(defaults, options);\r\n\r\n\t// Sets targets to element based on the name or ID\r\n\t// passed if they are not currently objects\r\n\tif(typeof defaults.target == 'string')\r\n\t\tdefaults.target = check_element(defaults.target);\r\n\r\n\tif(typeof defaults.previous == 'string')\r\n\t\tdefaults.previous = check_element(defaults.previous);\r\n\r\n\tvar maxlength = $(this).attr('maxlength');\r\n\r\n\t// defaults.maxlength has not changed and maxlength was specified\r\n\tif(defaults.maxlength == 2147483647 && maxlength != 2147483647)\r\n\t\tdefaults.maxlength = maxlength;\r\n\t// defaults.maxlength overrides maxlength\r\n\telse if(defaults.maxlength > 0)\r\n\t\t$(this).attr('maxlength', defaults.maxlength)\r\n\t// defaults.maxlength and maxlength have not been specified\r\n\t// A target cannot be used since there is no defined maxlength\r\n\telse\r\n\t\tdefaults.target = null;\r\n\r\n\tif(defaults.format != 'all')\r\n\t\t$(this).autotab_filter(defaults);\r\n\r\n\t// Go to the previous element when backspace\r\n\t// is pressed in an empty input field\r\n\treturn $(this).bind('keydown', function(e) {\r\n\t\tif(e.which == 8 && this.value.length == 0 && defaults.previous)\r\n\t\t\tdefaults.previous.focus().val(defaults.previous.val());\r\n\t}).bind('keyup', function(e) {\r\n\t\t/**\r\n\t\t * Do not auto tab when the following keys are pressed\r\n\t\t * 8:\tBackspace\r\n\t\t * 9:\tTab\r\n\t\t * 16:\tShift\r\n\t\t * 17:\tCtrl\r\n\t\t * 18:\tAlt\r\n\t\t * 19:\tPause Break\r\n\t\t * 20:\tCaps Lock\r\n\t\t * 27:\tEsc\r\n\t\t * 33:\tPage Up\r\n\t\t * 34:\tPage Down\r\n\t\t * 35:\tEnd\r\n\t\t * 36:\tHome\r\n\t\t * 37:\tLeft Arrow\r\n\t\t * 38:\tUp Arrow\r\n\t\t * 39:\tRight Arrow\r\n\t\t * 40:\tDown Arrow\r\n\t\t * 45:\tInsert\r\n\t\t * 46:\tDelete\r\n\t\t * 144:\tNum Lock\r\n\t\t * 145:\tScroll Lock\r\n\t\t */\r\n\t\tvar keys = [8, 9, 16, 17, 18, 19, 20, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 144, 145];\r\n\r\n\t\tif(e.which != 8)\r\n\t\t{\r\n\t\t\tvar val = $(this).val();\r\n\r\n\t\t\tif($.inArray(e.which, keys) == -1 && val.length == defaults.maxlength && defaults.target)\r\n\t\t\t\tdefaults.target.focus();\r\n\t\t}\r\n\t});\r\n};\r\n\r\n})(jQuery);","/*\n * \tCharacter Count Plugin - jQuery plugin\n * \tDynamic character count for text areas and input fields\n *\twritten by Alen Grakalic\t\n *\thttp://cssglobe.com/post/7161/jquery-plugin-simplest-twitterlike-dynamic-character-count-for-textareas\n *\n *\tCopyright (c) 2009 Alen Grakalic (http://cssglobe.com)\n *\tDual licensed under the MIT (MIT-LICENSE.txt)\n *\tand GPL (GPL-LICENSE.txt) licenses.\n *\n *\tBuilt for jQuery library\n *\thttp://jquery.com\n *\n */\n \n(function($) {\n\n\t$.fn.charCount = function(options){\n\t  \n\t\t// default configuration properties\n\t\tvar defaults = {\t\n\t\t\tallowed: 140,\t\t\n\t\t\twarning: 25,\n\t\t\tcss: 'field-annotation',\n\t\t\tcounterElement: 'span',\n\t\t\tcssWarning: 'warning',\n\t\t\tcssExceeded: 'exceeded',\n\t\t\tcounterText: 'Characters: '\n\t\t}; \n\t\t\t\n\t\tvar options = $.extend(defaults, options); \n\t\t\n\t\tfunction calculate(obj){\n\t\t\tvar count = $(obj).val().length;\n\t\t\tvar available = options.allowed - count;\n\t\t\tif(available <= options.warning && available >= 0){\n\t\t\t\t$(obj).next().addClass(options.cssWarning);\n\t\t\t} else {\n\t\t\t\t$(obj).next().removeClass(options.cssWarning);\n\t\t\t}\n\t\t\tif(available < 0){\n\t\t\t\t$(obj).next().addClass(options.cssExceeded);\n\t\t\t} else {\n\t\t\t\t$(obj).next().removeClass(options.cssExceeded);\n\t\t\t}\n\t\t\t$(obj).next().html(options.counterText + available);\n\t\t};\n\t\t\t\t\n\t\tthis.each(function() {  \t\t\t\n\t\t\t$(this).after('<'+ options.counterElement +' class=\"' + options.css + '\">'+ options.counterText +'</'+ options.counterElement +'>');\n\t\t\tcalculate(this);\n\t\t\t$(this).keyup(function(){calculate(this)});\n\t\t\t$(this).change(function(){calculate(this)});\n\t\t});\n\t  \n\t};\n\n})(jQuery);\n","/**\n * jQuery.textareaCounter\n * Version 1.0\n * Copyright (c) 2011 c.bavota - http://bavotasan.com\n * Dual licensed under MIT and GPL.\n * Date: 10/20/2011\n**/\n(function($){\n\t$.fn.textareaCounter = function(options) {\n\t\t// setting the defaults\n\t\t// $(\"textarea\").textareaCounter({ limit: 100 });\n\t\tvar defaults = {\n\t\t\tlimit: 100\n\t\t};\t\n\t\tvar options = $.extend(defaults, options);\n \n\t\t// and the plugin begins\n\t\treturn this.each(function() {\n\t\t\tvar obj, text, wordcount, limited;\n\t\t\t\n\t\t\tobj = $(this);\n//\t\t\tobj.after('<span style=\"font-size: 11px; clear: both; margin: -12px 0px 10px 2px; display: block;\" id=\"counter-text\">Max. '+options.limit+' words</span>');\n\t\t\tobj.after('<span class=\"field-annotation\" id=\"counter-text\">Max. '+options.limit+' words</span>');\n\n\t\t\tobj.keyup(function() {\n\t\t\t    text = obj.val();\n\t\t\t    if(text === \"\") {\n\t\t\t    \twordcount = 0;\n\t\t\t    } else {\n\t\t\t\t    wordcount = $.trim(text).split(\" \").length;\n\t\t\t\t}\n\t\t\t    if(wordcount > options.limit) {\n\t\t\t        $(\"#counter-text\").html('<span style=\"color: #DD0000;\">0 words left</span>');\n\t\t\t\t\tlimited = $.trim(text).split(\" \", options.limit);\n\t\t\t\t\tlimited = limited.join(\" \");\n\t\t\t\t\t$(this).val(limited);\n\t\t\t    } else {\n\t\t\t        $(\"#counter-text\").html((options.limit - wordcount)+' words left');\n\t\t\t    } \n\t\t\t});\n\t\t});\n\t};\n})(jQuery);","function eli18n(a){this.textdomain=function(b){return this.messages[b]?this._domain=b:this._domain};a&&a.messages&&this.load(a.messages);a&&a.textdomain&&this.textdomain(a.textdomain)}eli18n.prototype=new function(){this.messages={};this._domain=\"\";this.load=function(c){if(typeof(c)==\"object\"){for(var f in c){var b=c[f];if(typeof(b)==\"object\"){if(!this.messages[f]){this.messages[f]={}}for(var a in b){if(typeof(b[a])==\"string\"){this.messages[f][a]=b[a]}}}}}return this};this.translate=function(b,a){var a=a&&this.messages[a]?a:this._domain;\nreturn this.messages[a]&&this.messages[a][b]?this.messages[a][b]:b};this.format=function(f,b,c){f=this.translate(f,c);if(typeof(b)==\"object\"){for(var a in b){f=f.replace(\"%\"+a,this.translate(b[a],c))}}return f}};function elDialogForm(c){var a=this;var b={\"class\":\"el-dialogform\",submit:function(f,g){g.close()},form:{action:window.location.href,method:\"post\"},ajaxForm:null,validate:null,spinner:\"Loading\",tabs:{active:0,selected:0},tabPrefix:\"el-df-tab-\",dialog:{title:\"dialog\",autoOpen:false,modal:true,resizable:false,closeOnEscape:true,buttons:{Cancel:function(){a.close()\n},Ok:function(){a.form.trigger(\"submit\")}}}};this.opts=jQuery.extend(true,{},b,c);this.opts.dialog.close=function(){a.close()};if(this.opts.rtl){this.opts[\"class\"]+=\" el-dialogform-rtl\"}if(c&&c.dialog&&c.dialog.buttons&&typeof(c.dialog.buttons)==\"object\"){this.opts.dialog.buttons=c.dialog.buttons}this.ul=null;this.tabs={};this._table=null;this.dialog=jQuery(\"<div />\").addClass(this.opts[\"class\"]).dialog(this.opts.dialog);this.message=jQuery('<div class=\"el-dialogform-message rounded-5\" />').hide().appendTo(this.dialog);\nthis.error=jQuery('<div class=\"el-dialogform-error rounded-5\" />').hide().appendTo(this.dialog);this.spinner=jQuery('<div class=\"spinner\" />').hide().appendTo(this.dialog);this.content=jQuery('<div class=\"el-dialogform-content\" />').appendTo(this.dialog);this.form=jQuery(\"<form />\").attr(this.opts.form).appendTo(this.content);if(this.opts.submit){this.form.bind(\"submit\",function(f){a.opts.submit(f,a)})}if(this.opts.ajaxForm&&jQuery.fn.ajaxForm){this.form.ajaxForm(this.opts.ajaxForm)}if(this.opts.validate){this.form.validate(this.opts.validate)\n}this.option=function(f,g){return this.dialog.dialog(\"option\",f,g)};this.showError=function(f,g){this.hideMessage();this.hideSpinner();this.error.html(f).show();g&&this.content.hide();return this};this.hideError=function(){this.error.text(\"\").hide();this.content.show();return this};this.showSpinner=function(f){this.error.hide();this.message.hide();this.content.hide();this.spinner.text(f||this.opts.spinner).show();this.option(\"buttons\",{});return this};this.hideSpinner=function(){this.content.show();\nthis.spinner.hide();return this};this.showMessage=function(f,g){this.hideError();this.hideSpinner();this.message.html(f||\"\").show();g&&this.content.hide();return this};this.hideMessage=function(){this.message.hide();this.content.show();return this};this.tab=function(g,f){g=this.opts.tabPrefix+g;if(!this.ul){this.ul=jQuery(\"<ul />\").prependTo(this.form)}jQuery(\"<li />\").append(jQuery(\"<a />\").attr(\"href\",\"#\"+g).html(f)).appendTo(this.ul);this.tabs[g]={tab:jQuery(\"<div />\").attr(\"id\",g).addClass(\"tab\").appendTo(this.form),table:null};\nreturn this};this.table=function(f){f=f&&f.indexOf(this.opts.tabPrefix)==-1?this.opts.tabPrefix+f:f;if(f&&this.tabs&&this.tabs[f]){this.tabs[f].table=jQuery(\"<table />\").appendTo(this.tabs[f].tab)}else{this._table=jQuery(\"<table />\").appendTo(this.form)}return this};this.append=function(j,k,g){k=k?\"el-df-tab-\"+k:\"\";if(!j){return this}if(k&&this.tabs[k]){if(g){!this.tabs[k].table&&this.table(k);var h=jQuery(\"<tr />\").appendTo(this.tabs[k].table);if(!jQuery.isArray(j)){h.append(jQuery(\"<td />\").append(j))\n}else{for(var f=0;f<j.length;f++){h.append(jQuery(\"<td />\").append(j[f]))}}}else{if(!jQuery.isArray(j)){this.tabs[k].tab.append(j)}else{for(var f=0;f<j.length;f++){this.tabs[k].tab.append(j[f])}}}}else{if(!g){if(!jQuery.isArray(j)){this.form.append(j)}else{for(var f=0;f<j.length;f++){this.form.append(j[f])}}}else{if(!this._table){this.table()}var h=jQuery(\"<tr />\").appendTo(this._table);if(!jQuery.isArray(j)){h.append(jQuery(\"<td />\").append(j))}else{for(var f=0;f<j.length;f++){h.append(jQuery(\"<td />\").append(j[f]))\n}}}}return this};this.separator=function(f){f=\"el-df-tab-\"+f;if(this.tabs&&this.tabs[f]){this.tabs[f].tab.append(jQuery(\"<div />\").addClass(\"separator\"));this.tabs[f].table&&this.table(f)}else{this.form.append(jQuery(\"<div />\").addClass(\"separator\"))}return this};this.open=function(){var f=this;this.ul&&this.form.tabs(this.opts.tabs);setTimeout(function(){f.dialog.find(\":text\").keydown(function(g){if(g.keyCode==13){g.preventDefault();f.form.submit()}}).filter(\":first\")[0].focus()},200);this.dialog.dialog(\"open\");\nreturn this};this.close=function(){if(typeof(this.opts.close)==\"function\"){this.opts.close()}this.dialog.dialog(\"destroy\")}}(function(a){a.fn.elColorPicker=function(h){var b=this;var f=a.extend({},a.fn.elColorPicker.defaults,h);this.hidden=a('<input type=\"hidden\" />').attr(\"name\",f.name).val(f.color||\"\").appendTo(this);this.palette=null;this.preview=null;this.input=null;function c(j){b.val(j);f.change&&f.change(b.val());b.palette.slideUp()}function g(){b.palette=a(\"<div />\").addClass(f.paletteClass+\" rounded-3\");\nfor(var j=0;j<f.colors.length;j++){a(\"<div />\").addClass(\"color\").css(\"background-color\",f.colors[j]).attr({title:f.colors[j],unselectable:\"on\"}).appendTo(b.palette).mouseenter(function(){var k=a(this).attr(\"title\");b.input.val(k);b.preview.css(\"background-color\",k)}).click(function(k){k.stopPropagation();c(a(this).attr(\"title\"))})}b.input=a('<input type=\"text\" />').addClass(\"rounded-3\").attr(\"size\",8).click(function(k){k.stopPropagation();a(this).focus()}).keydown(function(p){if(p.ctrlKey||p.metaKey){return true\n}var o=p.keyCode;if(o==27){return b.mouseleave()}if(o!=8&&o!=13&&o!=46&&o!=37&&o!=39&&(o<48||o>57)&&(o<65||o>70)){return false}var q=a(this).val();if(q.length==7||q.length==0){if(o==13){p.stopPropagation();p.preventDefault();c(q);b.palette.slideUp()}if(p.keyCode!=8&&p.keyCode!=46&&o!=37&&o!=39){return false}}}).keyup(function(k){var o=a(this).val();o.length==7&&/^#[0-9abcdef]{6}$/i.test(o)&&b.val(o)});b.preview=a(\"<div />\").addClass(\"preview rounded-3\").click(function(k){k.stopPropagation();c(b.input.val())\n});b.palette.append(a(\"<div />\").addClass(\"clearfix\")).append(a(\"<div />\").addClass(\"panel\").append(b.input).append(b.preview));if(f.palettePosition==\"outer\"){b.palette.hide().appendTo(b.parents(\"body\").eq(0)).mouseleave(function(){if(!b.palette.is(\":animated\")){a(this).slideUp();b.val(b.val())}});b.mouseleave(function(k){if(k.relatedTarget!=b.palette.get(0)){if(!b.palette.is(\":animated\")){b.palette.slideUp();b.val(b.val())}}})}else{b.append(b.palette.hide()).mouseleave(function(k){b.palette.slideUp();\nb.val(b.val())})}b.val(b.val())}this.empty().addClass(f[\"class\"]+\" rounded-3\").css({position:\"relative\",\"background-color\":f.color||\"\"}).click(function(p){if(!b.hasClass(\"disabled\")){!b.palette&&g();if(f.palettePosition==\"outer\"&&b.palette.css(\"display\")==\"none\"){var q=a(this).offset();var k=b.palette.width();var j=b.parents(\"body\").width()-q.left>=k?q.left:q.left+a(this).outerWidth()-k;b.palette.css({left:j+\"px\",top:q.top+a(this).height()+1+\"px\"})}b.palette.slideToggle()}});this.val=function(j){if(!j&&j!==\"\"){return this.hidden.val()\n}else{this.hidden.val(j);if(f.update){f.update(this.hidden.val())}else{this.css(\"background-color\",j)}if(b.palette){b.preview.css(\"background-color\",j);b.input.val(j)}}return this};return this};a.fn.elColorPicker.defaults={\"class\":\"el-colorpicker\",paletteClass:\"el-palette\",palettePosition:\"inner\",name:\"color\",color:\"\",update:null,change:function(b){},colors:[\"#ffffff\",\"#cccccc\",\"#999999\",\"#666666\",\"#333333\",\"#000000\",\"#ffcccc\",\"#cc9999\",\"#996666\",\"#663333\",\"#330000\",\"#ff9999\",\"#cc6666\",\"#cc3333\",\"#993333\",\"#660000\",\"#ff6666\",\"#ff3333\",\"#ff0000\",\"#cc0000\",\"#990000\",\"#ff9966\",\"#ff6633\",\"#ff3300\",\"#cc3300\",\"#993300\",\"#ffcc99\",\"#cc9966\",\"#cc6633\",\"#996633\",\"#663300\",\"#ff9933\",\"#ff6600\",\"#ff9900\",\"#cc6600\",\"#cc9933\",\"#ffcc66\",\"#ffcc33\",\"#ffcc00\",\"#cc9900\",\"#996600\",\"#ffffcc\",\"#cccc99\",\"#999966\",\"#666633\",\"#333300\",\"#ffff99\",\"#cccc66\",\"#cccc33\",\"#999933\",\"#666600\",\"#ffff66\",\"#ffff33\",\"#ffff00\",\"#cccc00\",\"#999900\",\"#ccff66\",\"#ccff33\",\"#ccff00\",\"#99cc00\",\"#669900\",\"#ccff99\",\"#99cc66\",\"#99cc33\",\"#669933\",\"#336600\",\"#99ff33\",\"#99ff00\",\"#66ff00\",\"#66cc00\",\"#66cc33\",\"#99ff66\",\"#66ff33\",\"#33ff00\",\"#33cc00\",\"#339900\",\"#ccffcc\",\"#99cc99\",\"#669966\",\"#336633\",\"#003300\",\"#99ff99\",\"#66cc66\",\"#33cc33\",\"#339933\",\"#006600\",\"#66ff66\",\"#33ff33\",\"#00ff00\",\"#00cc00\",\"#009900\",\"#66ff99\",\"#33ff66\",\"#00ff33\",\"#00cc33\",\"#009933\",\"#99ffcc\",\"#66cc99\",\"#33cc66\",\"#339966\",\"#006633\",\"#33ff99\",\"#00ff66\",\"#00ff99\",\"#00cc66\",\"#33cc99\",\"#66ffcc\",\"#33ffcc\",\"#00ffcc\",\"#00cc99\",\"#009966\",\"#ccffff\",\"#99cccc\",\"#669999\",\"#336666\",\"#003333\",\"#99ffff\",\"#66cccc\",\"#33cccc\",\"#339999\",\"#006666\",\"#66cccc\",\"#33ffff\",\"#00ffff\",\"#00cccc\",\"#009999\",\"#66ccff\",\"#33ccff\",\"#00ccff\",\"#0099cc\",\"#006699\",\"#99ccff\",\"#6699cc\",\"#3399cc\",\"#336699\",\"#003366\",\"#3399ff\",\"#0099ff\",\"#0066ff\",\"#066ccc\",\"#3366cc\",\"#6699ff\",\"#3366ff\",\"#0033ff\",\"#0033cc\",\"#003399\",\"#ccccff\",\"#9999cc\",\"#666699\",\"#333366\",\"#000033\",\"#9999ff\",\"#6666cc\",\"#3333cc\",\"#333399\",\"#000066\",\"#6666ff\",\"#3333ff\",\"#0000ff\",\"#0000cc\",\"#009999\",\"#9966ff\",\"#6633ff\",\"#3300ff\",\"#3300cc\",\"#330099\",\"#cc99ff\",\"#9966cc\",\"#6633cc\",\"#663399\",\"#330066\",\"#9933ff\",\"#6600ff\",\"#9900ff\",\"#6600cc\",\"#9933cc\",\"#cc66ff\",\"#cc33ff\",\"#cc00ff\",\"#9900cc\",\"#660099\",\"#ffccff\",\"#cc99cc\",\"#996699\",\"#663366\",\"#330033\",\"#ff99ff\",\"#cc66cc\",\"#cc33cc\",\"#993399\",\"#660066\",\"#ff66ff\",\"#ff33ff\",\"#ff00ff\",\"#cc00cc\",\"#990099\",\"#ff66cc\",\"#ff33cc\",\"#ff00cc\",\"#cc0099\",\"#990066\",\"#ff99cc\",\"#cc6699\",\"#cc3399\",\"#993366\",\"#660033\",\"#ff3399\",\"#ff0099\",\"#ff0066\",\"#cc0066\",\"#cc3366\",\"#ff6699\",\"#ff3366\",\"#ff0033\",\"#cc0033\",\"#990033\"]}\n})(jQuery);(function(a){a.fn.elBorderSelect=function(h){var k=this;var q=this.eq(0);var b=a.extend({},a.fn.elBorderSelect.defaults,h);var f=a('<input type=\"text\" />').attr({name:b.name+\"[width]\",size:3}).css(\"text-align\",\"right\").change(function(){k.change()});var j=a(\"<div />\").css(\"position\",\"relative\").elColorPicker({\"class\":\"el-colorpicker ui-icon ui-icon-pencil\",name:b.name+\"[color]\",palettePosition:\"outer\",change:function(){k.change()}});var c=a(\"<div />\").elSelect({tpl:'<div style=\"border-bottom:4px %val #000;width:100%;margin:7px 0\"> </div>',tpls:{\"\":\"%label\"},maxHeight:b.styleHeight||null,select:function(){k.change()\n},src:{\"\":\"none\",solid:\"solid\",dashed:\"dashed\",dotted:\"dotted\",\"double\":\"double\",groove:\"groove\",ridge:\"ridge\",inset:\"inset\",outset:\"outset\"}});q.empty().addClass(b[\"class\"]).attr(\"name\",b.name||\"\").append(a(\"<table />\").attr(\"cellspacing\",0).append(a(\"<tr />\").append(a(\"<td />\").append(f).append(\" px\")).append(a(\"<td />\").append(c)).append(a(\"<td />\").append(j))));function g(t){function r(u){hexDigits=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"];return !u?\"00\":hexDigits[(u-u%16)/16]+hexDigits[u%16]\n}var o=(t||\"\").match(/\\(([0-9]{1,3}),\\s*([0-9]{1,3}),\\s*([0-9]{1,3})\\)/);return o?\"#\"+r(o[1])+r(o[2])+r(o[3]):\"\"}function p(r){if(!r){return r}var o=r.match(/([0-9]+\\.?[0-9]*)\\s*(px|pt|em|%)/);if(o){r=o[1];unit=o[2]}if(r[0]==\".\"){r=\"0\"+r}r=parseFloat(r);if(isNaN(r)){return\"\"}var t=parseInt(a(document.body).css(\"font-size\"))||16;switch(unit){case\"em\":return parseInt(r*t);case\"pt\":return parseInt(r*t/12);case\"%\":return parseInt(r*t/100)}return r}this.change=function(){b.change&&b.change(this.val())\n};this.val=function(u){var t,x,z,r,o;if(!u&&u!==\"\"){t=parseInt(f.val());t=!isNaN(t)?t+\"px\":\"\";x=c.val();z=j.val();return{width:t,style:x,color:z,css:a.trim(t+\" \"+x+\" \"+z)}}else{r=\"\";if(u.nodeName||u.css){if(!u.css){u=a(u)}r=u.css(\"border\");if((r=u.css(\"border\"))){t=x=z=r}else{t=u.css(\"border-width\");x=u.css(\"border-style\");z=u.css(\"border-color\")}}else{t=u.width||\"\";x=u.style||\"\";z=u.color||\"\"}f.val(p(t));o=x?x.match(/(solid|dashed|dotted|double|groove|ridge|inset|outset)/i):\"\";c.val(o?o[1]:\"\");j.val(z.indexOf(\"#\")===0?z:g(z));\nreturn this}};this.val(b.value);return this};a.fn.elBorderSelect.defaults={name:\"el-borderselect\",\"class\":\"el-borderselect\",value:{},change:null}})(jQuery);(function(a){a.fn.elPaddingInput=function(g){var c=this;var f=a.extend({},a.fn.elPaddingInput.defaults,{name:this.attr(\"name\")},g);this.regexps={main:new RegExp(f.type==\"padding\"?'paddings*:s*([^;\"]+)':'margins*:s*([^;\"]+)',\"im\"),left:new RegExp(f.type==\"padding\"?'padding-lefts*:s*([^;\"]+)':'margin-lefts*:s*([^;\"]+)',\"im\"),top:new RegExp(f.type==\"padding\"?'padding-tops*:s*([^;\"]+)':'margin-tops*:s*([^;\"]+)',\"im\"),right:new RegExp(f.type==\"padding\"?'padding-rights*:s*([^;\"]+)':'margin-rights*:s*([^;\"]+)',\"im\"),bottom:new RegExp(f.type==\"padding\"?'padding-bottoms*:s*([^;\"]+)':'margin-bottoms*:s*([^;\"]+)',\"im\")};\na.each([\"left\",\"top\",\"right\",\"bottom\"],function(){c[this]=a('<input type=\"text\" />').attr(\"size\",3).css(\"text-align\",\"right\").css(\"border-\"+this,\"2px solid red\").bind(\"change\",function(){a(this).val(b(a(this).val()));h()}).attr(\"name\",f.name+\"[\"+this+\"]\")});a.each([\"uleft\",\"utop\",\"uright\",\"ubottom\"],function(){c[this]=a(\"<select />\").append('<option value=\"px\">px</option>').append('<option value=\"em\">em</option>').append('<option value=\"pt\">pt</option>').bind(\"change\",function(){h()}).attr(\"name\",f.name+\"[\"+this+\"]\");\nif(f.percents){c[this].append('<option value=\"%\">%</option>')}});this.empty().addClass(f[\"class\"]).append(this.left).append(this.uleft).append(\" x \").append(this.top).append(this.utop).append(\" x \").append(this.right).append(this.uright).append(\" x \").append(this.bottom).append(this.ubottom);this.val=function(z){if(!z&&z!==\"\"){var q=b(this.left.val());var A=b(this.top.val());var j=b(this.right.val());var x=b(this.bottom.val());var w={left:q==\"auto\"||q==0?q:(q!==\"\"?q+this.uleft.val():\"\"),top:A==\"auto\"||A==0?A:(A!==\"\"?A+this.utop.val():\"\"),right:j==\"auto\"||j==0?j:(j!==\"\"?j+this.uright.val():\"\"),bottom:x==\"auto\"||x==0?x:(x!==\"\"?x+this.ubottom.val():\"\"),css:\"\"};\nif(w.left!==\"\"&&w.right!==\"\"&&w.top!==\"\"&&w.bottom!==\"\"){if(w.left==w.right&&w.top==w.bottom){w.css=w.top+\" \"+w.left}else{w.css=w.top+\" \"+w.right+\" \"+w.bottom+\" \"+w.left}}return w}else{if(z.nodeName||z.css){if(!z.css){z=a(z)}var o={left:\"\",top:\"\",right:\"\",bottom:\"\"};var k=(z.attr(\"style\")||\"\").toLowerCase();if(k){k=a.trim(k);var p=k.match(this.regexps.main);if(p){var u=a.trim(p[1]).replace(/\\s+/g,\" \").split(\" \",4);o.top=u[0];o.right=u[1]&&u[1]!==\"\"?u[1]:o.top;o.bottom=u[2]&&u[2]!==\"\"?u[2]:o.top;o.left=u[3]&&u[3]!==\"\"?u[3]:o.right\n}else{a.each([\"left\",\"top\",\"right\",\"bottom\"],function(){var r=this.toString();p=k.match(c.regexps[r]);if(p){o[r]=p[1]}})}}var z=o}a.each([\"left\",\"top\",\"right\",\"bottom\"],function(){var t=this.toString();c[t].val(\"\");c[\"u\"+t].val();if(typeof(z[t])!=\"undefined\"&&z[t]!==null){z[t]=z[t].toString();var v=b(z[t]);c[t].val(v);var r=z[t].match(/(px|em|pt|%)/i);c[\"u\"+t].val(r?r[1]:\"px\")}});return this}};function b(j){j=a.trim(j.toString());if(j[0]==\".\"){j=\"0\"+j}n=parseFloat(j);return !isNaN(n)?n:(j==\"auto\"?j:\"\")\n}function h(){f.change&&f.change(c)}this.val(f.value);return this};a.fn.elPaddingInput.defaults={name:\"el-paddinginput\",\"class\":\"el-paddinginput\",type:\"padding\",value:{},percents:true,change:null}})(jQuery);(function(a){a.fn.elSelect=function(c){var q=this;var u=this.eq(0);var b=a.extend({},a.fn.elSelect.defaults,c);var g=a('<input type=\"hidden\" />').attr(\"name\",b.name);var p=a(\"<label />\").attr({unselectable:\"on\"}).addClass(\"rounded-left-3\");var h=null;var k=null;if(u.get(0).nodeName==\"SELECT\"){b.src={};\nu.children(\"option\").each(function(){b.src[a(this).val()]=a(this).text()});b.value=u.val();b.name=u.attr(\"name\");u.replaceWith((u=a(\"<div />\")))}if(!b.value||!b.src[b.val]){b.value=null;var f=0;for(var r in b.src){if(f++==0){b.value=r}}}this.val=function(o){if(!o&&o!==\"\"){return g.val()}else{if(b.src[o]){g.val(o);j(o);if(h){h.children().each(function(){if(a(this).attr(\"name\")==o){a(this).addClass(\"active\")}else{a(this).removeClass(\"active\")}})}}return this}};function j(o){var w=b.labelTpl||b.tpls[o]||b.tpl;\np.html(w.replace(/%val/g,o).replace(/%label/,b.src[o])).children().attr({unselectable:\"on\"})}u.empty().addClass(b[\"class\"]+\" rounded-3\").attr({unselectable:\"on\"}).append(g).append(p).hover(function(){a(this).addClass(\"hover\")},function(){a(this).removeClass(\"hover\")}).click(function(o){!h&&t();h.slideToggle();if(a.browser.msie&&!k){h.children().each(function(){k=Math.max(k,a(this).width())});if(k>h.width()){h.width(k+40)}}});this.val(b.value);function t(){h=a(\"<div />\").addClass(b.listClass+\" rounded-3\").hide().appendTo(u.mouseleave(function(v){h.slideUp()\n}));for(var x in b.src){var z=b.tpls[x]||b.tpl;a(\"<div />\").attr(\"name\",x).append(a(z.replace(/%val/g,x).replace(/%label/g,b.src[x])).attr({unselectable:\"on\"})).appendTo(h).hover(function(){a(this).addClass(\"hover\")},function(){a(this).removeClass(\"hover\")}).click(function(B){B.stopPropagation();B.preventDefault();var w=a(this).attr(\"name\");q.val(w);b.select(w);h.slideUp()})}var o=u.outerWidth();if(h.width()<o){h.width(o)}var A=h.height();if(b.maxHeight>0&&A>b.maxHeight){h.height(b.maxHeight)}q.val(g.val())\n}return this};a.fn.elSelect.defaults={name:\"el-select\",\"class\":\"el-select\",listClass:\"list\",labelTpl:null,tpl:\"<%val>%label</%val>\",tpls:{},value:null,src:{},select:function(b){window.console&&window.console.log&&window.console.log(\"selected: \"+b)},maxHeight:410}})(jQuery);(function(a){elRTE=function(o,j){if(!o||!o.nodeName){return alert('elRTE: argument \"target\" is not DOM Element')}var c=this,f;this.version=\"1.3\";this.build=\"2011-06-23\";this.options=a.extend(true,{},this.options,j);this.browser=a.browser;\nthis.target=a(o);this.lang=(\"\"+this.options.lang);this._i18n=new eli18n({textdomain:\"rte\",messages:{rte:this.i18Messages[this.lang]||{}}});this.rtl=!!(/^(ar|fa|he)$/.test(this.lang)&&this.i18Messages[this.lang]);if(this.rtl){this.options.cssClass+=\" el-rte-rtl\"}this.toolbar=a('<div class=\"toolbar\"/>');this.iframe=document.createElement(\"iframe\");this.iframe.setAttribute(\"frameborder\",0);this.workzone=a('<div class=\"workzone\"/>').append(this.iframe).append(this.source);this.statusbar=a('<div class=\"statusbar\"/>');\nthis.tabsbar=a('<div class=\"tabsbar\"/>');this.editor=a('<div class=\"'+this.options.cssClass+'\" />').append(this.toolbar).append(this.workzone).append(this.statusbar).append(this.tabsbar);this.doc=null;this.$doc=null;this.window=null;this.utils=new this.utils(this);this.dom=new this.dom(this);this.filter=new this.filter(this);this.updateHeight=function(){c.workzone.add(c.iframe).add(c.source).height(c.workzone.height())};this.resizable=function(q){var p=this;if(this.options.resizable&&a.fn.resizable){if(q){this.editor.resizable({handles:\"se\",alsoResize:this.workzone,minWidth:300,minHeight:200}).bind(\"resize\",p.updateHeight)\n}else{this.editor.resizable(\"destroy\").unbind(\"resize\",p.updateHeight)}}};this.editor.insertAfter(o);var h=\"\";if(o.nodeName==\"TEXTAREA\"){this.source=this.target;this.source.insertAfter(this.iframe).hide();h=this.target.val()}else{this.source=a(\"<textarea />\").insertAfter(this.iframe).hide();h=this.target.hide().html()}this.source.attr(\"name\",this.target.attr(\"name\")||this.target.attr(\"id\"));h=a.trim(h);if(!h){h=\" \"}if(this.options.allowSource){this.tabsbar.append('<div class=\"tab editor rounded-bottom-7 active\">'+c.i18n(\"Editor\")+'</div><div class=\"tab source rounded-bottom-7\">'+c.i18n(\"Source\")+'</div><div class=\"clearfix\" style=\"clear:both\"/>').children(\".tab\").click(function(p){if(!a(this).hasClass(\"active\")){c.tabsbar.children(\".tab\").toggleClass(\"active\");\nc.workzone.children().toggle();if(a(this).hasClass(\"editor\")){c.updateEditor();c.window.focus();c.ui.update(true)}else{c.updateSource();c.source.focus();if(a.browser.msie){}else{c.source[0].setSelectionRange(0,0)}c.ui.disable();c.statusbar.empty()}}})}this.window=this.iframe.contentWindow;this.doc=this.iframe.contentWindow.document;this.$doc=a(this.doc);f='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';a.each(c.options.cssfiles,function(){f+='<link rel=\"stylesheet\" type=\"text/css\" href=\"'+this+'\" />'\n});this.doc.open();var g=this.filter.wysiwyg(h),b=this.rtl?' class=\"el-rte-rtl\"':\"\";this.doc.write(c.options.doctype+f+\"</head><body\"+b+\">\"+(g)+\"</body></html>\");this.doc.close();if(a.browser.msie){this.doc.body.contentEditable=true}else{try{this.doc.designMode=\"on\"}catch(k){}this.doc.execCommand(\"styleWithCSS\",false,this.options.styleWithCSS)}if(this.options.height>0){this.workzone.height(this.options.height)}if(this.options.width>0){this.editor.width(this.options.width)}this.updateHeight();this.resizable(true);\nthis.window.focus();this.history=new this.history(this);this.selection=new this.selection(this);this.ui=new this.ui(this);this.target.parents(\"form\").bind(\"submit.elfinder\",function(p){c.source.parents(\"form\").find('[name=\"el-select\"]').remove();c.beforeSave()});this.source.bind(\"keydown\",function(t){if(t.keyCode==9){t.preventDefault();if(a.browser.msie){var p=document.selection.createRange();p.text=\"\\t\"+p.text;this.focus()}else{var q=this.value.substr(0,this.selectionStart),u=this.value.substr(this.selectionEnd);\nthis.value=q+\"\\t\"+u;this.setSelectionRange(q.length+1,q.length+1)}}});a(this.doc.body).bind(\"dragend\",function(p){setTimeout(function(){try{c.window.focus();var r=c.selection.getBookmark();c.selection.moveToBookmark(r);c.ui.update()}catch(q){}},200)});this.typing=false;this.lastKey=null;this.$doc.bind(\"mouseup\",function(){c.typing=false;c.lastKey=null;c.ui.update()}).bind(\"keyup\",function(p){if((p.keyCode>=8&&p.keyCode<=13)||(p.keyCode>=32&&p.keyCode<=40)||p.keyCode==46||(p.keyCode>=96&&p.keyCode<=111)){c.ui.update()\n}}).bind(\"keydown\",function(p){if((p.metaKey||p.ctrlKey)&&p.keyCode==65){c.ui.update()}else{if(p.keyCode==13){var q=c.selection.getNode();if(c.dom.selfOrParent(q,/^PRE$/)){c.selection.insertNode(c.doc.createTextNode(\"\\r\\n\"));return false}else{if(a.browser.safari&&p.shiftKey){c.selection.insertNode(c.doc.createElement(\"br\"));return false}}}}if((p.keyCode>=48&&p.keyCode<=57)||p.keyCode==61||p.keyCode==109||(p.keyCode>=65&&p.keyCode<=90)||p.keyCode==188||p.keyCode==190||p.keyCode==191||(p.keyCode>=219&&p.keyCode<=222)){if(!c.typing){c.history.add(true)\n}c.typing=true;c.lastKey=null}else{if(p.keyCode==8||p.keyCode==46||p.keyCode==32||p.keyCode==13){if(p.keyCode!=c.lastKey){c.history.add(true)}c.lastKey=p.keyCode;c.typing=false}}if(p.keyCode==32&&a.browser.opera){c.selection.insertNode(c.doc.createTextNode(\" \"));return false}}).bind(\"paste\",function(q){if(!c.options.allowPaste){q.stopPropagation();q.preventDefault()}else{var t=a(c.dom.create(\"div\"))[0],p=c.doc.createTextNode(\"_\");c.history.add(true);c.typing=true;c.lastKey=null;t.appendChild(p);c.selection.deleteContents().insertNode(t);\nc.selection.select(p);setTimeout(function(){if(t.parentNode){a(t).html(c.filter.proccess(\"paste\",a(t).html()));p=t.lastChild;c.dom.unwrap(t);if(p){c.selection.select(p);c.selection.collapse(false)}}else{t.parentNode&&t.parentNode.removeChild(t);c.val(c.filter.proccess(\"paste\",c.filter.wysiwyg2wysiwyg(a(c.doc.body).html())));c.selection.select(c.doc.body.firstChild);c.selection.collapse(true)}a(c.doc.body).mouseup()},15)}});if(a.browser.msie){this.$doc.bind(\"keyup\",function(p){if(p.keyCode==86&&(p.metaKey||p.ctrlKey)){c.history.add(true);\nc.typing=true;c.lastKey=null;c.selection.saveIERange();c.val(c.filter.proccess(\"paste\",c.filter.wysiwyg2wysiwyg(a(c.doc.body).html())));c.selection.restoreIERange();a(c.doc.body).mouseup();this.ui.update()}})}if(a.browser.safari){this.$doc.bind(\"click\",function(p){a(c.doc.body).find(\".elrte-webkit-hl\").removeClass(\"elrte-webkit-hl\");if(p.target.nodeName==\"IMG\"){a(p.target).addClass(\"elrte-webkit-hl\")}}).bind(\"keyup\",function(p){a(c.doc.body).find(\".elrte-webkit-hl\").removeClass(\"elrte-webkit-hl\")\n})}this.window.focus();this.destroy=function(){this.updateSource();this.target.is(\"textarea\")?this.target.val(a.trim(this.source.val())):this.target.html(a.trim(this.source.val()));this.editor.remove();this.target.show().parents(\"form\").unbind(\"submit.elfinder\")}};elRTE.prototype.i18n=function(b){return this._i18n.translate(b)};elRTE.prototype.open=function(){this.editor.show()};elRTE.prototype.close=function(){this.editor.hide()};elRTE.prototype.updateEditor=function(){this.val(this.source.val())\n};elRTE.prototype.updateSource=function(){this.source.val(this.filter.source(a(this.doc.body).html()))};elRTE.prototype.val=function(b){if(typeof(b)==\"string\"){b=\"\"+b;if(this.source.is(\":visible\")){this.source.val(this.filter.source2source(b))}else{if(a.browser.msie){this.doc.body.innerHTML=\"<br />\"+this.filter.wysiwyg(b);this.doc.body.removeChild(this.doc.body.firstChild)}else{this.doc.body.innerHTML=this.filter.wysiwyg(b)}}}else{if(this.source.is(\":visible\")){return this.filter.source2source(this.source.val()).trim()\n}else{return this.filter.source(a(this.doc.body).html()).trim()}}};elRTE.prototype.beforeSave=function(){this.source.val(a.trim(this.val())||\"\")};elRTE.prototype.save=function(){this.beforeSave();this.editor.parents(\"form\").submit()};elRTE.prototype.log=function(b){if(window.console&&window.console.log){window.console.log(b)}};elRTE.prototype.i18Messages={};a.fn.elrte=function(g,b){var f=typeof(g)==\"string\"?g:\"\",c;this.each(function(){if(!this.elrte){this.elrte=new elRTE(this,typeof(g)==\"object\"?g:{})\n}switch(f){case\"open\":case\"show\":this.elrte.open();break;case\"close\":case\"hide\":this.elrte.close();break;case\"updateSource\":this.elrte.updateSource();break;case\"destroy\":this.elrte.destroy()}});if(f==\"val\"){if(!this.length){return\"\"}else{if(this.length==1){return b?this[0].elrte.val(b):this[0].elrte.val()}else{c={};this.each(function(){c[this.elrte.source.attr(\"name\")]=this.elrte.val()});return c}}}return this}})(jQuery);(function(a){elRTE.prototype.dom=function(c){this.rte=c;var b=this;this.regExp={textNodes:/^(A|ABBR|ACRONYM|ADDRESS|B|BDO|BIG|BLOCKQUOTE|CAPTION|CENTER|CITE|CODE|DD|DEL|DFN|DIV|DT|EM|FIELDSET|FONT|H[1-6]|I|INS|KBD|LABEL|LEGEND|LI|MARQUEE|NOBR|NOEMBED|P|PRE|Q|SAMP|SMALL|SPAN|STRIKE|STRONG|SUB|SUP|TD|TH|TT|VAR)$/,textContainsNodes:/^(A|ABBR|ACRONYM|ADDRESS|B|BDO|BIG|BLOCKQUOTE|CAPTION|CENTER|CITE|CODE|DD|DEL|DFN|DIV|DL|DT|EM|FIELDSET|FONT|H[1-6]|I|INS|KBD|LABEL|LEGEND|LI|MARQUEE|NOBR|NOEMBED|OL|P|PRE|Q|SAMP|SMALL|SPAN|STRIKE|STRONG|SUB|SUP|TABLE|THEAD|TBODY|TFOOT|TD|TH|TR|TT|UL|VAR)$/,block:/^(APPLET|BLOCKQUOTE|BR|CAPTION|CENTER|COL|COLGROUP|DD|DIV|DL|DT|H[1-6]|EMBED|FIELDSET|LI|MARQUEE|NOBR|OBJECT|OL|P|PRE|TABLE|THEAD|TBODY|TFOOT|TD|TH|TR|UL)$/,selectionBlock:/^(APPLET|BLOCKQUOTE|BR|CAPTION|CENTER|COL|COLGROUP|DD|DIV|DL|DT|H[1-6]|EMBED|FIELDSET|LI|MARQUEE|NOBR|OBJECT|OL|P|PRE|TD|TH|TR|UL)$/,header:/^H[1-6]$/,formElement:/^(FORM|INPUT|HIDDEN|TEXTAREA|SELECT|BUTTON)$/};\nthis.root=function(){return this.rte.body};this.create=function(f){return this.rte.doc.createElement(f)};this.createBookmark=function(){var f=this.rte.doc.createElement(\"span\");f.id=\"elrte-bm-\"+Math.random().toString().substr(2);a(f).addClass(\"elrtebm elrte-protected\");return f};this.indexOf=function(g){var f=0;g=a(g);while((g=g.prev())&&g.length){f++}return f};this.attr=function(h,f){var g=\"\";if(h.nodeType==1){g=a(h).attr(f);if(g&&f!=\"src\"&&f!=\"href\"&&f!=\"title\"&&f!=\"alt\"){g=g.toString().toLowerCase()\n}}return g||\"\"};this.findCommonAncestor=function(j,h){if(!j||!h){return this.rte.log(\"dom.findCommonAncestor invalid arguments\")}if(j==h){return j}else{if(j.nodeName==\"BODY\"||h.nodeName==\"BODY\"){return this.rte.doc.body}}var o=a(j).parents(),k=a(h).parents(),f=k.length-1,p=k[f];for(var g=o.length-1;g>=0;g--,f--){if(o[g]==k[f]){p=o[g]}else{break}}return p};this.isEmpty=function(f){if(f.nodeType==1){return this.regExp.textNodes.test(f.nodeName)?a.trim(a(f).text()).length==0:false}else{if(f.nodeType==3){return/^(TABLE|THEAD|TFOOT|TBODY|TR|UL|OL|DL)$/.test(f.parentNode.nodeName)||f.nodeValue==\"\"||(a.trim(f.nodeValue).length==0&&!(f.nextSibling&&f.previousSibling&&f.nextSibling.nodeType==1&&f.previousSibling.nodeType==1&&!this.regExp.block.test(f.nextSibling.nodeName)&&!this.regExp.block.test(f.previousSibling.nodeName)))\n}}return true};this.next=function(f){while(f.nextSibling&&(f=f.nextSibling)){if(f.nodeType==1||(f.nodeType==3&&!this.isEmpty(f))){return f}}return null};this.prev=function(f){while(f.previousSibling&&(f=f.previousSibling)){if(f.nodeType==1||(f.nodeType==3&&!this.isEmpty(f))){return f}}return null};this.isPrev=function(g,f){while((g=this.prev(g))){if(g==f){return true}}return false};this.nextAll=function(g){var f=[];while((g=this.next(g))){f.push(g)}return f};this.prevAll=function(g){var f=[];while((g=this.prev(g))){f.push(g)\n}return f};this.toLineEnd=function(g){var f=[];while((g=this.next(g))&&g.nodeName!=\"BR\"&&g.nodeName!=\"HR\"&&this.isInline(g)){f.push(g)}return f};this.toLineStart=function(g){var f=[];while((g=this.prev(g))&&g.nodeName!=\"BR\"&&g.nodeName!=\"HR\"&&this.isInline(g)){f.unshift(g)}return f};this.isFirstNotEmpty=function(f){while((f=this.prev(f))){if(f.nodeType==1||(f.nodeType==3&&a.trim(f.nodeValue)!=\"\")){return false}}return true};this.isLastNotEmpty=function(f){while((f=this.next(f))){if(!this.isEmpty(f)){return false\n}}return true};this.isOnlyNotEmpty=function(f){return this.isFirstNotEmpty(f)&&this.isLastNotEmpty(f)};this.findLastNotEmpty=function(f){this.rte.log(\"findLastNotEmpty Who is here 0_o\");if(f.nodeType==1&&(l=f.lastChild)){if(!this.isEmpty(l)){return l}while(l.previousSibling&&(l=l.previousSibling)){if(!this.isEmpty(l)){return l}}}return false};this.isInline=function(j){if(j.nodeType==3){return true}else{if(j.nodeType==1){j=a(j);var h=j.css(\"display\");var g=j.css(\"float\");return h==\"inline\"||h==\"inline-block\"||g==\"left\"||g==\"right\"\n}}return true};this.is=function(h,g){if(h&&h.nodeName){if(typeof(g)==\"string\"){g=this.regExp[g]||/.?/}if(g instanceof RegExp&&h.nodeName){return g.test(h.nodeName)}else{if(typeof(g)==\"function\"){return g(h)}}}return false};this.filter=function(j,h){var f=[],g;if(!j.push){return this.is(j,h)?j:null}for(g=0;g<j.length;g++){if(this.is(j[g],h)){f.push(j[g])}}return f};this.parents=function(h,g){var f=[];while(h&&(h=h.parentNode)&&h.nodeName!=\"BODY\"&&h.nodeName!=\"HTML\"){if(this.is(h,g)){f.push(h)}}return f\n};this.parent=function(h,g){return this.parents(h,g)[0]||null};this.selfOrParent=function(h,g,f){return this.is(h,g)?h:this.parent(h,f||g)};this.selfOrParentLink=function(f){f=this.selfOrParent(f,/^A$/);return f&&f.href?f:null};this.selfOrParentAnchor=function(f){f=this.selfOrParent(f,/^A$/);return f&&!f.href&&f.name?f:null};this.childLinks=function(g){var f=[];a(\"a[href]\",g).each(function(){f.push(this)});return f};this.selectionHas=function(h){var j=this.rte.selection.cloneContents(),g;if(j&&j.childNodes&&j.childNodes.length){for(g=0;\ng<j.childNodes.length;g++){if(typeof(h)==\"function\"){if(h(j.childNodes[g])){return true}}else{if(j instanceof RegExp){if(h.test(j.childNodes[g].nodeName)){return true}}}}}return false};this.wrap=function(g,f){g=a.isArray(g)?g:[g];f=f.nodeName?f:this.create(f);if(g[0]&&g[0].nodeType&&g[0].parentNode){f=g[0].parentNode.insertBefore(f,g[0]);a(g).each(function(){if(this!=f){f.appendChild(this)}})}return f};this.unwrap=function(f){if(f&&f.parentNode){while(f.firstChild){f.parentNode.insertBefore(f.firstChild,f)\n}f.parentNode.removeChild(f)}};this.wrapContents=function(h,f){f=f.nodeName?f:this.create(f);for(var g=0;g<h.childNodes.length;g++){f.appendChild(h.childNodes[g])}h.appendChild(f);return f};this.cleanNode=function(f){if(f.nodeType!=1){return}if(/^(P|LI)$/.test(f.nodeName)&&(l=this.findLastNotEmpty(f))&&l.nodeName==\"BR\"){a(l).remove()}$n=a(f);$n.children().each(function(){this.cleanNode(this)});if(f.nodeName!=\"BODY\"&&!/^(TABLE|TR|TD)$/.test(f)&&this.isEmpty(f)){return $n.remove()}if($n.attr(\"style\")===\"\"){$n.removeAttr(\"style\")\n}if(this.rte.browser.safari&&$n.hasClass(\"Apple-span\")){$n.removeClass(\"Apple-span\")}if(f.nodeName==\"SPAN\"&&!$n.attr(\"style\")&&!$n.attr(\"class\")&&!$n.attr(\"id\")){$n.replaceWith($n.html())}};this.cleanChildNodes=function(g){var f=this.cleanNode;a(g).children().each(function(){f(this)})};this.tableMatrix=function(j){var h=[];if(j&&j.nodeName==\"TABLE\"){var g=0;function f(o){for(var k=0;k<=g;k++){if(!h[o][k]){return k}}}a(j).find(\"tr\").each(function(k){if(!a.isArray(h[k])){h[k]=[]}a(this).children(\"td,th\").each(function(){var p=parseInt(a(this).attr(\"colspan\")||1);\nvar t=parseInt(a(this).attr(\"rowspan\")||1);var r=f(k);for(var v=0;v<t;v++){for(var o=0;o<p;o++){var q=k+v;if(!a.isArray(h[q])){h[q]=[]}var u=o==0&&v==0?this:(v==0?o:\"-\");h[q][r+o]=u}}g=Math.max(g,h[k].length)})})}return h};this.indexesOfCell=function(j,h){for(var f=0;f<h.length;f++){for(var g=0;g<h[f].length;g++){if(h[f][g]==j){return[f,g]}}}};this.fixTable=function(q){if(q&&q.nodeName==\"TABLE\"){var h=a(q);var p=this.tableMatrix(q);var f=0;a.each(p,function(){f=Math.max(f,this.length)});if(f==0){return h.remove()\n}for(var k=0;k<p.length;k++){var g=p[k].length;if(g==0){h.find(\"tr\").eq(k).remove()}else{if(g<f){var j=f-g;var o=h.find(\"tr\").eq(k);for(i=0;i<j;i++){o.append(\"<td>&nbsp;</td>\")}}}}}};this.tableColumn=function(h,g,o){h=this.selfOrParent(h,/^TD|TH$/);var j=this.selfOrParent(h,/^TABLE$/);ret=[];info={offset:[],delta:[]};if(h&&j){o&&this.fixTable(j);var u=this.tableMatrix(j);var v=false;var t;for(var f=0;f<u.length;f++){for(var q=0;q<u[f].length;q++){if(u[f][q]==h){t=q;v=true;break}}if(v){break}}if(t>=0){for(var f=0;\nf<u.length;f++){var k=u[f][t]||null;if(k){if(k.nodeName){ret.push(k);if(g){info.delta.push(0);info.offset.push(t)}}else{var p=parseInt(k);if(!isNaN(p)&&u[f][t-p]&&u[f][t-p].nodeName){ret.push(u[f][t-p]);if(g){info.delta.push(p);info.offset.push(t)}}}}}}}return !g?ret:{column:ret,info:info}}}})(jQuery);(function(a){elRTE.prototype.filter=function(c){var b=this,f=a(\"<span/>\").addClass(\"elrtetesturl\").appendTo(document.body)[0];this.url=(typeof(f.currentStyle)!=\"undefined\"?f.currentStyle.backgroundImage:document.defaultView.getComputedStyle(f,null)[\"backgroundImage\"]).replace(/^url\\((['\"]?)([\\s\\S]+\\/)[\\s\\S]+\\1\\)$/i,\"$2\");\na(f).remove();this.rte=c;this.xhtml=/xhtml/i.test(c.options.doctype);this.boolAttrs=c.utils.makeObject(\"checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected\".split(\",\"));this.tagRegExp=/<(\\/?)([\\w:]+)((?:\\s+[a-z\\-]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*\\/?>/g;this.openTagRegExp=/<([\\w:]+)((?:\\s+\\w+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*\\/?>/g;this.attrRegExp=/(\\w+)(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\\s]+))?/g;this.scriptRegExp=/<script([^>]*)>([\\s\\S]*?)<\\/script>/gi;\nthis.styleRegExp=/(<style([^>]*)>[\\s\\S]*?<\\/style>)/gi;this.linkRegExp=/(<link([^>]+)>)/gi;this.cdataRegExp=/<!\\[CDATA\\[([\\s\\S]+)\\]\\]>/g;this.objRegExp=/<object([^>]*)>([\\s\\S]*?)<\\/object>/gi;this.embRegExp=/<(embed)((?:\\s+\\w+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*>/gi;this.paramRegExp=/<(param)((?:\\s+\\w+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*>/gi;this.iframeRegExp=/<iframe([^>]*)>([\\s\\S]*?)<\\/iframe>/gi;this.yMapsRegExp=/<div\\s+([^>]*id\\s*=\\s*('|\")?YMapsID[^>]*)>/gi;this.gMapsRegExp=/<iframe\\s+([^>]*src\\s*=\\s*\"http:\\/\\/maps\\.google\\.\\w+[^>]*)>([\\s\\S]*?)<\\/iframe>/gi;\nthis.videoHostRegExp=/^(http:\\/\\/[\\w\\.]*)?(youtube|vimeo|rutube).*/i;this.serviceClassRegExp=/<(\\w+)([^>]*class\\s*=\\s*\"[^>]*elrte-[^>]*)>\\s*(<\\/\\1>)?/gi;this.pagebreakRegExp=/<(\\w+)([^>]*style\\s*=\\s*\"[^>]*page-break[^>]*)>\\s*(<\\/\\1>)?/gi;this.pbRegExp=new RegExp(\"<!-- pagebreak -->\",\"gi\");this.allowTags=c.options.allowTags.length?c.utils.makeObject(c.options.allowTags):null;this.denyTags=c.options.denyTags.length?c.utils.makeObject(c.options.denyTags):null;this.denyAttr=c.options.denyAttr?c.utils.makeObject(c.options.denyAttr):null;\nthis.pasteDenyAttr=c.options.pasteDenyAttr?c.utils.makeObject(c.options.pasteDenyAttr):null;this.fontSize=[\"medium\",\"xx-small\",\"small\",\"medium\",\"large\",\"x-large\",\"xx-large\"];this.fontFamily={\"sans-serif\":/^(arial|tahoma|verdana)$/i,serif:/^(times|times new roman)$/i,monospace:/^courier$/i};this.scripts={};this._chains={};a.each(this.chains,function(g){b._chains[g]=[];a.each(this,function(h,j){typeof(b.rules[j])==\"function\"&&b._chains[g].push(b.rules[j])})});this.proccess=function(h,g){g=a.trim(g).replace(/^\\s*(&nbsp;)+/gi,\"\").replace(/(&nbsp;|<br[^>]*>)+\\s*$/gi,\"\");\na.each(this._chains[h]||[],function(){g=this.call(b,g)});g=g.replace(/\\t/g,\"  \").replace(/\\r/g,\"\").replace(/\\s*\\n\\s*\\n+/g,\"\\n\")+\"  \";return a.trim(g)?g:\" \"};this.wysiwyg=function(g){return this.proccess(\"wysiwyg\",g)};this.source=function(g){return this.proccess(\"source\",g)};this.source2source=function(g){return this.proccess(\"source2source\",g)};this.wysiwyg2wysiwyg=function(g){return this.proccess(\"wysiwyg2wysiwyg\",g)};this.parseAttrs=function(p){var j={},h=this.boolAttrs,g=p.match(this.attrRegExp),o,q,k;\ng&&a.each(g,function(r,t){o=t.split(\"=\");q=a.trim(o[0]).toLowerCase();if(o.length>2){o.shift();k=o.join(\"=\")}else{k=h[q]||o[1]||\"\"}j[q]=a.trim(k).replace(/^('|\")(.*)(\\1)$/,\"$2\")});j.style=this.rte.utils.parseStyle(j.style);j[\"class\"]=this.rte.utils.parseClass(j[\"class\"]||\"\");return j};this.serializeAttrs=function(g,k){var j=[],h=this;a.each(g,function(p,o){if(p==\"style\"){o=h.rte.utils.serializeStyle(o,k)}else{if(p==\"class\"){o=h.rte.utils.serializeClass(o)}}o&&j.push(p+'=\"'+o+'\"')});return j.join(\" \")\n};this.cleanAttrs=function(g,j){var h=this,o=this.replaceAttrs;a.each(g[\"class\"],function(p){/^(Apple-style-span|mso\\w+)$/i.test(p)&&delete g[\"class\"][p]});function k(p){return p+(/\\d$/.test(p)?\"px\":\"\")}a.each(g,function(q,p){o[q]&&o[q].call(h,g,j);if(q==\"style\"){a.each(p,function(t,r){switch(t){case\"mso-padding-alt\":case\"mso-padding-top-alt\":case\"mso-padding-right-alt\":case\"mso-padding-bottom-alt\":case\"mso-padding-left-alt\":case\"mso-margin-alt\":case\"mso-margin-top-alt\":case\"mso-margin-right-alt\":case\"mso-margin-bottom-alt\":case\"mso-margin-left-alt\":case\"mso-table-layout-alt\":case\"mso-height\":case\"mso-width\":case\"mso-vertical-align-alt\":g.style[t.replace(/^mso-|-alt$/g,\"\")]=k(r);\ndelete g.style[t];break;case\"horiz-align\":g.style[\"text-align\"]=r;delete g.style[t];break;case\"vert-align\":g.style[\"vertical-align\"]=r;delete g.style[t];break;case\"font-color\":case\"mso-foreground\":g.style.color=r;delete g.style[t];break;case\"mso-background\":case\"mso-highlight\":g.style.background=r;delete g.style[t];break;case\"mso-default-height\":g.style[\"min-height\"]=k(r);delete g.style[t];break;case\"mso-default-width\":g.style[\"min-width\"]=k(r);delete g.style[t];break;case\"mso-padding-between-alt\":g.style[\"border-collapse\"]=\"separate\";\ng.style[\"border-spacing\"]=k(r);delete g.style[t];break;case\"text-line-through\":if(r.match(/(single|double)/i)){g.style[\"text-decoration\"]=\"line-through\"}delete g.style[t];break;case\"mso-zero-height\":if(r==\"yes\"){g.style.display=\"none\"}delete g.style[t];break;case\"font-weight\":if(r==700){g.style[\"font-weight\"]=\"bold\"}break;default:if(t.match(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!align|decor|indent|trans)|top-bar|version|vnd|word-break)/)){delete g.style[t]\n}}})}});return g}};elRTE.prototype.filter.prototype.replaceTags={b:{tag:\"strong\"},big:{tag:\"span\",style:{\"font-size\":\"large\"}},center:{tag:\"div\",style:{\"text-align\":\"center\"}},i:{tag:\"em\"},font:{tag:\"span\"},nobr:{tag:\"span\",style:{\"white-space\":\"nowrap\"}},menu:{tag:\"ul\"},plaintext:{tag:\"pre\"},s:{tag:\"strike\"},small:{tag:\"span\",style:{\"font-size\":\"small\"}},u:{tag:\"span\",style:{\"text-decoration\":\"underline\"}},xmp:{tag:\"pre\"}};elRTE.prototype.filter.prototype.replaceAttrs={align:function(b,c){switch(c){case\"img\":b.style[b.align.match(/(left|right)/)?\"float\":\"vertical-align\"]=b.align;\nbreak;case\"table\":if(b.align==\"center\"){b.style[\"margin-left\"]=b.style[\"margin-right\"]=\"auto\"}else{b.style[\"float\"]=b.align}break;default:b.style[\"text-align\"]=b.align}delete b.align},border:function(b){!b.style[\"border-width\"]&&(b.style[\"border-width\"]=(parseInt(b.border)||1)+\"px\");!b.style[\"border-style\"]&&(b.style[\"border-style\"]=\"solid\");delete b.border},bordercolor:function(b){!b.style[\"border-color\"]&&(b.style[\"border-color\"]=b.bordercolor);delete b.bordercolor},background:function(b){!b.style[\"background-image\"]&&(b.style[\"background-image\"]=\"url(\"+b.background+\")\");\ndelete b.background},bgcolor:function(b){!b.style[\"background-color\"]&&(b.style[\"background-color\"]=b.bgcolor);delete b.bgcolor},clear:function(b){b.style.clear=b.clear==\"all\"?\"both\":b.clear;delete b.clear},color:function(b){!b.style.color&&(b.style.color=b.color);delete b.color},face:function(b){var c=b.face.toLowerCase();a.each(this.fontFamily,function(g,f){if(c.match(f)){b.style[\"font-family\"]=c+\",\"+g}});delete b.face},hspace:function(b,f){if(f==\"img\"){var c=parseInt(b.hspace)||0;!b.style[\"margin-left\"]&&(b.style[\"margin-left\"]=c+\"px\");\n!b.style[\"margin-right\"]&&(b.style[\"margin-right\"]=c+\"px\");delete b.hspace}},size:function(b,c){if(c!=\"input\"){b.style[\"font-size\"]=this.fontSize[parseInt(b.size)||0]||\"medium\";delete b.size}},valign:function(b){if(!b.style[\"vertical-align\"]){b.style[\"vertical-align\"]=b.valign}delete b.valign},vspace:function(b,f){if(f==\"img\"){var c=parseInt(b.vspace)||0;!b.style[\"margin-top\"]&&(b.style[\"margin-top\"]=c+\"px\");!b.style[\"margin-bottom\"]&&(b.style[\"margin-bottom\"]=c+\"px\");delete b.hspace}}};elRTE.prototype.filter.prototype.rules={allowedTags:function(c){var b=this.allowTags;\nreturn b?c.replace(this.tagRegExp,function(f,h,g){return b[g.toLowerCase()]?f:\"\"}):c},deniedTags:function(b){var c=this.denyTags;return c?b.replace(this.tagRegExp,function(f,h,g){return c[g.toLowerCase()]?\"\":f}):b},clean:function(g){var c=this,b=this.replaceTags,h=this.replaceAttrs,f=this.denyAttr,j;g=g.replace(/<!DOCTYPE([\\s\\S]*)>/gi,\"\").replace(/<p [^>]*class=\"?MsoHeading\"?[^>]*>(.*?)<\\/p>/gi,\"<p><strong>$1</strong></p>\").replace(/<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s&nbsp;]*)<\\/span>/gi,\"$1\").replace(/(<p[^>]*>\\s*<\\/p>|<p[^>]*\\/>)/gi,\"<br>\").replace(/(<\\/p>)(?:\\s*<br\\s*\\/?>\\s*|\\s*&nbsp;\\s*)+\\s*(<p[^>]*>)/gi,function(o,k,p){return k+\"\\n\"+p\n}).replace(this.tagRegExp,function(o,q,p,k){p=p.toLowerCase();if(q){return\"</\"+(b[p]?b[p].tag:p)+\">\"}k=c.cleanAttrs(c.parseAttrs(k||\"\"),p);if(b[p]){b[p].style&&a.extend(k.style,b[p].style);p=b[p].tag}f&&a.each(k,function(r){if(f[r]){delete k[r]}});k=c.serializeAttrs(k);return\"<\"+p+(k?\" \":\"\")+k+\">\"});j=a(\"<div>\"+g+\"</div>\");j.find(\"span:not([id]):not([class])\").each(function(){var k=a(this);if(!k.attr(\"style\")){a.trim(k.html()).length?c.rte.dom.unwrap(this):k.remove()}}).end().find(\"span span:only-child\").each(function(){var o=a(this),u=o.parent().eq(0),r=o.attr(\"id\"),k=u.attr(\"id\"),w,q,v;\nif(c.rte.dom.isOnlyNotEmpty(this)&&(!r||!k)){v=a.trim(u.attr(\"class\")+\" \"+o.attr(\"class\"));v&&u.attr(\"class\",v);q=c.rte.utils.serializeStyle(a.extend(c.rte.utils.parseStyle(a(this).attr(\"style\")||\"\"),c.rte.utils.parseStyle(a(u).attr(\"style\")||\"\")));q&&u.attr(\"style\",q);w=r||k;w&&u.attr(\"id\",w);this.firstChild?a(this.firstChild).unwrap():o.remove()}}).end().find(\"a[name]\").each(function(){a(this).addClass(\"elrte-protected elrte-anchor\")});return j.html()},cleanPaste:function(c){var b=this,f=this.pasteDenyAttr;\nc=c.replace(this.scriptRegExp,\"\").replace(this.styleRegExp,\"\").replace(this.linkRegExp,\"\").replace(this.cdataRegExp,\"\").replace(/\\<\\!--[\\s\\S]*?--\\>/g,\"\");if(this.rte.options.pasteOnlyText){c=c.replace(this.tagRegExp,function(g,j,h){return/br/i.test(h)||(j&&/h[1-6]|p|ol|ul|li|div|blockquote|tr/i)?\"<br>\":\"\"}).replace(/(&nbsp;|<br[^>]*>)+\\s*$/gi,\"\")}else{if(f){c=c.replace(this.openTagRegExp,function(h,j,g){g=b.parseAttrs(g);a.each(g,function(k){if(f[k]){delete g[k]}});g=b.serializeAttrs(g,true);return\"<\"+j+(g?\" \":\"\")+g+\">\"\n})}}return c},replace:function(o){var q=this,b=this.rte.options.replace||[],g;if(b.length){a.each(b,function(r,t){if(typeof(t)==\"function\"){o=t.call(q,o)}})}function k(x,D){var E=r(),B=E&&q.videoHostRegExp.test(E)?E.replace(q.videoHostRegExp,\"$2\"):D.replace(/^\\w+\\/(.+)/,\"$1\"),C=parseInt((x.obj?x.obj.width||x.obj.style.width:0)||(x.embed?x.embed.width||x.embed.style.width:0))||150,A=parseInt((x.obj?x.obj.height||x.obj.style.height:0)||(x.embed?x.embed.height||x.embed.style.height:0))||100,v=\"media\"+Math.random().toString().substring(2),u=\"\",z;\nfunction r(){if(x.embed&&x.embed.src){return x.embed.src}if(x.params&&x.params.length){z=x.params.length;while(z--){if(x.params[z].name==\"src\"||x.params[z].name==\"movie\"){return x.params[z].value}}}}if(x.obj&&x.obj.style&&x.obj.style[\"float\"]){u=' style=\"float:'+x.obj.style[\"float\"]+'\"'}q.scripts[v]=x;return'<img src=\"'+q.url+'pixel.gif\" class=\"elrte-media elrte-media-'+B+' elrte-protected\" title=\"'+(E?q.rte.utils.encode(E):\"\")+'\" rel=\"'+v+'\" width=\"'+C+'\" height=\"'+A+'\"'+u+\">\"}o=o.replace(this.styleRegExp,\"<!-- ELRTE_COMMENT$1 -->\").replace(this.linkRegExp,\"<!-- ELRTE_COMMENT$1-->\").replace(this.cdataRegExp,\"<!--[CDATA[$1]]-->\").replace(this.scriptRegExp,function(u,r,v){var w;\nif(q.denyTags.script){return\"\"}w=\"script\"+Math.random().toString().substring(2);r=q.parseAttrs(r);!r.type&&(r.type=\"text/javascript\");q.scripts[w]=\"<script \"+q.serializeAttrs(r)+\">\"+v+\"<\\/script>\";return\"<!-- ELRTE_SCRIPT:\"+(w)+\" -->\"}).replace(this.yMapsRegExp,function(u,r){r=q.parseAttrs(r);r[\"class\"][\"elrte-yandex-maps\"]=\"elrte-yandex-maps\";r[\"class\"][\"elrte-protected\"]=\"elrte-protected\";return\"<div \"+q.serializeAttrs(r)+\">\"}).replace(this.gMapsRegExp,function(v,u){var z=\"gmaps\"+Math.random().toString().substring(2),r,x;\nu=q.parseAttrs(u);r=parseInt(u.width||u.style.width||100);x=parseInt(u.height||u.style.height||100);q.scripts[z]=v;return'<img src=\"'+q.url+'pixel.gif\" class=\"elrte-google-maps elrte-protected\" id=\"'+z+'\" style=\"width:'+r+\"px;height:\"+x+'px\">'}).replace(this.objRegExp,function(w,u,z){var r=z.match(q.embRegExp),x={obj:q.parseAttrs(u),embed:r&&r.length?q.parseAttrs(r[0].substring(7)):null,params:[]},v=q.rte.utils.mediaInfo(x.embed?x.embed.type||\"\":\"\",x.obj.classid||\"\");if(v){if((r=z.match(q.paramRegExp))){a.each(r,function(t,A){x.params.push(q.parseAttrs(A.substring(6)))\n})}!x.obj.classid&&(x.obj.classid=v.classid[0]);!x.obj.codebase&&(x.obj.codebase=v.codebase);x.embed&&!x.embed.type&&(x.embed.type=v.type);x.obj.width==\"1\"&&delete x.obj.width;x.obj.height==\"1\"&&delete x.obj.height;if(x.embed){x.embed.width==\"1\"&&delete x.embed.width;x.embed.height==\"1\"&&delete x.embed.height}return k(x,v.type)}return w}).replace(this.embRegExp,function(v,w,r){var r=q.parseAttrs(r),u=q.rte.utils.mediaInfo(r.type||\"\");r.width==\"1\"&&delete r.width;r.height==\"1\"&&delete r.height;return u?k({embed:r},u.type):v\n}).replace(this.iframeRegExp,function(x,u){var u=q.parseAttrs(u);var r=u.style.width||(parseInt(u.width)>1?parseInt(u.width)+\"px\":\"100px\");var z=u.style.height||(parseInt(u.height)>1?parseInt(u.height)+\"px\":\"100px\");var A=\"iframe\"+Math.random().toString().substring(2);q.scripts[A]=x;var v='<img id=\"'+A+'\" src=\"'+q.url+'pixel.gif\" class=\"elrte-protected elrte-iframe\" style=\"width:'+r+\"; height:\"+z+'\">';return v}).replace(this.vimeoRegExp,function(u,v,r){r=q.parseAttrs(r);delete r.frameborder;r.width==\"1\"&&delete r.width;\nr.height==\"1\"&&delete r.height;r.type=\"application/x-shockwave-flash\";return k({embed:r},\"application/x-shockwave-flash\")}).replace(/<\\/(embed|param)>/gi,\"\").replace(this.pbRegExp,function(){return'<img src=\"'+q.url+'pixel.gif\" class=\"elrte-protected elrte-pagebreak\">'});g=a(\"<div>\"+o+\"</div>\");if(!this.rte.options.allowTextNodes){var h=this.rte.dom,c=[],p=[];if(a.browser.msie){for(var j=0;j<g[0].childNodes.length;j++){c.push(g[0].childNodes[j])}}else{c=Array.prototype.slice.call(g[0].childNodes)\n}function f(){if(p.length&&h.filter(p,\"notEmpty\").length){h.wrap(p,document.createElement(\"p\"))}p=[]}a.each(c,function(r,t){if(h.is(t,\"block\")){f()}else{if(p.length&&t.previousSibling!=p[p.length-1]){f()}p.push(t)}});f()}return g.html()},restore:function(c){var b=this,f=this.rte.options.restore||[];if(f.length){a.each(f,function(g,h){if(typeof(h)==\"function\"){c=h.call(b,c)}})}c=c.replace(/\\<\\!--\\[CDATA\\[([\\s\\S]*?)\\]\\]--\\>/gi,\"<![CDATA[$1]]>\").replace(/\\<\\!--\\s*ELRTE_SCRIPT\\:\\s*(script\\d+)\\s*--\\>/gi,function(g,h){if(b.scripts[h]){g=b.scripts[h];\ndelete b.scripts[h]}return g||\"\"}).replace(/\\<\\!-- ELRTE_COMMENT([\\s\\S]*?) --\\>/gi,\"$1\").replace(this.serviceClassRegExp,function(k,r,g,p){var g=b.parseAttrs(g),h,q=\"\";if(g[\"class\"][\"elrte-google-maps\"]){var k=\"\";if(b.scripts[g.id]){k=b.scripts[g.id];delete b.scripts[g.id]}return k}else{if(g[\"class\"][\"elrte-iframe\"]){return b.scripts[g.id]||\"\"}else{if(g[\"class\"][\"elrtebm\"]){return\"\"}else{if(g[\"class\"][\"elrte-media\"]){h=b.scripts[g.rel]||{};h.params&&a.each(h.params,function(j,o){q+=\"<param \"+b.serializeAttrs(o)+\">\\n\"\n});h.embed&&(q+=\"<embed \"+b.serializeAttrs(h.embed)+\">\");h.obj&&(q=\"<object \"+b.serializeAttrs(h.obj)+\">\\n\"+q+\"\\n</object>\\n\");return q||k}else{if(g[\"class\"][\"elrte-pagebreak\"]){return\"<!-- pagebreak -->\"}}}}}a.each(g[\"class\"],function(j){if(/^elrte-\\w+/i.test(j)){delete (g[\"class\"][j])}});return\"<\"+r+\" \"+b.serializeAttrs(g)+\">\"+(p||\"\")});return c},compactStyles:function(c){var b=this;return c.replace(this.tagRegExp,function(g,j,h,f){f=!j&&f?b.serializeAttrs(b.parseAttrs(f),true):\"\";return\"<\"+j+h.toLowerCase()+(f?\" \":\"\")+f+\">\"\n})},xhtmlTags:function(b){return this.xhtml?b.replace(/<(img|hr|br|embed|param|link|area)([^>]*\\/*)>/gi,\"<$1$2 />\"):b}};elRTE.prototype.filter.prototype.chains={wysiwyg:[\"replace\",\"clean\",\"allowedTags\",\"deniedTags\",\"compactStyles\"],source:[\"clean\",\"allowedTags\",\"restore\",\"compactStyles\",\"xhtmlTags\"],paste:[\"clean\",\"allowedTags\",\"cleanPaste\",\"replace\",\"deniedTags\",\"compactStyles\"],wysiwyg2wysiwyg:[\"clean\",\"allowedTags\",\"restore\",\"replace\",\"deniedTags\",\"compactStyles\"],source2source:[\"clean\",\"allowedTags\",\"replace\",\"deniedTags\",\"restore\",\"compactStyles\",\"xhtmlTags\"]}\n})(jQuery);(function(a){elRTE.prototype.history=function(b){this.rte=b;this._prev=[];this._next=[];this.add=function(){if(this.rte.options.historyLength>0&&this._prev.length>=this.rte.options.historyLength){this._prev.slice(this.rte.options.historyLength)}var c=this.rte.selection.getBookmark();this._prev.push([a(this.rte.doc.body).html(),c]);this.rte.selection.moveToBookmark(c);this._next=[]};this.back=function(){if(this._prev.length){var c=this.rte.selection.getBookmark(),f=this._prev.pop();this._next.push([a(this.rte.doc.body).html(),c]);\na(this.rte.doc.body).html(f[0]);this.rte.selection.moveToBookmark(f[1])}};this.fwd=function(){if(this._next.length){var c=this.rte.selection.getBookmark(),f=this._next.pop();this._prev.push([a(this.rte.doc.body).html(),c]);a(this.rte.doc.body).html(f[0]);this.rte.selection.moveToBookmark(f[1])}};this.canBack=function(){return this._prev.length};this.canFwd=function(){return this._next.length}}})(jQuery);(function(a){elRTE.prototype.options={doctype:'<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">',cssClass:\"el-rte\",cssfiles:[],height:null,resizable:true,lang:\"en\",toolbar:\"normal\",absoluteURLs:true,allowSource:true,stripWhiteSpace:true,styleWithCSS:false,fmAllow:true,fmOpen:null,allowTags:[],denyTags:[\"applet\",\"base\",\"basefont\",\"bgsound\",\"blink\",\"body\",\"col\",\"colgroup\",\"isindex\",\"frameset\",\"html\",\"head\",\"meta\",\"marquee\",\"noframes\",\"noembed\",\"o:p\",\"title\",\"xml\"],denyAttr:[],pasteDenyAttr:[\"id\",\"name\",\"class\",\"style\",\"language\",\"onclick\",\"ondblclick\",\"onhover\",\"onkeup\",\"onkeydown\",\"onkeypress\"],allowTextNodes:true,allowBrowsersSpecStyles:false,allowPaste:true,pasteOnlyText:false,replace:[],restore:[],pagebreak:'<div style=\"page-break-after: always;\"></div>',buttons:{save:\"Save\",copy:\"Copy\",cut:\"Cut\",css:\"Css style and class\",paste:\"Paste\",pastetext:\"Paste only text\",pasteformattext:\"Paste formatted text\",removeformat:\"Clean format\",undo:\"Undo last action\",redo:\"Redo previous action\",bold:\"Bold\",italic:\"Italic\",underline:\"Underline\",strikethrough:\"Strikethrough\",superscript:\"Superscript\",subscript:\"Subscript\",justifyleft:\"Align left\",justifyright:\"Ailgn right\",justifycenter:\"Align center\",justifyfull:\"Align full\",indent:\"Indent\",outdent:\"Outdent\",rtl:\"Right to left\",ltr:\"Left to right\",forecolor:\"Font color\",hilitecolor:\"Background color\",formatblock:\"Format\",fontsize:\"Font size\",fontname:\"Font\",insertorderedlist:\"Ordered list\",insertunorderedlist:\"Unordered list\",horizontalrule:\"Horizontal rule\",blockquote:\"Blockquote\",div:\"Block element (DIV)\",link:\"Link\",unlink:\"Delete link\",anchor:\"Bookmark\",image:\"Image\",pagebreak:\"Page break\",smiley:\"Smiley\",flash:\"Flash\",table:\"Table\",tablerm:\"Delete table\",tableprops:\"Table properties\",tbcellprops:\"Table cell properties\",tbrowbefore:\"Insert row before\",tbrowafter:\"Insert row after\",tbrowrm:\"Delete row\",tbcolbefore:\"Insert column before\",tbcolafter:\"Insert column after\",tbcolrm:\"Delete column\",tbcellsmerge:\"Merge table cells\",tbcellsplit:\"Split table cell\",docstructure:\"Toggle display document structure\",elfinder:\"Open file manager\",fullscreen:\"Toggle full screen mode\",nbsp:\"Non breakable space\",stopfloat:\"Stop element floating\",about:\"About this software\"},panels:{eol:[],save:[\"save\"],copypaste:[\"copy\",\"cut\",\"paste\",\"pastetext\",\"pasteformattext\",\"removeformat\",\"docstructure\"],undoredo:[\"undo\",\"redo\"],style:[\"bold\",\"italic\",\"underline\",\"strikethrough\",\"subscript\",\"superscript\"],colors:[\"forecolor\",\"hilitecolor\"],alignment:[\"justifyleft\",\"justifycenter\",\"justifyright\",\"justifyfull\"],indent:[\"outdent\",\"indent\"],format:[\"formatblock\",\"fontsize\",\"fontname\"],lists:[\"insertorderedlist\",\"insertunorderedlist\"],elements:[\"horizontalrule\",\"blockquote\",\"div\",\"stopfloat\",\"css\",\"nbsp\",\"smiley\",\"pagebreak\"],direction:[\"ltr\",\"rtl\"],links:[\"link\",\"unlink\",\"anchor\"],images:[\"image\"],media:[\"image\",\"flash\"],tables:[\"table\",\"tableprops\",\"tablerm\",\"tbrowbefore\",\"tbrowafter\",\"tbrowrm\",\"tbcolbefore\",\"tbcolafter\",\"tbcolrm\",\"tbcellprops\",\"tbcellsmerge\",\"tbcellsplit\"],elfinder:[\"elfinder\"],fullscreen:[\"fullscreen\",\"about\"]},toolbars:{tiny:[\"style\"],compact:[\"save\",\"undoredo\",\"style\",\"alignment\",\"lists\",\"links\",\"fullscreen\"],normal:[\"save\",\"copypaste\",\"undoredo\",\"style\",\"alignment\",\"colors\",\"indent\",\"lists\",\"links\",\"elements\",\"images\",\"fullscreen\"],complete:[\"save\",\"copypaste\",\"undoredo\",\"style\",\"alignment\",\"colors\",\"format\",\"indent\",\"lists\",\"links\",\"elements\",\"media\",\"fullscreen\"],maxi:[\"save\",\"copypaste\",\"undoredo\",\"elfinder\",\"style\",\"alignment\",\"direction\",\"colors\",\"format\",\"indent\",\"lists\",\"links\",\"elements\",\"media\",\"tables\",\"fullscreen\"],eldorado:[\"save\",\"copypaste\",\"elfinder\",\"undoredo\",\"style\",\"alignment\",\"colors\",\"format\",\"indent\",\"lists\",\"links\",\"elements\",\"media\",\"tables\",\"fullscreen\"]},panelNames:{save:\"Save\",copypaste:\"Copy/Pase\",undoredo:\"Undo/Redo\",style:\"Text styles\",colors:\"Colors\",alignment:\"Alignment\",indent:\"Indent/Outdent\",format:\"Text format\",lists:\"Lists\",elements:\"Misc elements\",direction:\"Script direction\",links:\"Links\",images:\"Images\",media:\"Media\",tables:\"Tables\",elfinder:\"File manager (elFinder)\"}}\n})(jQuery);(function(a){elRTE.prototype.selection=function(g){this.rte=g;var c=this;this.w3cRange=null;var o,b,j,k;a(this.rte.doc).keyup(function(p){if(p.ctrlKey||p.metaKey||(p.keyCode>=8&&p.keyCode<=13)||(p.keyCode>=32&&p.keyCode<=40)||p.keyCode==46||(p.keyCode>=96&&p.keyCode<=111)){c.cleanCache()}}).mousedown(function(p){if(p.target.nodeName==\"HTML\"){o=c.rte.doc.body}else{o=p.target}b=j=null}).mouseup(function(p){if(p.target.nodeName==\"HTML\"){b=c.rte.doc.body}else{b=p.target}b=p.target;j=null}).click();\nfunction h(){return c.rte.window.getSelection?c.rte.window.getSelection():c.rte.window.document.selection}function f(t,r,q){while(t.nodeName!=\"BODY\"&&t.parentNode&&t.parentNode.nodeName!=\"BODY\"&&(r?t!==r&&t.parentNode!=r:1)&&((q==\"left\"&&c.rte.dom.isFirstNotEmpty(t))||(q==\"right\"&&c.rte.dom.isLastNotEmpty(t))||(c.rte.dom.isFirstNotEmpty(t)&&c.rte.dom.isLastNotEmpty(t)))){t=t.parentNode}return t}this.collapsed=function(){return this.getRangeAt().isCollapsed()};this.collapse=function(p){var q=h(),t=this.getRangeAt();\nt.collapse(p?true:false);if(!a.browser.msie){q.removeAllRanges();q.addRange(t)}return this};this.getRangeAt=function(t){if(this.rte.browser.msie){if(!this.w3cRange){this.w3cRange=new this.rte.w3cRange(this.rte)}t&&this.w3cRange.update();return this.w3cRange}var p=h();var q=p.rangeCount>0?p.getRangeAt(0):this.rte.doc.createRange();q.getStart=function(){return this.startContainer.nodeType==1?this.startContainer.childNodes[Math.min(this.startOffset,this.startContainer.childNodes.length-1)]:this.startContainer\n};q.getEnd=function(){return this.endContainer.nodeType==1?this.endContainer.childNodes[Math.min(this.startOffset==this.endOffset?this.endOffset:this.endOffset-1,this.endContainer.childNodes.length-1)]:this.endContainer};q.isCollapsed=function(){return this.collapsed};return q};this.saveIERange=function(){if(a.browser.msie){k=this.getRangeAt().getBookmark()}};this.restoreIERange=function(){a.browser.msie&&k&&this.getRangeAt().moveToBookmark(k)};this.cloneContents=function(){var v=this.rte.dom.create(\"div\"),q,u,p;\nif(a.browser.msie){try{q=this.rte.window.document.selection.createRange()}catch(t){q=this.rte.doc.body.createTextRange()}a(v).html(q.htmlText)}else{u=this.getRangeAt().cloneContents();for(p=0;p<u.childNodes.length;p++){v.appendChild(u.childNodes[p].cloneNode(true))}}return v};this.select=function(t,w){w=w||t;if(this.rte.browser.msie){var u=this.rte.doc.body.createTextRange(),q=u.duplicate(),p=u.duplicate();q.moveToElementText(t);p.moveToElementText(w);u.setEndPoint(\"StartToStart\",q);u.setEndPoint(\"EndToEnd\",p);\nu.select()}else{var v=h(),u=this.getRangeAt();u.setStartBefore(t);u.setEndAfter(w);v.removeAllRanges();v.addRange(u)}return this.cleanCache()};this.selectContents=function(u){var q=this.getRangeAt();if(u&&u.nodeType==1){if(this.rte.browser.msie){q.range();q.r.moveToElementText(u.parentNode);q.r.select()}else{try{q.selectNodeContents(u)}catch(t){return this.rte.log(\"unable select node contents \"+u)}var p=h();p.removeAllRanges();p.addRange(q)}}return this};this.deleteContents=function(){if(!a.browser.msie){this.getRangeAt().deleteContents()\n}return this};this.insertNode=function(v,u){if(u&&!this.collapsed()){this.collapse()}if(this.rte.browser.msie){var p=v.nodeType==3?v.nodeValue:a(this.rte.dom.create(\"span\")).append(a(v)).html();var t=this.getRangeAt();t.insertNode(p)}else{var t=this.getRangeAt();t.insertNode(v);t.setStartAfter(v);t.setEndAfter(v);var q=h();q.removeAllRanges();q.addRange(t)}return this.cleanCache()};this.insertHtml=function(p,q){if(q&&!this.collapsed()){this.collapse()}if(this.rte.browser.msie){this.getRangeAt().range().pasteHTML(p)\n}else{var r=a(this.rte.dom.create(\"span\")).html(p||\"\").get(0);this.insertNode(r);a(r).replaceWith(a(r).html())}return this.cleanCache()};this.insertText=function(q,p){var r=this.rte.doc.createTextNode(q);return this.insertHtml(r.nodeValue)};this.getBookmark=function(){this.rte.window.focus();var p,v,t,z,w,A=this.rte.dom.createBookmark(),x=this.rte.dom.createBookmark();if(a.browser.msie){try{p=this.rte.window.document.selection.createRange()}catch(x){p=this.rte.doc.body.createTextRange()}if(p.item){var u=p.item(0);\np=this.rte.doc.body.createTextRange();p.moveToElementText(u)}v=p.duplicate();t=p.duplicate();z=this.rte.dom.create(\"span\");w=this.rte.dom.create(\"span\");z.appendChild(A);w.appendChild(x);v.collapse(true);v.pasteHTML(z.innerHTML);t.collapse(false);t.pasteHTML(w.innerHTML)}else{var q=h();var p=q.rangeCount>0?q.getRangeAt(0):this.rte.doc.createRange();v=p.cloneRange();t=p.cloneRange();t.collapse(false);t.insertNode(x);v.collapse(true);v.insertNode(A);this.select(A,x)}return[A.id,x.id]};this.moveToBookmark=function(p){this.rte.window.focus();\nif(p&&p.length==2){var q=this.rte.doc.getElementById(p[0]),v=this.rte.doc.getElementById(p[1]),u,t;if(q&&v){this.select(q,v);if(this.rte.dom.next(q)==v){this.collapse(true)}if(!a.browser.msie){u=h();t=u.rangeCount>0?u.getRangeAt(0):this.rte.doc.createRange();u.removeAllRanges();u.addRange(t)}q.parentNode.removeChild(q);v.parentNode.removeChild(v)}}return this};this.removeBookmark=function(p){this.rte.window.focus();if(p.length==2){var q=this.rte.doc.getElementById(p[0]),r=this.rte.doc.getElementById(p[1]);\nif(q&&r){q.parentNode.removeChild(q);r.parentNode.removeChild(r)}}};this.cleanCache=function(){o=b=j=null;return this};this.getStart=function(){if(!o){var p=this.getRangeAt();o=p.getStart()}return o};this.getEnd=function(){if(!b){var p=this.getRangeAt();b=p.getEnd()}return b};this.getNode=function(){if(!j){j=this.rte.dom.findCommonAncestor(this.getStart(),this.getEnd())}return j};this.selected=function(r){var p={collapsed:false,blocks:false,filter:false,wrap:\"text\",tag:\"span\"};p=a.extend({},p,r);\nif(p.blocks){var v=this.getNode(),u=null;if(u=this.rte.dom.selfOrParent(v,\"selectionBlock\")){return[u]}}var t=this.selectedRaw(p.collapsed,p.blocks);var A=[];var w=[];var B=null;function q(){function D(){for(var F=0;F<w.length;F++){if(w[F].nodeType==1&&(c.rte.dom.selfOrParent(w[F],/^P$/)||a(w[F]).find(\"p\").length>0)){return false}}return true}if(w.length>0){var C=p.tag==\"p\"&&!D()?\"div\":p.tag;var E=c.rte.dom.wrap(w,C);A[B]=E;B=null;w=[]}}function z(E){if(E.nodeType==1){if(/^(THEAD|TFOOT|TBODY|COL|COLGROUP|TR)$/.test(E.nodeName)){a(E).find(\"td,th\").each(function(){var F=p.tag==\"p\"&&a(this).find(\"p\").length>0?\"div\":p.tag;\nvar G=c.rte.dom.wrapContents(this,F);return A.push(G)})}else{if(/^(CAPTION|TD|TH|LI|DT|DD)$/.test(E.nodeName)){var C=p.tag==\"p\"&&a(E).find(\"p\").length>0?\"div\":p.tag;var E=c.rte.dom.wrapContents(E,C);return A.push(E)}}}var D=w.length>0?w[w.length-1]:null;if(D&&D!=c.rte.dom.prev(E)){q()}w.push(E);if(B===null){B=A.length;A.push(\"dummy\")}}if(t.nodes.length>0){for(var x=0;x<t.nodes.length;x++){var v=t.nodes[x];if(v.nodeType==3&&(x==0||x==t.nodes.length-1)&&a.trim(v.nodeValue).length>0){if(x==0&&t.so>0){v=v.splitText(t.so)\n}if(x==t.nodes.length-1&&t.eo>0){v.splitText(x==0&&t.so>0?t.eo-t.so:t.eo)}}switch(p.wrap){case\"text\":if((v.nodeType==1&&v.nodeName==\"BR\")||(v.nodeType==3&&a.trim(v.nodeValue).length>0)){z(v)}else{if(v.nodeType==1){A.push(v)}}break;case\"inline\":if(this.rte.dom.isInline(v)){z(v)}else{if(v.nodeType==1){A.push(v)}}break;case\"all\":if(v.nodeType==1||!this.rte.dom.isEmpty(v)){z(v)}break;default:if(v.nodeType==1||!this.rte.dom.isEmpty(v)){A.push(v)}}}q()}if(A.length){this.rte.window.focus();this.select(A[0],A[A.length-1])\n}return p.filter?this.rte.dom.filter(A,p.filter):A};this.dump=function(p,t,w,v,q){var u=this.getRangeAt();this.rte.log(\"commonAncestorContainer\");this.rte.log(p||u.commonAncestorContainer);this.rte.log(\"startContainer\");this.rte.log(t||u.startContainer);this.rte.log(\"startOffset: \"+(v>=0?v:u.startOffset));this.rte.log(\"endContainer\");this.rte.log(w||u.endContainer);this.rte.log(\"endOffset: \"+(q>=0?q:u.endOffset))};this.selectedRaw=function(z,p){var F={so:null,eo:null,nodes:[]};var q=this.getRangeAt(true);\nvar w=q.commonAncestorContainer;var H,E;var D=false;var B=false;function C(J,r,I){if(J.nodeType==3){I=I>=0?I:J.nodeValue.length;return(r==0&&I==J.nodeValue.length)||a.trim(J.nodeValue).length==a.trim(J.nodeValue.substring(r,I)).length}return true}function x(J,r,I){if(J.nodeType==1){return c.rte.dom.isEmpty(J)}else{if(J.nodeType==3){return a.trim(J.nodeValue.substring(r||0,I>=0?I:J.nodeValue.length)).length==0}}return true}if(q.startContainer.nodeType==1){if(q.startOffset<q.startContainer.childNodes.length){H=q.startContainer.childNodes[q.startOffset];\nF.so=H.nodeType==1?null:0}else{H=q.startContainer.childNodes[q.startOffset-1];F.so=H.nodeType==1?null:H.nodeValue.length}}else{H=q.startContainer;F.so=q.startOffset}if(q.collapsed){if(z){if(p){H=f(H);if(!this.rte.dom.isEmpty(H)||(H=this.rte.dom.next(H))){F.nodes=[H]}if(this.rte.dom.isInline(H)){F.nodes=this.rte.dom.toLineStart(H).concat(F.nodes,this.rte.dom.toLineEnd(H))}if(F.nodes.length>0){F.so=F.nodes[0].nodeType==1?null:0;F.eo=F.nodes[F.nodes.length-1].nodeType==1?null:F.nodes[F.nodes.length-1].nodeValue.length\n}}else{if(!this.rte.dom.isEmpty(H)){F.nodes=[H]}}}return F}if(q.endContainer.nodeType==1){E=q.endContainer.childNodes[q.endOffset-1];F.eo=E.nodeType==1?null:E.nodeValue.length}else{E=q.endContainer;F.eo=q.endOffset}if(H.nodeType==1||p||C(H,F.so,H.nodeValue.length)){H=f(H,w,\"left\");D=true;F.so=H.nodeType==1?null:0}if(E.nodeType==1||p||C(E,0,F.eo)){E=f(E,w,\"right\");B=true;F.eo=E.nodeType==1?null:E.nodeValue.length}if(p){if(H.nodeType!=1&&H.parentNode!=w&&H.parentNode.nodeName!=\"BODY\"){H=H.parentNode;\nF.so=null}if(E.nodeType!=1&&E.parentNode!=w&&E.parentNode.nodeName!=\"BODY\"){E=E.parentNode;F.eo=null}}if(H.parentNode==E.parentNode&&H.parentNode.nodeName!=\"BODY\"&&(D&&this.rte.dom.isFirstNotEmpty(H))&&(B&&this.rte.dom.isLastNotEmpty(E))){H=E=H.parentNode;F.so=H.nodeType==1?null:0;F.eo=E.nodeType==1?null:E.nodeValue.length}if(H==E){if(!this.rte.dom.isEmpty(H)){F.nodes.push(H)}return F}var t=H;while(t.nodeName!=\"BODY\"&&t.parentNode!==w&&t.parentNode.nodeName!=\"BODY\"){t=t.parentNode}var G=E;while(G.nodeName!=\"BODY\"&&G.parentNode!==w&&G.parentNode.nodeName!=\"BODY\"){G=G.parentNode\n}if(!x(H,F.so,H.nodeType==3?H.nodeValue.length:null)){F.nodes.push(H)}var v=H;while(v!==t){var u=v;while((u=this.rte.dom.next(u))){F.nodes.push(u)}v=v.parentNode}v=t;while((v=this.rte.dom.next(v))&&v!=G){F.nodes.push(v)}var A=[];v=E;while(v!==G){var u=v;while((u=this.rte.dom.prev(u))){A.push(u)}v=v.parentNode}if(A.length){F.nodes=F.nodes.concat(A.reverse())}if(!x(E,0,E.nodeType==3?F.eo:null)){F.nodes.push(E)}if(p){if(this.rte.dom.isInline(H)){F.nodes=this.rte.dom.toLineStart(H).concat(F.nodes);F.so=F.nodes[0].nodeType==1?null:0\n}if(this.rte.dom.isInline(E)){F.nodes=F.nodes.concat(this.rte.dom.toLineEnd(E));F.eo=F.nodes[F.nodes.length-1].nodeType==1?null:F.nodes[F.nodes.length-1].nodeValue.length}}return F}}})(jQuery);(function(a){elRTE.prototype.ui=function(f){this.rte=f;this._buttons=[];var v=this,o=this.rte.options.toolbars[f.options.toolbar&&f.options.toolbars[f.options.toolbar]?f.options.toolbar:\"normal\"],r=o.length,g,k,j,h,t,u,q;for(q in this.buttons){if(this.buttons.hasOwnProperty(q)&&q!=\"button\"){this.buttons[q].prototype=this.buttons.button.prototype\n}}while(r--){first=(r==0?true:false);if(o[r-1]==\"eol\"){first=true}k=o[r];if(k==\"eol\"){a(this.rte.doc.createElement(\"br\")).prependTo(this.rte.toolbar);continue}g=a('<ul class=\"panel-'+k+(first?\" first\":\"\")+'\" />').prependTo(this.rte.toolbar);g.bind(\"mousedown\",function(b){b.preventDefault()});j=this.rte.options.panels[k].length;while(j--){h=this.rte.options.panels[k][j];t=this.buttons[h]||this.buttons.button;this._buttons.push((u=new t(this.rte,h)));g.prepend(u.domElem)}}this.update();this.disable=function(){a.each(v._buttons,function(){!this.active&&this.domElem.addClass(\"disabled\")\n})}};elRTE.prototype.ui.prototype.update=function(h){h&&this.rte.selection.cleanCache();var f=this.rte.selection.getNode(),c=this.rte.dom.parents(f,\"*\"),j=this.rte.rtl,q=j?\" &laquo; \":\" &raquo; \",o=\"\",b,g;function k(r){var p=r.nodeName.toLowerCase();r=a(r);if(p==\"img\"){if(r.hasClass(\"elrte-media\")){p=\"media\"}else{if(r.hasClass(\"elrte-google-maps\")){p=\"google map\"}else{if(r.hasClass(\"elrte-yandex-maps\")){p=\"yandex map\"}else{if(r.hasClass(\"elrte-pagebreak\")){p=\"pagebreak\"}}}}}return p}if(f&&f.nodeType==1&&f.nodeName!=\"BODY\"){c.unshift(f)\n}if(!j){c=c.reverse()}for(g=0;g<c.length;g++){o+=(g>0?q:\"\")+k(c[g])}this.rte.statusbar.html(o);a.each(this._buttons,function(){this.update()});this.rte.window.focus()};elRTE.prototype.ui.prototype.buttons={button:function(f,c){var b=this;this.rte=f;this.active=false;this.name=c;this.val=null;this.domElem=a('<li style=\"-moz-user-select:-moz-none\" class=\"'+c+' rounded-3\" name=\"'+c+'\" title=\"'+this.rte.i18n(this.rte.options.buttons[c]||c)+'\" unselectable=\"on\" />').hover(function(){a(this).addClass(\"hover\")\n},function(){a(this).removeClass(\"hover\")}).click(function(g){g.stopPropagation();g.preventDefault();if(!a(this).hasClass(\"disabled\")){b.command()}b.rte.window.focus()})}};elRTE.prototype.ui.prototype.buttons.button.prototype.command=function(){this.rte.history.add();try{this.rte.doc.execCommand(this.name,false,this.val)}catch(b){return this.rte.log(\"commands failed: \"+this.name)}this.rte.ui.update(true)};elRTE.prototype.ui.prototype.buttons.button.prototype.update=function(){try{if(!this.rte.doc.queryCommandEnabled(this.name)){return this.domElem.addClass(\"disabled\")\n}else{this.domElem.removeClass(\"disabled\")}}catch(b){return}try{if(this.rte.doc.queryCommandState(this.name)){this.domElem.addClass(\"active\")}else{this.domElem.removeClass(\"active\")}}catch(b){}}})(jQuery);(function(a){elRTE.prototype.utils=function(c){this.rte=c;this.url=null;this.reg=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;this.baseURL=\"\";this.path=\"\";\nthis.entities={\"&\":\"&amp;\",'\"':\"&quot;\",\"<\":\"&lt;\",\">\":\"&gt;\"};this.entitiesRegExp=/[<>&\\\"]/g;this.media=[{type:\"application/x-shockwave-flash\",classid:[\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"],codebase:\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\"},{type:\"application/x-director\",classid:[\"clsid:166b1bca-3f9c-11cf-8075-444553540000\"],codebase:\"http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=8,5,1,0\"},{type:\"application/x-mplayer2\",classid:[\"clsid:6bf52a52-394a-11d3-b153-00c04f79faa6\",\"clsid:22d6f312-b0f6-11d0-94ab-0080c74c7e95\",\"clsid:05589fa1-c356-11ce-bf01-00aa0055595a\"],codebase:\"http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701\"},{type:\"video/quicktime\",classid:[\"clsid:02bf25d5-8c17-4b23-bc80-d3488abddc6b\"],codebase:\"http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0\"},{type:\"audio/x-pn-realaudio-plugin\",classid:[\"clsid:cfcdaa03-8be4-11cf-b84b-0020afbbccfa\"],codebase:\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\"}];\nthis.rgbRegExp=/\\s*rgb\\s*?\\(\\s*?([0-9]+)\\s*?,\\s*?([0-9]+)\\s*?,\\s*?([0-9]+)\\s*?\\)\\s*/i;this.colorsRegExp=/aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|rgb\\s*\\([^\\)]+\\)/i;this.colors={aqua:\"#00ffff\",black:\"#000000\",blue:\"#0000ff\",fuchsia:\"#ff00ff\",gray:\"#808080\",green:\"#008000\",lime:\"#00ff00\",maroon:\"#800000\",navy:\"#000080\",olive:\"#808000\",orange:\"#ffa500\",purple:\"#800080\",red:\"#ff0000\",silver:\"#c0c0c0\",teal:\"#008080\",white:\"#fffffff\",yellow:\"#ffff00\"};\nvar b=this;this.rgb2hex=function(f){return this.color2Hex(\"\"+f)};this.toPixels=function(g){var f=g.match(/([0-9]+\\.?[0-9]*)\\s*(px|pt|em|%)/);if(f){g=f[1];unit=f[2]}if(g[0]==\".\"){g=\"0\"+g}g=parseFloat(g);if(isNaN(g)){return\"\"}var h=parseInt(a(document.body).css(\"font-size\"))||16;switch(unit){case\"em\":return parseInt(g*h);case\"pt\":return parseInt(g*h/12);case\"%\":return parseInt(g*h/100)}return g};this.absoluteURL=function(g){!this.url&&this._url();g=a.trim(g);if(!g){return\"\"}if(g[0]==\"#\"){return g}var f=this.parseURL(g);\nif(!f.host&&!f.path&&!f.anchor){return\"\"}if(!this.rte.options.absoluteURLs){return g}if(f.protocol){return g}if(f.host&&(f.host.indexOf(\".\")!=-1||f.host==\"localhost\")){return this.url.protocol+\"://\"+g}if(g[0]==\"/\"){g=this.baseURL+g}else{if(g.indexOf(\"./\")==0){g=g.substring(2)}g=this.baseURL+this.path+g}return g};this.parseURL=function(h){var g=h.match(this.reg);var f={};a.each([\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],function(j){f[this]=g[j]\n});if(!f.host.match(/[a-z0-9]/i)){f.host=\"\"}return f};this.trimEventCallback=function(f){f=f?f.toString():\"\";return a.trim(f.replace(/\\r*\\n/mg,\"\").replace(/^function\\s*on[a-z]+\\s*\\(\\s*event\\s*\\)\\s*\\{(.+)\\}$/igm,\"$1\"))};this._url=function(){this.url=this.parseURL(window.location.href);this.baseURL=this.url.protocol+\"://\"+(this.url.userInfo?parts.userInfo+\"@\":\"\")+this.url.host+(this.url.port?\":\"+this.url.port:\"\");this.path=!this.url.file?this.url.path:this.url.path.substring(0,this.url.path.length-this.url.file.length)\n};this.makeObject=function(g){var f={};a.each(g,function(h,j){f[j]=j});return f};this.encode=function(f){var g=this.entities;return(\"\"+f).replace(this.entitiesRegExp,function(h){return g[h]})};this.decode=function(f){return a(\"<div/>\").html(f||\"\").text()};this.parseStyle=function(k){var h={},f=this.rte.options.allowBrowsersSpecStyles,j,q,g,o;if(typeof(k)==\"string\"&&k.length){a.each(k.replace(/&quot;/gi,\"'\").split(\";\"),function(p,r){if((o=r.indexOf(\":\"))!==-1){q=a.trim(r.substr(0,o));g=a.trim(r.substr(o+1));\nif(q==\"color\"||q==\"background-color\"){g=g.toLowerCase()}if(q&&g&&(f||q.substring(0,1)!=\"-\")){h[q]=g}}})}return h};this.compactStyle=function(g){var f=this;if(g.border==\"medium none\"){delete g.border}a.each(g,function(j,h){if(/color$/i.test(j)){g[j]=f.color2Hex(h)}else{if(/^(border|background)$/i.test(j)){g[j]=h.replace(f.colorsRegExp,function(k){return f.color2Hex(k)})}}});if(g[\"border-width\"]){g.border=g[\"border-width\"]+\" \"+(g[\"border-style\"]||\"solid\")+\" \"+(g[\"border-color\"]||\"#000\");delete g[\"border-width\"];\ndelete g[\"border-style\"];delete g[\"border-color\"]}if(g[\"background-image\"]){g.background=(g[\"background-color\"]+\" \")||\"\"+g[\"background-image\"]+\" \"+g[\"background-position\"]||\"0 0 \"+g[\"background-repeat\"]||\"repeat\";delete g[\"background-image\"];delete [\"background-image\"];delete [\"background-position\"];delete [\"background-repeat\"]}if(g[\"margin-top\"]&&g[\"margin-right\"]&&g[\"margin-bottom\"]&&g[\"margin-left\"]){g.margin=g[\"margin-top\"]+\" \"+g[\"margin-right\"]+\" \"+g[\"margin-bottom\"]+\" \"+g[\"margin-left\"];delete g[\"margin-top\"];\ndelete g[\"margin-right\"];delete g[\"margin-bottom\"];delete g[\"margin-left\"]}if(g[\"padding-top\"]&&g[\"padding-right\"]&&g[\"padding-bottom\"]&&g[\"padding-left\"]){g.padding=g[\"padding-top\"]+\" \"+g[\"padding-right\"]+\" \"+g[\"padding-bottom\"]+\" \"+g[\"padding-left\"];delete g[\"padding-top\"];delete g[\"padding-right\"];delete g[\"padding-bottom\"];delete g[\"padding-left\"]}if(g[\"list-style-type\"]||g[\"list-style-position\"]||g[\"list-style-image\"]){g[\"list-style\"]=a.trim(g[\"list-style-type\"]||\" \"+g[\"list-style-position\"]||\"\"+g[\"list-style-image\"]||\"\");\ndelete g[\"list-style-type\"];delete g[\"list-style-position\"];delete g[\"list-style-image\"]}return g};this.serializeStyle=function(g,h){var f=[];a.each(h?this.compactStyle(g):g,function(k,j){j&&f.push(k+\":\"+j)});return f.join(\";\")};this.parseClass=function(f){f=a.trim(f);return f.length?this.makeObject(f.split(/\\s+/)):{};return f.length?f.split(/\\s+/):[]};this.serializeClass=function(h){var g=[];var f=this.rte;a.each(h,function(j){g.push(j)});return g.join(\" \")};this.mediaInfo=function(g,h){var f=this.media.length;\nwhile(f--){if(g===this.media[f].type||(h&&a.inArray(h,this.media[f].classid)!=-1)){return this.media[f]}}};this.color2Hex=function(h){var f;h=h||\"\";if(h.indexOf(\"#\")===0){return h}function g(j){j=parseInt(j).toString(16);return j.length>1?j:\"0\"+j}if(this.colors[h]){return this.colors[h]}if((f=h.match(this.rgbRegExp))){return\"#\"+g(f[1])+g(f[2])+g(f[3])}return\"\"}}})(jQuery);(function(a){elRTE.prototype.w3cRange=function(c){var b=this;this.rte=c;this.r=null;this.collapsed=true;this.startContainer=null;\nthis.endContainer=null;this.startOffset=0;this.endOffset=0;this.commonAncestorContainer=null;this.range=function(){try{this.r=this.rte.window.document.selection.createRange()}catch(f){this.r=this.rte.doc.body.createTextRange()}return this.r};this.insertNode=function(f){this.range();b.r.collapse(false);var g=b.r.duplicate();g.pasteHTML(f)};this.getBookmark=function(){this.range();if(this.r.item){var f=this.r.item(0);this.r=this.rte.doc.body.createTextRange();this.r.moveToElementText(f)}return this.r.getBookmark()\n};this.moveToBookmark=function(f){this.rte.window.focus();this.range().moveToBookmark(f);this.r.select()};this.update=function(){function h(x){var k=\"\\uFEFF\";var o=offset=0;var t=b.r.duplicate();t.collapse(x);var u=t.parentElement();if(!u||u.nodeName==\"HTML\"){return{parent:b.rte.doc.body,ndx:o,offset:offset}}t.pasteHTML(k);childs=u.childNodes;for(var q=0;q<childs.length;q++){var w=childs[q];if(q>0&&(w.nodeType!==3||childs[q-1].nodeType!==3)){o++}if(w.nodeType!==3){offset=0}else{var v=w.nodeValue.indexOf(k);\nif(v!==-1){offset+=v;break}offset+=w.nodeValue.length}}t.moveStart(\"character\",-1);t.text=\"\";return{parent:u,ndx:Math.min(o,u.childNodes.length-1),offset:offset}}this.range();this.startContainer=this.endContainer=null;if(this.r.item){this.collapsed=false;var g=this.r.item(0);this.setStart(g.parentNode,this.rte.dom.indexOf(g));this.setEnd(g.parentNode,this.startOffset+1)}else{this.collapsed=this.r.boundingWidth==0;var j=h(true);var f=h(false);j.parent.normalize();f.parent.normalize();j.ndx=Math.min(j.ndx,j.parent.childNodes.length-1);\nf.ndx=Math.min(f.ndx,f.parent.childNodes.length-1);if(j.parent.childNodes[j.ndx].nodeType&&j.parent.childNodes[j.ndx].nodeType==1){this.setStart(j.parent,j.ndx)}else{this.setStart(j.parent.childNodes[j.ndx],j.offset)}if(f.parent.childNodes[f.ndx].nodeType&&f.parent.childNodes[f.ndx].nodeType==1){this.setEnd(f.parent,f.ndx)}else{this.setEnd(f.parent.childNodes[f.ndx],f.offset)}this.select()}return this};this.isCollapsed=function(){this.range();this.collapsed=this.r.item?false:this.r.boundingWidth==0;\nreturn this.collapsed};this.collapse=function(f){this.range();if(this.r.item){var g=this.r.item(0);this.r=this.rte.doc.body.createTextRange();this.r.moveToElementText(g)}this.r.collapse(f);this.r.select();this.collapsed=true};this.getStart=function(){this.range();if(this.r.item){return this.r.item(0)}var g=this.r.duplicate();g.collapse(true);var f=g.parentElement();return f&&f.nodeName==\"BODY\"?f.firstChild:f};this.getEnd=function(){this.range();if(this.r.item){return this.r.item(0)}var f=this.r.duplicate();\nf.collapse(false);var g=f.parentElement();return g&&g.nodeName==\"BODY\"?g.lastChild:g};this.setStart=function(f,g){this.startContainer=f;this.startOffset=g;if(this.endContainer){this.commonAncestorContainer=this.rte.dom.findCommonAncestor(this.startContainer,this.endContainer)}};this.setEnd=function(f,g){this.endContainer=f;this.endOffset=g;if(this.startContainer){this.commonAncestorContainer=this.rte.dom.findCommonAncestor(this.startContainer,this.endContainer)}};this.setStartBefore=function(f){if(f.parentNode){this.setStart(f.parentNode,this.rte.dom.indexOf(f))\n}};this.setStartAfter=function(f){if(f.parentNode){this.setStart(f.parentNode,this.rte.dom.indexOf(f)+1)}};this.setEndBefore=function(f){if(f.parentNode){this.setEnd(f.parentNode,this.rte.dom.indexOf(f))}};this.setEndAfter=function(f){if(f.parentNode){this.setEnd(f.parentNode,this.rte.dom.indexOf(f)+1)}};this.select=function(){function o(B,z){if(B.nodeType!=3){return -1}var A=\"\\uFEFF\";var x=B.nodeValue;var v=b.rte.doc.body.createTextRange();B.nodeValue=x.substring(0,z)+A+x.substring(z);v.moveToElementText(B.parentNode);\nv.findText(A);var w=Math.abs(v.moveStart(\"character\",-1048575));B.nodeValue=x;return w}this.r=this.rte.doc.body.createTextRange();var k=this.startOffset;var g=this.endOffset;var u=this.startContainer.nodeType==1?this.startContainer.childNodes[Math.min(k,this.startContainer.childNodes.length-1)]:this.startContainer;var q=this.endContainer.nodeType==1?this.endContainer.childNodes[Math.min(k==g?g:g-1,this.endContainer.childNodes.length-1)]:this.endContainer;if(this.collapsed){if(u.nodeType==3){var h=o(u,k);\nthis.r.move(\"character\",h)}else{this.r.moveToElementText(u);this.r.collapse(true)}}else{var f=this.rte.doc.body.createTextRange();var j=o(u,k);var t=o(q,g);if(u.nodeType==3){this.r.move(\"character\",j)}else{this.r.moveToElementText(u)}if(q.nodeType==3){f.move(\"character\",t)}else{f.moveToElementText(q)}this.r.setEndPoint(\"EndToEnd\",f)}try{this.r.select()}catch(q){}if(f){f=null}};this.dump=function(){this.rte.log(\"collapsed: \"+this.collapsed);this.rte.log(\"startContainer: \"+(this.startContainer?this.startContainer.nodeName:\"non\"));\nthis.rte.log(\"startOffset: \"+this.startOffset);this.rte.log(\"endContainer: \"+(this.endContainer?this.endContainer.nodeName:\"none\"));this.rte.log(\"endOffset: \"+this.endOffset)}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.about=function(c,b){this.constructor.prototype.constructor.call(this,c,b);this.active=true;this.command=function(){var g,h,f;g={rtl:c.rtl,submit:function(j,k){k.close()},dialog:{width:560,title:this.rte.i18n(\"About this software\"),buttons:{Ok:function(){a(this).dialog(\"destroy\")\n}}}};f='<div class=\"elrte-logo\"></div><h3>'+this.rte.i18n(\"About elRTE\")+'</h3><br clear=\"all\"/><div class=\"elrte-ver\">'+this.rte.i18n(\"Version\")+\": \"+this.rte.version+\" (\"+this.rte.build+')</div><div class=\"elrte-ver\">jQuery: '+a(\"<div/>\").jquery+'</div><div class=\"elrte-ver\">jQueryUI: '+a.ui.version+'</div><div class=\"elrte-ver\">'+this.rte.i18n(\"Licence\")+\": BSD Licence</div><p>\"+this.rte.i18n(\"elRTE is an open-source JavaScript based WYSIWYG HTML-editor.\")+\"<br/>\"+this.rte.i18n(\"Main goal of the editor - simplify work with text and formating (HTML) on sites, blogs, forums and other online services.\")+\"<br/>\"+this.rte.i18n(\"You can use it in any commercial or non-commercial projects.\")+\"</p><h4>\"+this.rte.i18n(\"Authors\")+'</h4><table class=\"elrte-authors\"><tr><td>Dmitry (dio) Levashov &lt;dio@std42.ru&gt;</td><td>'+this.rte.i18n(\"Chief developer\")+\"</td></tr><tr><td>Troex Nevelin &lt;troex@fury.scancode.ru&gt;</td><td>\"+this.rte.i18n(\"Developer, tech support\")+\"</td></tr><tr><td>Valentin Razumnyh &lt;content@std42.ru&gt;</td><td>\"+this.rte.i18n(\"Interface designer\")+\"</td></tr><tr><td>Tawfek Daghistani &lt;tawfekov@gmail.com&gt;</td><td>\"+this.rte.i18n(\"RTL support\")+\"</td></tr>\"+(this.rte.options.lang!=\"en\"?\"<tr><td>\"+this.rte.i18n(\"_translator\")+\"</td><td>\"+this.rte.i18n(\"_translation\")+\"</td></tr>\":\"\")+'</table><div class=\"elrte-copy\">Copyright &copy; 2009-2011, <a href=\"http://www.std42.ru\">Studio 42</a></div><div class=\"elrte-copy\">'+this.rte.i18n(\"For more information about this software visit the\")+' <a href=\"http://elrte.org\">'+this.rte.i18n(\"elRTE website\")+'.</a></div><div class=\"elrte-copy\">Twitter: <a href=\"http://twitter.com/elrte_elfinder\">elrte_elfinder</a></div>';\nh=new elDialogForm(g);h.append(f);h.open()};this.update=function(){this.domElem.removeClass(\"disabled\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.anchor=function(f,c){this.constructor.prototype.constructor.call(this,f,c);this.input=a('<input type=\"text\" />').attr(\"name\",\"anchor\").attr(\"size\",\"16\");var b=this;this.command=function(){var g={rtl:this.rte.rtl,submit:function(j,k){j.stopPropagation();j.preventDefault();k.close();b.set()},dialog:{title:this.rte.i18n(\"Bookmark\")}};this.anchor=this.rte.dom.selfOrParentAnchor(this.rte.selection.getEnd())||f.dom.create(\"a\");\n!this.rte.selection.collapsed()&&this.rte.selection.collapse(false);this.input.val(a(this.anchor).addClass(\"elrte-anchor\").attr(\"name\"));this.rte.selection.saveIERange();var h=new elDialogForm(g);h.append([this.rte.i18n(\"Bookmark name\"),this.input],null,true).open();setTimeout(function(){b.input.focus()},20)};this.update=function(){var g=this.rte.selection.getNode();if(this.rte.dom.selfOrParentLink(g)){this.domElem.addClass(\"disabled\")}else{if(this.rte.dom.selfOrParentAnchor(g)){this.domElem.removeClass(\"disabled\").addClass(\"active\")\n}else{this.domElem.removeClass(\"disabled\").removeClass(\"active\")}}};this.set=function(){var g=a.trim(this.input.val());if(g){this.rte.history.add();if(!this.anchor.parentNode){this.rte.selection.insertHtml('<a name=\"'+g+'\" title=\"'+this.rte.i18n(\"Bookmark\")+\": \"+g+'\" class=\"elrte-anchor\"></a>')}else{this.anchor.name=g;this.anchor.title=this.rte.i18n(\"Bookmark\")+\": \"+g}}else{if(this.anchor.parentNode){this.rte.history.add();this.anchor.parentNode.removeChild(this.anchor)}}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.blockquote=function(c,b){this.constructor.prototype.constructor.call(this,c,b);\nthis.command=function(){var g,f;this.rte.history.add();if(this.rte.selection.collapsed()&&(g=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^BLOCKQUOTE$/))){a(g).replaceWith(a(g).html())}else{f=this.rte.selection.selected({wrap:\"all\",tag:\"blockquote\"});f.length&&this.rte.selection.select(f[0],f[f.length-1])}this.rte.ui.update(true)};this.update=function(){if(this.rte.selection.collapsed()){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^BLOCKQUOTE$/)){this.domElem.removeClass(\"disabled\").addClass(\"active\")\n}else{this.domElem.addClass(\"disabled\").removeClass(\"active\")}}else{this.domElem.removeClass(\"disabled active\")}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.copy=function(c,b){this.constructor.prototype.constructor.call(this,c,b);this.command=function(){if(this.rte.browser.mozilla){try{this.rte.doc.execCommand(this.name,false,null)}catch(h){var f=\" Ctl + C\";if(this.name==\"cut\"){f=\" Ctl + X\"}else{if(this.name==\"paste\"){f=\" Ctl + V\"}}var g={dialog:{title:this.rte.i18n(\"Warning\"),buttons:{Ok:function(){a(this).dialog(\"close\")\n}}}};var j=new elDialogForm(g);j.append(this.rte.i18n(\"This operation is disabled in your browser on security reason. Use shortcut instead.\")+\": \"+f).open()}}else{this.constructor.prototype.command.call(this)}}};elRTE.prototype.ui.prototype.buttons.cut=elRTE.prototype.ui.prototype.buttons.copy;elRTE.prototype.ui.prototype.buttons.paste=elRTE.prototype.ui.prototype.buttons.copy})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.css=function(f,c){var b=this;this.constructor.prototype.constructor.call(this,f,c);\nthis.cssStyle=a('<input type=\"text\" size=\"42\" name=\"style\" />');this.cssClass=a('<input type=\"text\" size=\"42\" name=\"class\" />');this.elementID=a('<input type=\"text\" size=\"42\" name=\"id\" />');this.command=function(){var j=this.node(),g;this.rte.selection.saveIERange();if(j){var g={submit:function(k,o){k.stopPropagation();k.preventDefault();o.close();b.set()},dialog:{title:this.rte.i18n(\"Style\"),width:450,resizable:true,modal:true}};this.cssStyle.val(a(j).attr(\"style\"));this.cssClass.val(a(j).attr(\"class\"));\nthis.elementID.val(a(j).attr(\"id\"));var h=new elDialogForm(g);h.append([this.rte.i18n(\"Css style\"),this.cssStyle],null,true);h.append([this.rte.i18n(\"Css class\"),this.cssClass],null,true);h.append([this.rte.i18n(\"ID\"),this.elementID],null,true);h.open();setTimeout(function(){b.cssStyle.focus()},20)}};this.set=function(){var g=this.node();this.rte.selection.restoreIERange();if(g){a(g).attr(\"style\",this.cssStyle.val());a(g).attr(\"class\",this.cssClass.val());a(g).attr(\"id\",this.elementID.val());this.rte.ui.update()\n}};this.node=function(){var g=this.rte.selection.getNode();if(g.nodeType==3){g=g.parentNode}return g.nodeType==1&&g.nodeName!=\"BODY\"?g:null};this.update=function(){this.domElem.toggleClass(\"disabled\",this.node()?false:true)}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.rtl=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.command=function(){var h=this.rte.selection.getNode(),g=this;if(a(h).attr(\"dir\")==\"rtl\"||a(h).parents('[dir=\"rtl\"]').length||a(h).find('[dir=\"rtl\"]').length){a(h).removeAttr(\"dir\");\na(h).parents('[dir=\"rtl\"]').removeAttr(\"dir\");a(h).find('[dir=\"rtl\"]').removeAttr(\"dir\")}else{if(this.rte.dom.is(h,\"textNodes\")&&this.rte.dom.is(h,\"block\")){a(h).attr(\"dir\",\"rtl\")}else{a.each(this.rte.dom.parents(h,\"textNodes\"),function(j,k){if(g.rte.dom.is(k,\"block\")){a(k).attr(\"dir\",\"rtl\");return false}})}}this.rte.ui.update()};this.update=function(){var g=this.rte.selection.getNode();this.domElem.removeClass(\"disabled\");if(a(g).attr(\"dir\")==\"rtl\"||a(g).parents('[dir=\"rtl\"]').length||a(g).find('[dir=\"rtl\"]').length){this.domElem.addClass(\"active\")\n}else{this.domElem.removeClass(\"active\")}}};elRTE.prototype.ui.prototype.buttons.ltr=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.command=function(){var h=this.rte.selection.getNode(),g=this;if(a(h).attr(\"dir\")==\"ltr\"||a(h).parents('[dir=\"ltr\"]').length||a(h).find('[dir=\"ltr\"]').length){a(h).removeAttr(\"dir\");a(h).parents('[dir=\"ltr\"]').removeAttr(\"dir\");a(h).find('[dir=\"ltr\"]').removeAttr(\"dir\")}else{if(this.rte.dom.is(h,\"textNodes\")&&this.rte.dom.is(h,\"block\")){a(h).attr(\"dir\",\"ltr\")\n}else{a.each(this.rte.dom.parents(h,\"textNodes\"),function(j,k){if(g.rte.dom.is(k,\"block\")){a(k).attr(\"dir\",\"ltr\");return false}})}}this.rte.ui.update()};this.update=function(){var g=this.rte.selection.getNode();this.domElem.removeClass(\"disabled\");if(a(g).attr(\"dir\")==\"ltr\"||a(g).parents('[dir=\"ltr\"]').length||a(g).find('[dir=\"ltr\"]').length){this.domElem.addClass(\"active\")}else{this.domElem.removeClass(\"active\")}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.div=function(c,b){this.constructor.prototype.constructor.call(this,c,b);\nthis.command=function(){var g,f;this.rte.history.add();if(this.rte.selection.collapsed()){g=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^DIV$/);if(g){a(g).replaceWith(a(g).html())}}else{f=this.rte.selection.selected({wrap:\"all\",tag:\"div\"});f.length&&this.rte.selection.select(f[0],f[f.length-1])}this.rte.ui.update(true)};this.update=function(){if(this.rte.selection.collapsed()){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^DIV$/)){this.domElem.removeClass(\"disabled\").addClass(\"active\")\n}else{this.domElem.addClass(\"disabled active\")}}else{this.domElem.removeClass(\"disabled active\")}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.docstructure=function(c,b){this.constructor.prototype.constructor.call(this,c,b);this.command=function(){this.domElem.toggleClass(\"active\");a(this.rte.doc.body).toggleClass(\"el-rte-structure\")};this.command();this.update=function(){this.domElem.removeClass(\"disabled\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.elfinder=function(f,c){this.constructor.prototype.constructor.call(this,f,c);\nvar b=this,f=this.rte;this.command=function(){if(b.rte.options.fmAllow&&typeof(b.rte.options.fmOpen)==\"function\"){b.rte.options.fmOpen(function(h){var g=decodeURIComponent(h.split(\"/\").pop().replace(/\\+/g,\" \"));if(f.selection.collapsed()){f.selection.insertHtml('<a href=\"'+h+'\" >'+g+\"</a>\")}else{f.doc.execCommand(\"createLink\",false,h)}})}};this.update=function(){if(b.rte.options.fmAllow&&typeof(b.rte.options.fmOpen)==\"function\"){this.domElem.removeClass(\"disabled\")}else{this.domElem.addClass(\"disabled\")\n}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.flash=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.swf=null;this.placeholder=null;this.src={url:a('<input type=\"text\" name=\"url\" />').css(\"width\",\"99%\"),type:a('<select name=\"type\"/>').append('<option value=\"application/x-shockwave-flash\">Flash</option>').append('<option value=\"video/quicktime\">Quicktime movie</option>').append('<option value=\"application/x-mplayer2\">Windows media</option>'),width:a('<input type=\"text\" />').attr(\"size\",5).css(\"text-align\",\"right\"),height:a('<input type=\"text\" />').attr(\"size\",5).css(\"text-align\",\"right\"),wmode:a(\"<select />\").append(a(\"<option />\").val(\"\").text(this.rte.i18n(\"Not set\",\"dialogs\"))).append(a(\"<option />\").val(\"transparent\").text(this.rte.i18n(\"Transparent\"))),align:a(\"<select />\").append(a(\"<option />\").val(\"\").text(this.rte.i18n(\"Not set\",\"dialogs\"))).append(a(\"<option />\").val(\"left\").text(this.rte.i18n(\"Left\"))).append(a(\"<option />\").val(\"right\").text(this.rte.i18n(\"Right\"))).append(a(\"<option />\").val(\"top\").text(this.rte.i18n(\"Top\"))).append(a(\"<option />\").val(\"text-top\").text(this.rte.i18n(\"Text top\"))).append(a(\"<option />\").val(\"middle\").text(this.rte.i18n(\"middle\"))).append(a(\"<option />\").val(\"baseline\").text(this.rte.i18n(\"Baseline\"))).append(a(\"<option />\").val(\"bottom\").text(this.rte.i18n(\"Bottom\"))).append(a(\"<option />\").val(\"text-bottom\").text(this.rte.i18n(\"Text bottom\"))),margin:a(\"<div />\")};\nthis.command=function(){var r=this.rte.selection.getEnd(),j,k=\"\",B=\"\",t=\"\",v,z,x,A,q,C;this.rte.selection.saveIERange();this.src.margin.elPaddingInput({type:\"margin\"});this.placeholder=null;this.swf=null;if(a(r).hasClass(\"elrte-media\")&&(A=a(r).attr(\"rel\"))&&this.rte.filter.scripts[A]){this.placeholder=a(r);q=this.rte.filter.scripts[A];k=\"\";if(q.embed&&q.embed.src){k=q.embed.src}if(q.params&&q.params.length){l=q.params.length;while(l--){if(q.params[l].name==\"src\"||q.params[l].name==\"movie\"){k=q.params[l].value\n}}}if(q.embed){B=q.embed.width||parseInt(q.embed.style.width)||\"\";t=q.embed.height||parseInt(q.embed.style.height)||\"\";C=q.embed.wmode||\"\"}else{if(q.obj){B=q.obj.width||parseInt(q.obj.style.width)||\"\";t=q.obj.height||parseInt(q.obj.style.height)||\"\";C=q.obj.wmode||\"\"}}if(q.obj){v=q.obj.style[\"float\"]||\"\";z=q.obj.style[\"vertical-align\"]||\"\"}else{if(q.embed){v=q.embed.style[\"float\"]||\"\";z=q.embed.style[\"vertical-align\"]||\"\"}}this.src.margin.val(r);this.src.type.val(q.embed?q.embed.type:\"\")}if(a(r).hasClass(\"elrte-swf-placeholder\")){this.placeholder=a(r);\nk=a(r).attr(\"rel\");B=parseInt(a(r).css(\"width\"))||\"\";t=parseInt(a(r).css(\"height\"))||\"\";v=a(r).css(\"float\");z=a(r).css(\"vertical-align\");this.src.margin.val(r);this.src.wmode.val(a(r).attr(\"wmode\"))}this.src.url.val(k);this.src.width.val(B);this.src.height.val(t);this.src.align.val(v||z);this.src.wmode.val(C);var j={rtl:this.rte.rtl,submit:function(h,o){h.stopPropagation();h.preventDefault();b.set();o.close()},dialog:{width:580,position:\"top\",title:this.rte.i18n(\"Flash\")}};var x=new elDialogForm(j);\nif(this.rte.options.fmAllow&&this.rte.options.fmOpen){var g=a(\"<span />\").append(this.src.url.css(\"width\",\"85%\")).append(a(\"<span />\").addClass(\"ui-state-default ui-corner-all\").css({\"float\":\"right\",\"margin-right\":\"3px\"}).attr(\"title\",b.rte.i18n(\"Open file manger\")).append(a(\"<span />\").addClass(\"ui-icon ui-icon-folder-open\")).click(function(){b.rte.options.fmOpen(function(h){b.src.url.val(h).change()})}).hover(function(){a(this).addClass(\"ui-state-hover\")},function(){a(this).removeClass(\"ui-state-hover\")\n}))}else{var g=this.src.url}x.append([this.rte.i18n(\"URL\"),g],null,true);x.append([this.rte.i18n(\"Type\"),this.src.type],null,true);x.append([this.rte.i18n(\"Size\"),a(\"<span />\").append(this.src.width).append(\" x \").append(this.src.height).append(\" px\")],null,true);x.append([this.rte.i18n(\"Wmode\"),this.src.wmode],null,true);x.append([this.rte.i18n(\"Alignment\"),this.src.align],null,true);x.append([this.rte.i18n(\"Margins\"),this.src.margin],null,true);x.open();var u=a(\"<fieldset />\").append(a(\"<legend />\").text(this.rte.i18n(\"Preview\")));\nx.append(u,\"main\");var p=document.createElement(\"iframe\");a(p).attr(\"src\",\"#\").addClass(\"el-rte-preview\").appendTo(u);html=this.rte.options.doctype+'<html xmlns=\"http://www.w3.org/1999/xhtml\"><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /></head><body style=\"padding:0;margin:0;font-size:9px\"> Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin</body></html>';\np.contentWindow.document.open();p.contentWindow.document.write(html);p.contentWindow.document.close();this.frame=p.contentWindow.document;this.preview=a(p.contentWindow.document.body);this.src.type.change(function(){b.src.url.change()});this.src.width.change(function(){if(b.swf){var h=parseInt(a(this).val())||\"\";a(this).val(h);b.swf.css(\"width\",h);b.swf.children(\"embed\").css(\"width\",h)}else{a(this).val(\"\")}});this.src.height.change(function(){if(b.swf){var o=parseInt(a(this).val())||\"\";a(this).val(o);\nb.swf.css(\"height\",o);b.swf.children(\"embed\").css(\"height\",o)}else{a(this).val(\"\")}});this.src.wmode.change(function(){if(b.swf){var h=a(this).val();if(h){b.swf.attr(\"wmode\",h);b.swf.children(\"embed\").attr(\"wmode\",h)}else{b.swf.removeAttr(\"wmode\");b.swf.children(\"embed\").removeAttr(\"wmode\")}}});this.src.align.change(function(){var h=a(this).val(),o=h==\"left\"||h==\"right\";if(b.swf){b.swf.css({\"float\":o?h:\"\",\"vertical-align\":o?\"\":h})}else{a(this).val(\"\")}});this.src.margin.change(function(){if(b.swf){var h=b.src.margin.val();\nif(h.css){b.swf.css(\"margin\",h.css)}else{b.swf.css(\"margin-top\",h.top);b.swf.css(\"margin-right\",h.right);b.swf.css(\"margin-bottom\",h.bottom);b.swf.css(\"margin-left\",h.left)}}});this.src.url.change(function(){var h=b.rte.utils.absoluteURL(a(this).val()),o,w;if(h){o=b.rte.utils.mediaInfo(b.src.type.val());if(!o){o=b.rte.util.mediaInfo(\"application/x-shockwave-flash\")}w='<object classid=\"'+o.classid+'\" codebase=\"'+o.codebase+'\"><param name=\"src\" value=\"'+h+'\" /><embed quality=\"high\" src=\"'+h+'\" type=\"'+o.type+'\"></object>';\nb.preview.children(\"object\").remove().end().prepend(w);b.swf=b.preview.children(\"object\").eq(0)}else{if(b.swf){b.swf.remove();b.swf=null}}b.src.width.trigger(\"change\");b.src.height.trigger(\"change\");b.src.align.trigger(\"change\")}).trigger(\"change\")};this.set=function(){b.swf=null;var g=this.rte.utils.absoluteURL(this.src.url.val()),B=parseInt(this.src.width.val())||\"\",t=parseInt(this.src.height.val())||\"\",C=this.src.wmode.val(),z=this.src.align.val(),v=z==\"left\"||z==\"right\"?z:\"\",A=this.placeholder?this.placeholder.attr(\"rel\"):\"\",p,k,x,q=this.src.margin.val(),r;\nif(!g){if(this.placeholder){this.placeholder.remove();delete this.rte.filter.scripts[A]}}else{i=b.rte.utils.mediaInfo(b.src.type.val());if(!i){i=b.rte.util.mediaInfo(\"application/x-shockwave-flash\")}x=this.rte.filter.videoHostRegExp.test(g)?g.replace(this.rte.filter.videoHostRegExp,\"$2\"):i.type.replace(/^\\w+\\/(.+)/,\"$1\");p={obj:{classid:i.classid[0],codebase:i.codebase,style:{}},params:[{name:\"src\",value:g}],embed:{src:g,type:i.type,quality:\"high\",wmode:C,style:{}}};if(B){p.obj.width=B;p.embed.width=B\n}if(t){p.obj.height=t;p.embed.height=t}if(v){p.obj.style[\"float\"]=v}else{if(z){p.obj.style[\"vertical-align\"]=z}}if(q.css){r={margin:q.css}}else{r={\"margin-top\":q.top,\"margin-right\":q.right,\"margin-bottom\":q.bottom,\"margin-left\":q.left}}p.obj.style=a.extend({},p.obj.style,r);if(this.placeholder&&A){k=this.rte.filter.scripts[A]||{};p=a.extend(true,k,p);delete p.obj.style.width;delete p.obj.style.height;delete p.embed.style.width;delete p.embed.style.height;this.rte.filter.scripts[A]=p;this.placeholder.removeAttr(\"class\")\n}else{var j=\"media\"+Math.random().toString().substring(2);this.rte.filter.scripts[j]=p;this.placeholder=a(this.rte.dom.create(\"img\")).attr(\"rel\",j).attr(\"src\",this.rte.filter.url+\"pixel.gif\");var u=true}this.placeholder.attr(\"title\",this.rte.utils.encode(g)).attr(\"width\",B||150).attr(\"height\",t||100).addClass(\"elrte-protected elrte-media elrte-media-\"+x).css(p.obj.style);if(v){this.placeholder.css(\"float\",v).css(\"vertical-align\",\"\")}else{if(z){this.placeholder.css(\"float\",\"\").css(\"vertical-align\",z)\n}else{this.placeholder.css(\"float\",\"\").css(\"vertical-align\",\"\")}}if(u){this.rte.window.focus();this.rte.selection.restoreIERange();this.rte.selection.insertNode(this.placeholder.get(0))}}};this.update=function(){this.domElem.removeClass(\"disabled\");var g=this.rte.selection.getNode();this.domElem.toggleClass(\"active\",g&&g.nodeName==\"IMG\"&&a(g).hasClass(\"elrte-media\"))}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.fontname=function(f,c){this.constructor.prototype.constructor.call(this,f,c);\nvar b=this;var g={tpl:'<span style=\"font-family:%val\">%label</span>',select:function(h){b.set(h)},src:{\"\":this.rte.i18n(\"Font\"),\"andale mono,sans-serif\":\"Andale Mono\",\"arial,helvetica,sans-serif\":\"Arial\",\"arial black,gadget,sans-serif\":\"Arial Black\",\"book antiqua,palatino,sans-serif\":\"Book Antiqua\",\"comic sans ms,cursive\":\"Comic Sans MS\",\"courier new,courier,monospace\":\"Courier New\",\"georgia,palatino,serif\":\"Georgia\",\"helvetica,sans-serif\":\"Helvetica\",\"impact,sans-serif\":\"Impact\",\"lucida console,monaco,monospace\":\"Lucida console\",\"lucida sans unicode,lucida grande,sans-serif\":\"Lucida grande\",\"tahoma,sans-serif\":\"Tahoma\",\"times new roman,times,serif\":\"Times New Roman\",\"trebuchet ms,lucida grande,verdana,sans-serif\":\"Trebuchet MS\",\"verdana,geneva,sans-serif\":\"Verdana\"}};\nthis.select=this.domElem.elSelect(g);this.command=function(){};this.set=function(j){this.rte.history.add();var h=this.rte.selection.selected({filter:\"textContainsNodes\"});a.each(h,function(){$this=/^(THEAD|TFOOT|TBODY|COL|COLGROUP|TR)$/.test(this.nodeName)?a(this).find(\"td,th\"):a(this);a(this).css(\"font-family\",j).find(\"[style]\").css(\"font-family\",\"\")});this.rte.ui.update()};this.update=function(){this.domElem.removeClass(\"disabled\");var j=this.rte.selection.getNode();if(j.nodeType!=1){j=j.parentNode\n}var h=a(j).css(\"font-family\");h=h?h.toString().toLowerCase().replace(/,\\s+/g,\",\").replace(/'|\"/g,\"\"):\"\";this.select.val(g.src[h]?h:\"\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.fontsize=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;var g={labelTpl:\"%label\",tpl:'<span style=\"font-size:%val;line-height:1.2em\">%label</span>',select:function(h){b.set(h)},src:{\"\":this.rte.i18n(\"Font size\"),\"xx-small\":this.rte.i18n(\"Small (8pt)\"),\"x-small\":this.rte.i18n(\"Small (10px)\"),small:this.rte.i18n(\"Small (12pt)\"),medium:this.rte.i18n(\"Normal (14pt)\"),large:this.rte.i18n(\"Large (18pt)\"),\"x-large\":this.rte.i18n(\"Large (24pt)\"),\"xx-large\":this.rte.i18n(\"Large (36pt)\")}};\nthis.select=this.domElem.elSelect(g);this.command=function(){};this.set=function(j){this.rte.history.add();var h=this.rte.selection.selected({filter:\"textContainsNodes\"});a.each(h,function(){$this=/^(THEAD|TFOOT|TBODY|COL|COLGROUP|TR)$/.test(this.nodeName)?a(this).find(\"td,th\"):a(this);$this.css(\"font-size\",j).find(\"[style]\").css(\"font-size\",\"\")});this.rte.ui.update()};this.update=function(){this.domElem.removeClass(\"disabled\");var h=this.rte.selection.getNode();this.select.val((m=this.rte.dom.attr(h,\"style\").match(/font-size:\\s*([^;]+)/i))?m[1]:\"\")\n}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.forecolor=function(f,c){var b=this;this.constructor.prototype.constructor.call(this,f,c);var g={\"class\":\"\",palettePosition:\"outer\",color:this.defaultColor,update:function(h){b.indicator.css(\"background-color\",h)},change:function(h){b.set(h)}};this.defaultColor=this.name==\"forecolor\"?\"#000000\":\"#ffffff\";this.picker=this.domElem.elColorPicker(g);this.indicator=a(\"<div />\").addClass(\"color-indicator\").prependTo(this.domElem);this.command=function(){};\nthis.set=function(k){if(!this.rte.selection.collapsed()){this.rte.history.add();var h=this.rte.selection.selected({collapse:false,wrap:\"text\"}),j=this.name==\"forecolor\"?\"color\":\"background-color\";a.each(h,function(){if(/^(THEAD|TBODY|TFOOT|TR)$/.test(this.nodeName)){a(this).find(\"td,th\").each(function(){a(this).css(j,k).find(\"*\").css(j,\"\")})}else{a(this).css(j,k).find(\"*\").css(j,\"\")}});this.rte.ui.update(true)}};this.update=function(){this.domElem.removeClass(\"disabled\");var h=this.rte.selection.getNode();\nthis.picker.val(this.rte.utils.rgb2hex(a(h.nodeType!=1?h.parentNode:h).css(this.name==\"forecolor\"?\"color\":\"background-color\"))||this.defaultColor)}};elRTE.prototype.ui.prototype.buttons.hilitecolor=elRTE.prototype.ui.prototype.buttons.forecolor})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.formatblock=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var h=this.rte.browser.msie?function(j){b.val=j;b.constructor.prototype.command.call(b)}:function(j){b.ieCommand(j)};\nvar b=this;var g={labelTpl:\"%label\",tpls:{\"\":\"%label\"},select:function(j){b.formatBlock(j)},src:{span:this.rte.i18n(\"Format\"),h1:this.rte.i18n(\"Heading 1\"),h2:this.rte.i18n(\"Heading 2\"),h3:this.rte.i18n(\"Heading 3\"),h4:this.rte.i18n(\"Heading 4\"),h5:this.rte.i18n(\"Heading 5\"),h6:this.rte.i18n(\"Heading 6\"),p:this.rte.i18n(\"Paragraph\"),address:this.rte.i18n(\"Address\"),pre:this.rte.i18n(\"Preformatted\"),div:this.rte.i18n(\"Normal (DIV)\")}};this.select=this.domElem.elSelect(g);this.command=function(){};\nthis.formatBlock=function(u){function t(z,v){function x(A){a(A).find(\"h1,h2,h3,h4,h5,h6,p,address,pre\").each(function(){a(this).replaceWith(a(this).html())});return A}if(/^(LI|DT|DD|TD|TH|CAPTION)$/.test(z.nodeName)){!b.rte.dom.isEmpty(z)&&b.rte.dom.wrapContents(x(z),v)}else{if(/^(UL|OL|DL|TABLE)$/.test(z.nodeName)){b.rte.dom.wrap(z,v)}else{!b.rte.dom.isEmpty(z)&&a(x(z)).replaceWith(a(b.rte.dom.create(v)).html(a(z).html()))}}}this.rte.history.add();var w=u.toUpperCase(),p,o,r,q=this.rte.selection.collapsed(),k=this.rte.selection.getBookmark(),j=this.rte.selection.selected({collapsed:true,blocks:true,filter:\"textContainsNodes\",wrap:\"inline\",tag:\"span\"});\nl=j.length,s=a(j[0]).prev(),e=a(j[j.length-1]).next();while(l--){o=j[l];r=a(o);if(w==\"DIV\"||w==\"SPAN\"){if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)){r.replaceWith(a(this.rte.dom.create(\"div\")).html(r.html()||\"\"))}}else{if(/^(THEAD|TBODY|TFOOT|TR)$/.test(o.nodeName)){r.find(\"td,th\").each(function(){t(this,w)})}else{if(o.nodeName!=w){t(o,w)}}}}this.rte.selection.moveToBookmark(k);this.rte.ui.update(true)};this.update=function(){this.domElem.removeClass(\"disabled\");var j=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(H[1-6]|P|ADDRESS|PRE)$/);\nthis.select.val(j?j.nodeName.toLowerCase():\"span\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.fullscreen=function(g,f){var b=this;this.constructor.prototype.constructor.call(this,g,f);this.active=true;this.editor=g.editor;this.wz=g.workzone;this.height=0;this.delta=0;this._class=\"el-fullscreen\";setTimeout(function(){b.height=b.wz.height();b.delta=b.editor.outerHeight()-b.height},50);function c(){b.wz.height(a(window).height()-b.delta);b.rte.updateHeight()}this.command=function(){var B=a(window),u=this.editor,k=u.parents().filter(function(h,p){return !/^(html|body)$/i.test(p.nodeName)&&a(p).css(\"position\")==\"relative\"\n}),q=this.wz,z=this._class,t=u.hasClass(z),j=this.rte,C=this.rte.selection,o=a.browser.mozilla,A,r;function x(){if(o){A=C.getBookmark()}}function v(){if(o){b.wz.children().toggle();b.rte.source.focus();b.wz.children().toggle();C.moveToBookmark(A)}}x();k.css(\"position\",t?\"relative\":\"static\");if(t){u.removeClass(z);q.height(this.height);B.unbind(\"resize\",c);this.domElem.removeClass(\"active\")}else{u.addClass(z).removeAttr(\"style\");q.height(B.height()-this.delta).css(\"width\",\"100%\");B.bind(\"resize\",c);\nthis.domElem.addClass(\"active\")}j.updateHeight();j.resizable(t);v()};this.update=function(){this.domElem.removeClass(\"disabled\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.horizontalrule=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.src={width:a('<input type=\"text\" />').attr({name:\"width\",size:4}).css(\"text-align\",\"right\"),wunit:a(\"<select />\").attr(\"name\",\"wunit\").append(a(\"<option />\").val(\"%\").text(\"%\")).append(a(\"<option />\").val(\"px\").text(\"px\")).val(\"%\"),height:a('<input type=\"text\" />').attr({name:\"height\",size:4}).css(\"text-align\",\"right\"),bg:a(\"<div />\"),border:a(\"<div />\"),\"class\":a('<input type=\"text\" />').css(\"width\",\"100%\"),style:a('<input type=\"text\" />').css(\"width\",\"100%\")};\nthis.command=function(){this.src.bg.elColorPicker({palettePosition:\"outer\",\"class\":\"el-colorpicker ui-icon ui-icon-pencil\"});var k=this.rte.selection.getEnd();this.hr=k.nodeName==\"HR\"?a(k):a(f.doc.createElement(\"hr\")).css({width:\"100%\",height:\"1px\"});this.src.border.elBorderSelect({styleHeight:73,value:this.hr});var g=this.hr.css(\"width\")||this.hr.attr(\"width\");this.src.width.val(parseInt(g)||100);this.src.wunit.val(g.indexOf(\"px\")!=-1?\"px\":\"%\");this.src.height.val(this.rte.utils.toPixels(this.hr.css(\"height\")||this.hr.attr(\"height\"))||1);\nthis.src.bg.val(this.rte.utils.color2Hex(this.hr.css(\"background-color\")));this.src[\"class\"].val(this.rte.dom.attr(this.hr,\"class\"));this.src.style.val(this.rte.dom.attr(this.hr,\"style\"));var h={rtl:this.rte.rtl,submit:function(o,p){o.stopPropagation();o.preventDefault();b.set();p.close()},dialog:{title:this.rte.i18n(\"Horizontal rule\")}};var j=new elDialogForm(h);j.append([this.rte.i18n(\"Width\"),a(\"<span />\").append(this.src.width).append(this.src.wunit)],null,true).append([this.rte.i18n(\"Height\"),a(\"<span />\").append(this.src.height).append(\" px\")],null,true).append([this.rte.i18n(\"Border\"),this.src.border],null,true).append([this.rte.i18n(\"Background\"),this.src.bg],null,true).append([this.rte.i18n(\"Css class\"),this.src[\"class\"]],null,true).append([this.rte.i18n(\"Css style\"),this.src.style],null,true).open()\n};this.update=function(){this.domElem.removeClass(\"disabled\");if(this.rte.selection.getEnd().nodeName==\"HR\"){this.domElem.addClass(\"active\")}else{this.domElem.removeClass(\"active\")}};this.set=function(){this.rte.history.add();!this.hr.parentNode&&this.rte.selection.insertNode(this.hr.get(0));var h={noshade:true,style:this.src.style.val()};var g=this.src.border.val();var j={width:(parseInt(this.src.width.val())||100)+this.src.wunit.val(),height:parseInt(this.src.height.val())||1,\"background-color\":this.src.bg.val(),border:g.width&&g.style?g.width+\" \"+g.style+\" \"+g.color:\"\"};\nthis.hr.removeAttr(\"class\").removeAttr(\"style\").removeAttr(\"width\").removeAttr(\"height\").removeAttr(\"align\").attr(h).css(j);if(this.src[\"class\"].val()){this.hr.attr(\"class\",this.src[\"class\"].val())}this.rte.ui.update()}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.image=function(b,c){this.constructor.prototype.constructor.call(this,b,c);var q=this,b=q.rte,h=0,f=0,p=0,g=null,j=function(t){a.each(q.src,function(u,v){a.each(v,function(x,w){if(x==\"src\"&&t){return}w.val(\"\")})})},o=function(t){a.each(q.src,function(u,v){a.each(v,function(E,B){var C,x,D,A,z;\nif(E==\"width\"){C=t.width()}else{if(E==\"height\"){C=t.height()}else{if(E==\"border\"){C=\"\";z=t.css(\"border\")||b.utils.parseStyle(t.attr(\"style\")).border||\"\";if(z){x=z.match(/(\\d(px|em|%))/);D=z.match(/(#[a-z0-9]+)/);C={width:x?x[1]:z,style:z,color:b.utils.color2Hex(D?D[1]:z)}}}else{if(E==\"margin\"){C=t}else{if(E==\"align\"){C=t.css(\"float\");if(C!=\"left\"&&C!=\"right\"){C=t.css(\"vertical-align\")}}else{C=t.attr(E)||\"\"}}}}}if(u==\"events\"){C=b.utils.trimEventCallback(C)}B.val(C)})})},k=function(){var t=q.src.main.src.val();\nj(true);if(!t){q.preview.children(\"img\").remove();q.prevImg=null}else{if(q.prevImg){q.prevImg.removeAttr(\"src\").removeAttr(\"style\").removeAttr(\"class\").removeAttr(\"id\").removeAttr(\"title\").removeAttr(\"alt\").removeAttr(\"longdesc\");a.each(q.src.events,function(v,u){q.prevImg.removeAttr(v)})}else{q.prevImg=a(\"<img/>\").prependTo(q.preview)}q.prevImg.load(function(){q.prevImg.unbind(\"load\");setTimeout(function(){f=q.prevImg.width();p=q.prevImg.height();h=(f/p).toFixed(2);q.src.main.width.val(f);q.src.main.height.val(p)\n},100)}).attr(\"src\",t)}},r=function(v){var t=parseInt(q.src.main.width.val())||0,u=parseInt(q.src.main.height.val())||0;if(q.prevImg){if(t&&u){if(v.target===q.src.main.width[0]){u=parseInt(t/h)}else{t=parseInt(u*h)}}else{t=f;u=p}q.src.main.height.val(u);q.src.main.width.val(t);q.prevImg.width(t).height(u);q.src.adv.style.val(q.prevImg.attr(\"style\"))}};this.img=null;this.prevImg=null;this.preview=a('<div class=\"elrte-image-preview\"/>').text(\"Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin\");\nthis.init=function(){this.labels={main:\"Properies\",link:\"Link\",adv:\"Advanced\",events:\"Events\",id:\"ID\",\"class\":\"Css class\",style:\"Css style\",longdesc:\"Detail description URL\",href:\"URL\",target:\"Open in\",title:\"Title\"};this.src={main:{src:a('<input type=\"text\" />').css(\"width\",\"100%\").change(k),title:a('<input type=\"text\" />').css(\"width\",\"100%\"),alt:a('<input type=\"text\" />').css(\"width\",\"100%\"),width:a('<input type=\"text\" />').attr(\"size\",5).css(\"text-align\",\"right\").change(r),height:a('<input type=\"text\" />').attr(\"size\",5).css(\"text-align\",\"right\").change(r),margin:a(\"<div />\").elPaddingInput({type:\"margin\",change:function(){var t=q.src.main.margin.val();\nif(q.prevImg){if(t.css){q.prevImg.css(\"margin\",t.css)}else{q.prevImg.css({\"margin-left\":t.left,\"margin-top\":t.top,\"margin-right\":t.right,\"margin-bottom\":t.bottom})}}}}),align:a(\"<select />\").css(\"width\",\"100%\").append(a(\"<option />\").val(\"\").text(this.rte.i18n(\"Not set\",\"dialogs\"))).append(a(\"<option />\").val(\"left\").text(this.rte.i18n(\"Left\"))).append(a(\"<option />\").val(\"right\").text(this.rte.i18n(\"Right\"))).append(a(\"<option />\").val(\"top\").text(this.rte.i18n(\"Top\"))).append(a(\"<option />\").val(\"text-top\").text(this.rte.i18n(\"Text top\"))).append(a(\"<option />\").val(\"middle\").text(this.rte.i18n(\"middle\"))).append(a(\"<option />\").val(\"baseline\").text(this.rte.i18n(\"Baseline\"))).append(a(\"<option />\").val(\"bottom\").text(this.rte.i18n(\"Bottom\"))).append(a(\"<option />\").val(\"text-bottom\").text(this.rte.i18n(\"Text bottom\"))).change(function(){var u=a(this).val(),t={\"float\":\"\",\"vertical-align\":\"\"};\nif(q.prevImg){if(u==\"left\"||u==\"right\"){t[\"float\"]=u;t[\"vertical-align\"]=\"\"}else{if(u){t[\"float\"]=\"\";t[\"vertical-align\"]=u}}q.prevImg.css(t)}}),border:a(\"<div />\").elBorderSelect({name:\"border\",change:function(){var t=q.src.main.border.val();if(q.prevImg){q.prevImg.css(\"border\",t.width?t.width+\" \"+t.style+\" \"+t.color:\"\")}}})},adv:{},events:{}};a.each([\"id\",\"class\",\"style\",\"longdesc\"],function(u,t){q.src.adv[t]=a('<input type=\"text\" style=\"width:100%\" />')});this.src.adv[\"class\"].change(function(){if(q.prevImg){q.prevImg.attr(\"class\",a(this).val())\n}});this.src.adv.style.change(function(){if(q.prevImg){q.prevImg.attr(\"style\",a(this).val());o(q.prevImg)}});a.each([\"onblur\",\"onfocus\",\"onclick\",\"ondblclick\",\"onmousedown\",\"onmouseup\",\"onmouseover\",\"onmouseout\",\"onmouseleave\",\"onkeydown\",\"onkeypress\",\"onkeyup\"],function(){q.src.events[this]=a('<input type=\"text\"  style=\"width:100%\"/>')})};this.command=function(){!this.src&&this.init();var t,w={rtl:b.rtl,submit:function(z,A){z.stopPropagation();z.preventDefault();q.set();u.close()},close:function(){g&&b.selection.moveToBookmark(g)\n},dialog:{autoOpen:false,width:500,position:\"top\",title:b.i18n(\"Image\"),resizable:true,open:function(){a.fn.resizable&&a(this).parents(\".ui-dialog:first\").resizable(\"option\",\"alsoResize\",\".elrte-image-preview\")}}},u=new elDialogForm(w),v=!!b.options.fmOpen,x=v?a('<div class=\"elrte-image-src-fm\"><span class=\"ui-state-default ui-corner-all\"><span class=\"ui-icon ui-icon-folder-open\"/></span></div>').append(this.src.main.src.css(\"width\",\"87%\")):this.src.main.src;j();this.preview.children(\"img\").remove();\nthis.prevImg=null;t=b.selection.getEnd();this.img=t.nodeName==\"IMG\"&&!a(t).is(\".elrte-protected\")?a(t):a(\"<img/>\");g=b.selection.getBookmark();if(v){x.children(\".ui-state-default\").click(function(){b.options.fmOpen(function(z){q.src.main.src.val(z).change()})}).hover(function(){a(this).toggleClass(\"ui-state-hover\")})}u.tab(\"main\",this.rte.i18n(\"Properies\")).append([this.rte.i18n(\"Image URL\"),x],\"main\",true).append([this.rte.i18n(\"Title\"),this.src.main.title],\"main\",true).append([this.rte.i18n(\"Alt text\"),this.src.main.alt],\"main\",true).append([this.rte.i18n(\"Size\"),a(\"<span />\").append(this.src.main.width).append(\" x \").append(this.src.main.height).append(\" px\")],\"main\",true).append([this.rte.i18n(\"Alignment\"),this.src.main.align],\"main\",true).append([this.rte.i18n(\"Margins\"),this.src.main.margin],\"main\",true).append([this.rte.i18n(\"Border\"),this.src.main.border],\"main\",true);\nu.append(a(\"<fieldset><legend>\"+this.rte.i18n(\"Preview\")+\"</legend></fieldset>\").append(this.preview),\"main\");a.each(this.src,function(A,z){if(A==\"main\"){return}u.tab(A,b.i18n(q.labels[A]));a.each(z,function(B,C){q.src[A][B].val(A==\"events\"?b.utils.trimEventCallback(q.img.attr(B)):q.img.attr(B)||\"\");u.append([b.i18n(q.labels[B]||B),q.src[A][B]],A,true)})});u.open();if(this.img.attr(\"src\")){o(this.img);this.prevImg=this.img.clone().prependTo(this.preview);h=(this.img.width()/this.img.height()).toFixed(2);\nf=parseInt(this.img.width());p=parseInt(this.img.height())}};this.set=function(){var u=this.src.main.src.val(),t;this.rte.history.add();g&&b.selection.moveToBookmark(g);if(!u){t=b.dom.selfOrParentLink(this.img[0]);t&&t.remove();return this.img.remove()}!this.img[0].parentNode&&(this.img=a(this.rte.doc.createElement(\"img\")));this.img.attr(\"src\",u).attr(\"style\",this.src.adv.style.val());a.each(this.src,function(v,w){a.each(w,function(x,A){var B=A.val(),z;switch(x){case\"width\":q.img.css(\"width\",B);break;\ncase\"height\":q.img.css(\"height\",B);break;case\"align\":q.img.css(B==\"left\"||B==\"right\"?\"float\":\"vertical-align\",B);break;case\"margin\":if(B.css){q.img.css(\"margin\",B.css)}else{q.img.css({\"margin-left\":B.left,\"margin-top\":B.top,\"margin-right\":B.right,\"margin-bottom\":B.bottom})}break;case\"border\":if(!B.width){B=\"\"}else{B=\"border:\"+B.css+\";\"+a.trim((q.img.attr(\"style\")||\"\").replace(/border\\-[^;]+;?/ig,\"\"));x=\"style\";q.img.attr(\"style\",B);return}break;case\"src\":case\"style\":return;default:B?q.img.attr(x,B):q.img.removeAttr(x)\n}})});!this.img[0].parentNode&&b.selection.insertNode(this.img[0]);this.rte.ui.update()};this.update=function(){this.domElem.removeClass(\"disabled\");var u=this.rte.selection.getEnd(),t=a(u);if(u.nodeName==\"IMG\"&&!t.hasClass(\"elrte-protected\")){this.domElem.addClass(\"active\")}else{this.domElem.removeClass(\"active\")}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.indent=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.command=function(){this.rte.history.add();\nvar h=this.rte.selection.selected({collapsed:true,blocks:true,wrap:\"inline\",tag:\"p\"});function g(q){var o=/(IMG|HR|TABLE|EMBED|OBJECT)/.test(q.nodeName)?\"margin-left\":\"padding-left\";var p=b.rte.dom.attr(q,\"style\").indexOf(o)!=-1?parseInt(a(q).css(o))||0:0;a(q).css(o,p+40+\"px\")}for(var j=0;j<h.length;j++){if(/^(TABLE|THEAD|TFOOT|TBODY|COL|COLGROUP|TR)$/.test(h[j].nodeName)){a(h[j]).find(\"td,th\").each(function(){g(this)})}else{if(/^LI$/.test(h[j].nodeName)){var k=a(h[j]);a(this.rte.dom.create(h[j].parentNode.nodeName)).append(a(this.rte.dom.create(\"li\")).html(k.html()||\"\")).appendTo(k.html(\"&nbsp;\"))\n}else{g(h[j])}}}this.rte.ui.update()};this.update=function(){this.domElem.removeClass(\"disabled\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.justifyleft=function(c,b){this.constructor.prototype.constructor.call(this,c,b);this.align=this.name==\"justifyfull\"?\"justify\":this.name.replace(\"justify\",\"\");this.command=function(){var g=this.rte.selection.selected({collapsed:true,blocks:true,tag:\"div\"}),f=g.length;f&&this.rte.history.add();while(f--){this.rte.dom.filter(g[f],\"textNodes\")&&a(g[f]).css(\"text-align\",this.align)\n}this.rte.ui.update()};this.update=function(){var f=this.rte.selection.getNode(),g=f.nodeName==\"BODY\"?f:this.rte.dom.selfOrParent(f,\"textNodes\")||(f.parentNode&&f.parentNode.nodeName==\"BODY\"?f.parentNode:null);if(g){this.domElem.removeClass(\"disabled\").toggleClass(\"active\",a(g).css(\"text-align\")==this.align)}else{this.domElem.addClass(\"disabled\")}}};elRTE.prototype.ui.prototype.buttons.justifycenter=elRTE.prototype.ui.prototype.buttons.justifyleft;elRTE.prototype.ui.prototype.buttons.justifyright=elRTE.prototype.ui.prototype.buttons.justifyleft;\nelRTE.prototype.ui.prototype.buttons.justifyfull=elRTE.prototype.ui.prototype.buttons.justifyleft})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.link=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.img=false;this.bm;function g(){b.labels={id:\"ID\",\"class\":\"Css class\",style:\"Css style\",dir:\"Script direction\",lang:\"Language\",charset:\"Charset\",type:\"Target MIME type\",rel:\"Relationship page to target (rel)\",rev:\"Relationship target to page (rev)\",tabindex:\"Tab index\",accesskey:\"Access key\"};\nb.src={main:{href:a('<input type=\"text\" />'),title:a('<input type=\"text\" />'),anchor:a(\"<select />\").attr(\"name\",\"anchor\"),target:a(\"<select />\").append(a(\"<option />\").text(b.rte.i18n(\"In this window\")).val(\"\")).append(a(\"<option />\").text(b.rte.i18n(\"In new window (_blank)\")).val(\"_blank\"))},popup:{use:a('<input type=\"checkbox\" />'),url:a('<input type=\"text\" />').val(\"http://\"),name:a('<input type=\"text\" />'),width:a('<input type=\"text\" />').attr({size:6,title:b.rte.i18n(\"Width\")}).css(\"text-align\",\"right\"),height:a('<input type=\"text\" />').attr({size:6,title:b.rte.i18n(\"Height\")}).css(\"text-align\",\"right\"),left:a('<input type=\"text\" />').attr({size:6,title:b.rte.i18n(\"Left\")}).css(\"text-align\",\"right\"),top:a('<input type=\"text\" />').attr({size:6,title:b.rte.i18n(\"Top\")}).css(\"text-align\",\"right\"),location:a('<input type=\"checkbox\" />'),menubar:a('<input type=\"checkbox\" />'),toolbar:a('<input type=\"checkbox\" />'),scrollbars:a('<input type=\"checkbox\" />'),status:a('<input type=\"checkbox\" />'),resizable:a('<input type=\"checkbox\" />'),dependent:a('<input type=\"checkbox\" />'),retfalse:a('<input type=\"checkbox\" />').attr(\"checked\",true)},adv:{id:a('<input type=\"text\" />'),\"class\":a('<input type=\"text\" />'),style:a('<input type=\"text\" />'),dir:a(\"<select />\").append(a(\"<option />\").text(b.rte.i18n(\"Not set\")).val(\"\")).append(a(\"<option />\").text(b.rte.i18n(\"Left to right\")).val(\"ltr\")).append(a(\"<option />\").text(b.rte.i18n(\"Right to left\")).val(\"rtl\")),lang:a('<input type=\"text\" />'),charset:a('<input type=\"text\" />'),type:a('<input type=\"text\" />'),rel:a('<input type=\"text\" />'),rev:a('<input type=\"text\" />'),tabindex:a('<input type=\"text\" />'),accesskey:a('<input type=\"text\" />')},events:{}};\na.each([\"onblur\",\"onfocus\",\"onclick\",\"ondblclick\",\"onmousedown\",\"onmouseup\",\"onmouseover\",\"onmouseout\",\"onmouseleave\",\"onkeydown\",\"onkeypress\",\"onkeyup\"],function(){b.src.events[this]=a('<input type=\"text\" />')});a.each(b.src,function(){for(var j in this){var h=this[j].attr(\"type\");if(!h||(h==\"text\"&&!this[j].attr(\"size\"))){this[j].css(\"width\",\"100%\")}}})}this.command=function(){var p=this.rte.selection.getNode(),o,u,x,h,t,j,w,k,z;!this.src&&g();this.bm=this.rte.selection.getBookmark();function q(r){return r.nodeName==\"A\"&&r.href\n}this.link=this.rte.dom.selfOrParentLink(p);if(!this.link){o=a.browser.msie?this.rte.selection.selected():this.rte.selection.selected({wrap:false});if(o.length){for(u=0;u<o.length;u++){if(q(o[u])){this.link=o[u];break}}if(!this.link){this.link=this.rte.dom.parent(o[0],q)||this.rte.dom.parent(o[o.length-1],q)}}}this.link=this.link?a(this.link):a(this.rte.doc.createElement(\"a\"));this.img=p.nodeName==\"IMG\"?p:null;this.updatePopup();this.src.main.anchor.empty();a('a[href!=\"\"][name]',this.rte.doc).each(function(){var r=a(this).attr(\"name\");\nb.src.main.anchor.append(a(\"<option />\").val(r).text(r))});if(this.src.main.anchor.children().length){this.src.main.anchor.prepend(a(\"<option />\").val(\"\").text(this.rte.i18n(\"Select bookmark\"))).change(function(){var r=a(this).val();if(r){b.src.main.href.val(\"#\"+r)}})}h={rtl:this.rte.rtl,submit:function(r,v){r.stopPropagation();r.preventDefault();b.set();v.close()},tabs:{show:function(v,r){if(r.index==3){b.updateOnclick()}}},close:function(){b.rte.browser.msie&&b.rte.selection.restoreIERange()},dialog:{width:\"auto\",width:430,title:this.rte.i18n(\"Link\")}};\nd=new elDialogForm(h);t=a(\"<div />\").append(a(\"<label />\").append(this.src.popup.location).append(this.rte.i18n(\"Location bar\"))).append(a(\"<label />\").append(this.src.popup.menubar).append(this.rte.i18n(\"Menu bar\"))).append(a(\"<label />\").append(this.src.popup.toolbar).append(this.rte.i18n(\"Toolbar\"))).append(a(\"<label />\").append(this.src.popup.scrollbars).append(this.rte.i18n(\"Scrollbars\")));j=a(\"<div />\").append(a(\"<label />\").append(this.src.popup.status).append(this.rte.i18n(\"Status bar\"))).append(a(\"<label />\").append(this.src.popup.resizable).append(this.rte.i18n(\"Resizable\"))).append(a(\"<label />\").append(this.src.popup.dependent).append(this.rte.i18n(\"Depedent\"))).append(a(\"<label />\").append(this.src.popup.retfalse).append(this.rte.i18n(\"Add return false\")));\nd.tab(\"main\",this.rte.i18n(\"Properies\")).tab(\"popup\",this.rte.i18n(\"Popup\")).tab(\"adv\",this.rte.i18n(\"Advanced\")).tab(\"events\",this.rte.i18n(\"Events\")).append(a(\"<label />\").append(this.src.popup.use).append(this.rte.i18n(\"Open link in popup window\")),\"popup\").separator(\"popup\").append([this.rte.i18n(\"URL\"),this.src.popup.url],\"popup\",true).append([this.rte.i18n(\"Window name\"),this.src.popup.name],\"popup\",true).append([this.rte.i18n(\"Window size\"),a(\"<span />\").append(this.src.popup.width).append(\" x \").append(this.src.popup.height).append(\" px\")],\"popup\",true).append([this.rte.i18n(\"Window position\"),a(\"<span />\").append(this.src.popup.left).append(\" x \").append(this.src.popup.top).append(\" px\")],\"popup\",true).separator(\"popup\").append([t,j],\"popup\",true);\nw=this.link.get(0);k=this.rte.dom.attr(w,\"href\");this.src.main.href.val(k).change(function(){a(this).val(b.rte.utils.absoluteURL(a(this).val()))});if(this.rte.options.fmAllow&&this.rte.options.fmOpen){var z=a(\"<span />\").append(this.src.main.href.css(\"width\",\"87%\")).append(a(\"<span />\").addClass(\"ui-state-default ui-corner-all\").css({\"float\":\"right\",\"margin-right\":\"3px\"}).attr(\"title\",b.rte.i18n(\"Open file manger\")).append(a(\"<span />\").addClass(\"ui-icon ui-icon-folder-open\")).click(function(){b.rte.options.fmOpen(function(r){b.src.main.href.val(r).change()\n})}).hover(function(){a(this).addClass(\"ui-state-hover\")},function(){a(this).removeClass(\"ui-state-hover\")}));d.append([this.rte.i18n(\"Link URL\"),z],\"main\",true)}else{d.append([this.rte.i18n(\"Link URL\"),this.src.main.href],\"main\",true)}this.src.main.href.change();d.append([this.rte.i18n(\"Title\"),this.src.main.title.val(this.rte.dom.attr(w,\"title\"))],\"main\",true);if(this.src.main.anchor.children().length){d.append([this.rte.i18n(\"Bookmark\"),this.src.main.anchor.val(k)],\"main\",true)}if(!(this.rte.options.doctype.match(/xhtml/)&&this.rte.options.doctype.match(/strict/))){d.append([this.rte.i18n(\"Target\"),this.src.main.target.val(this.link.attr(\"target\")||\"\")],\"main\",true)\n}for(var p in this.src.adv){this.src.adv[p].val(this.rte.dom.attr(w,p));d.append([this.rte.i18n(this.labels[p]?this.labels[p]:p),this.src.adv[p]],\"adv\",true)}for(var p in this.src.events){var x=this.rte.utils.trimEventCallback(this.rte.dom.attr(w,p));this.src.events[p].val(x);d.append([this.rte.i18n(this.labels[p]?this.labels[p]:p),this.src.events[p]],\"events\",true)}this.src.popup.use.change(function(){var r=a(this).attr(\"checked\");a.each(b.src.popup,function(){if(a(this).attr(\"name\")!=\"use\"){if(r){a(this).removeAttr(\"disabled\")\n}else{a(this).attr(\"disabled\",true)}}})});this.src.popup.use.change();d.open()};this.update=function(){var h=this.rte.selection.getNode();if(this.rte.dom.selfOrParentLink(h)){this.domElem.removeClass(\"disabled\").addClass(\"active\")}else{if(this.rte.dom.selectionHas(function(j){return j.nodeName==\"A\"&&j.href})){this.domElem.removeClass(\"disabled\").addClass(\"active\")}else{if(!this.rte.selection.collapsed()||h.nodeName==\"IMG\"){this.domElem.removeClass(\"disabled active\")}else{this.domElem.addClass(\"disabled\").removeClass(\"active\")\n}}}};this.updatePopup=function(){var h=\"\"+this.link.attr(\"onclick\");if(h.length>0&&(m=h.match(/window.open\\('([^']+)',\\s*'([^']*)',\\s*'([^']*)'\\s*.*\\);\\s*(return\\s+false)?/))){this.src.popup.use.attr(\"checked\",\"on\");this.src.popup.url.val(m[1]);this.src.popup.name.val(m[2]);if(/location=yes/.test(m[3])){this.src.popup.location.attr(\"checked\",true)}if(/menubar=yes/.test(m[3])){this.src.popup.menubar.attr(\"checked\",true)}if(/toolbar=yes/.test(m[3])){this.src.popup.toolbar.attr(\"checked\",true)}if(/scrollbars=yes/.test(m[3])){this.src.popup.scrollbars.attr(\"checked\",true)\n}if(/status=yes/.test(m[3])){this.src.popup.status.attr(\"checked\",true)}if(/resizable=yes/.test(m[3])){this.src.popup.resizable.attr(\"checked\",true)}if(/dependent=yes/.test(m[3])){this.src.popup.dependent.attr(\"checked\",true)}if((_m=m[3].match(/width=([^,]+)/))){this.src.popup.width.val(_m[1])}if((_m=m[3].match(/height=([^,]+)/))){this.src.popup.height.val(_m[1])}if((_m=m[3].match(/left=([^,]+)/))){this.src.popup.left.val(_m[1])}if((_m=m[3].match(/top=([^,]+)/))){this.src.popup.top.val(_m[1])}if(m[4]){this.src.popup.retfalse.attr(\"checked\",true)\n}}else{a.each(this.src.popup,function(){var j=a(this);if(j.attr(\"type\")==\"text\"){j.val(j.attr(\"name\")==\"url\"?\"http://\":\"\")}else{if(j.attr(\"name\")==\"retfalse\"){this.attr(\"checked\",true)}else{j.removeAttr(\"checked\")}}})}};this.updateOnclick=function(){var o=this.src.popup.url.val();if(this.src.popup.use.attr(\"checked\")&&o){var p=\"\";if(this.src.popup.location.attr(\"checked\")){p+=\"location=yes,\"}if(this.src.popup.menubar.attr(\"checked\")){p+=\"menubar=yes,\"}if(this.src.popup.toolbar.attr(\"checked\")){p+=\"toolbar=yes,\"\n}if(this.src.popup.scrollbars.attr(\"checked\")){p+=\"scrollbars=yes,\"}if(this.src.popup.status.attr(\"checked\")){p+=\"status=yes,\"}if(this.src.popup.resizable.attr(\"checked\")){p+=\"resizable=yes,\"}if(this.src.popup.dependent.attr(\"checked\")){p+=\"dependent=yes,\"}if(this.src.popup.width.val()){p+=\"width=\"+this.src.popup.width.val()+\",\"}if(this.src.popup.height.val()){p+=\"height=\"+this.src.popup.height.val()+\",\"}if(this.src.popup.left.val()){p+=\"left=\"+this.src.popup.left.val()+\",\"}if(this.src.popup.top.val()){p+=\"top=\"+this.src.popup.top.val()+\",\"\n}if(p.length>0){p=p.substring(0,p.length-1)}var j=this.src.popup.retfalse.attr(\"checked\")?\"return false;\":\"\";var k=\"window.open('\"+o+\"', '\"+a.trim(this.src.popup.name.val())+\"', '\"+p+\"'); \"+j;this.src.events.onclick.val(k);if(!this.src.main.href.val()){this.src.main.href.val(\"#\")}}else{var h=this.src.events.onclick.val();h=h.replace(/window\\.open\\([^\\)]+\\)\\s*;?\\s*return\\s*false\\s*;?/i,\"\");this.src.events.onclick.val(h)}};this.set=function(){var j,k;this.updateOnclick();this.rte.selection.moveToBookmark(this.bm);\nthis.rte.history.add();j=this.rte.utils.absoluteURL(this.src.main.href.val());if(!j){var p=this.rte.selection.getBookmark();this.rte.dom.unwrap(this.link[0]);this.rte.selection.moveToBookmark(p)}else{if(this.img&&this.img.parentNode){this.link=a(this.rte.dom.create(\"a\")).attr(\"href\",j);this.rte.dom.wrap(this.img,this.link[0])}else{if(!this.link[0].parentNode){k=\"#--el-editor---\"+Math.random();this.rte.doc.execCommand(\"createLink\",false,k);this.link=a('a[href=\"'+k+'\"]',this.rte.doc);this.link.each(function(){var r=a(this);\nif(!a.trim(r.html())&&!a.trim(r.text())){r.replaceWith(r.text())}})}}this.src.main.href.val(j);for(var o in this.src){if(o!=\"popup\"){for(var q in this.src[o]){if(q!=\"anchors\"){var h=a.trim(this.src[o][q].val());if(h){this.link.attr(q,h)}else{this.link.removeAttr(q)}}}}}this.img&&this.rte.selection.select(this.img)}this.rte.ui.update(true)}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.nbsp=function(c,b){this.constructor.prototype.constructor.call(this,c,b);this.command=function(){this.rte.history.add();\nthis.rte.selection.insertHtml(\"&nbsp;\",true);this.rte.window.focus();this.rte.ui.update()};this.update=function(){this.domElem.removeClass(\"disabled\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.outdent=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.command=function(){var g=this.find();if(g.node){this.rte.history.add();a(g.node).css(g.type,(g.val>40?g.val-40:0)+\"px\");this.rte.ui.update()}};this.find=function(j){function g(p){var k={type:\"\",val:0};\nvar o;if((o=b.rte.dom.attr(p,\"style\"))){k.type=o.indexOf(\"padding-left\")!=-1?\"padding-left\":(o.indexOf(\"margin-left\")!=-1?\"margin-left\":\"\");k.val=k.type?parseInt(a(p).css(k.type))||0:0}return k}var j=this.rte.selection.getNode();var h=g(j);if(h.val){h.node=j}else{a.each(this.rte.dom.parents(j,\"*\"),function(){h=g(this);if(h.val){h.node=this;return h}})}return h};this.update=function(){var g=this.find();if(g.node){this.domElem.removeClass(\"disabled\")}else{this.domElem.addClass(\"disabled\")}}}})(jQuery);\n(function(a){elRTE.prototype.ui.prototype.buttons.pagebreak=function(c,b){this.constructor.prototype.constructor.call(this,c,b);a(this.rte.doc.body).bind(\"mousedown\",function(f){if(a(f.target).hasClass(\"elrte-pagebreak\")){f.preventDefault()}});this.command=function(){this.rte.selection.insertHtml('<img src=\"'+this.rte.filter.url+'pixel.gif\" class=\"elrte-protected elrte-pagebreak\"/>',false)};this.update=function(){this.domElem.removeClass(\"disabled\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.pasteformattext=function(f,c){this.constructor.prototype.constructor.call(this,f,c);\nthis.iframe=a(document.createElement(\"iframe\")).addClass(\"el-rte-paste-input\");this.doc=null;var b=this;this.command=function(){this.rte.selection.saveIERange();var g=this,h={submit:function(o,p){o.stopPropagation();o.preventDefault();g.paste();p.close()},dialog:{width:500,title:this.rte.i18n(\"Paste formatted text\")}},k=new elDialogForm(h);k.append(this.iframe).open();this.doc=this.iframe.get(0).contentWindow.document;html=this.rte.options.doctype+'<html xmlns=\"http://www.w3.org/1999/xhtml\"><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\nhtml+=\"</head><body> <br /> </body></html>\";this.doc.open();this.doc.write(html);this.doc.close();if(!this.rte.browser.msie){try{this.doc.designMode=\"on\"}catch(j){}}else{this.doc.body.contentEditable=true}setTimeout(function(){g.iframe[0].contentWindow.focus()},50)};this.paste=function(){a(this.doc.body).find(\"[class]\").removeAttr(\"class\");var g=a.trim(a(this.doc.body).html());if(g){this.rte.history.add();this.rte.selection.restoreIERange();this.rte.selection.insertHtml(this.rte.filter.wysiwyg2wysiwyg(this.rte.filter.proccess(\"paste\",g)));\nthis.rte.ui.update(true)}};this.update=function(){this.domElem.removeClass(\"disabled\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.pastetext=function(f,c){this.constructor.prototype.constructor.call(this,f,c);this.input=a(\"<textarea />\").addClass(\"el-rte-paste-input\");var b=this;this.command=function(){this.rte.browser.msie&&this.rte.selection.saveIERange();var g={submit:function(j,k){j.stopPropagation();j.preventDefault();b.paste();k.close()},dialog:{width:500,title:this.rte.i18n(\"Paste only text\")}};\nvar h=new elDialogForm(g);h.append(this.input).open()};this.paste=function(){var g=a.trim(this.input.val());if(g){this.rte.history.add();this.rte.browser.msie&&this.rte.selection.restoreIERange();this.rte.selection.insertText(g.replace(/\\r?\\n/g,\"<br />\"),true);this.rte.ui.update(true)}this.input.val(\"\")};this.update=function(){this.domElem.removeClass(\"disabled\")}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.save=function(c,b){this.constructor.prototype.constructor.call(this,c,b);\nthis.active=true;this.command=function(){this.rte.save()};this.update=function(){}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.smiley=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.img=null;this.url=this.rte.filter.url+\"smileys/\";this.smileys={smile:\"smile.png\",happy:\"happy.png\",tongue:\"tongue.png\",surprised:\"surprised.png\",waii:\"waii.png\",wink:\"wink.png\",evilgrin:\"evilgrin.png\",grin:\"grin.png\",unhappy:\"unhappy.png\"};this.width=120;this.command=function(){var h=this,j=this.url,o,k,g;\nthis.rte.browser.msie&&this.rte.selection.saveIERange();k={dialog:{height:120,width:this.width,title:this.rte.i18n(\"Smiley\"),buttons:{}}};o=new elDialogForm(k);a.each(this.smileys,function(q,p){o.append(a('<img src=\"'+j+p+'\" title=\"'+q+'\" id=\"'+q+'\" class=\"el-rte-smiley\"/>').click(function(){h.set(this.id,o)}))});o.open()};this.update=function(){this.domElem.removeClass(\"disabled\");this.domElem.removeClass(\"active\")};this.set=function(g,h){this.rte.browser.msie&&this.rte.selection.restoreIERange();\nif(this.smileys[g]){this.img=a(this.rte.doc.createElement(\"img\"));this.img.attr({src:this.url+this.smileys[g],title:g,alt:g});this.rte.selection.insertNode(this.img.get(0));this.rte.ui.update()}h.close()}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.stopfloat=function(c,b){this.constructor.prototype.constructor.call(this,c,b);this.find=function(){if(this.rte.selection.collapsed()){var f=this.rte.dom.selfOrParent(this.rte.selection.getEnd(),/^DIV$/);if(f&&(this.rte.dom.attr(f,\"clear\")||a(f).css(\"clear\")!=\"none\")){return f\n}}};this.command=function(){var f;if((f=this.find())){var f=a(f);this.rte.history.add();if(!f.children().length&&!a.trim(f.text()).length){f.remove()}else{f.removeAttr(\"clear\").css(\"clear\",\"\")}}else{this.rte.history.add();this.rte.selection.insertNode(a(this.rte.dom.create(\"div\")).css(\"clear\",\"both\").get(0),true)}this.rte.ui.update(true)};this.update=function(){this.domElem.removeClass(\"disabled\");if(this.find()){this.domElem.addClass(\"active\")}else{this.domElem.removeClass(\"active\")}}}})(jQuery);\n(function(a){elRTE.prototype.ui.prototype.buttons.table=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.src=null;this.labels=null;function g(){b.labels={main:\"Properies\",adv:\"Advanced\",events:\"Events\",id:\"ID\",\"class\":\"Css class\",style:\"Css style\",dir:\"Script direction\",summary:\"Summary\",lang:\"Language\",href:\"URL\"};b.src={main:{caption:a('<input type=\"text\" />'),rows:a('<input type=\"text\" />').attr(\"size\",5).val(2),cols:a('<input type=\"text\" />').attr(\"size\",5).val(2),width:a('<input type=\"text\" />').attr(\"size\",5),wunit:a(\"<select />\").append(a(\"<option />\").val(\"%\").text(\"%\")).append(a(\"<option />\").val(\"px\").text(\"px\")),height:a('<input type=\"text\" />').attr(\"size\",5),hunit:a(\"<select />\").append(a(\"<option />\").val(\"%\").text(\"%\")).append(a(\"<option />\").val(\"px\").text(\"px\")),align:a(\"<select />\").append(a(\"<option />\").val(\"\").text(b.rte.i18n(\"Not set\"))).append(a(\"<option />\").val(\"left\").text(b.rte.i18n(\"Left\"))).append(a(\"<option />\").val(\"center\").text(b.rte.i18n(\"Center\"))).append(a(\"<option />\").val(\"right\").text(b.rte.i18n(\"Right\"))),spacing:a('<input type=\"text\" />').attr(\"size\",5),padding:a('<input type=\"text\" />').attr(\"size\",5),border:a(\"<div />\"),rules:a(\"<select />\").append(a(\"<option />\").val(\"none\").text(b.rte.i18n(\"No\"))).append(a(\"<option />\").val(\"all\").text(b.rte.i18n(\"Cells\"))).append(a(\"<option />\").val(\"groups\").text(b.rte.i18n(\"Groups\"))).append(a(\"<option />\").val(\"rows\").text(b.rte.i18n(\"Rows\"))).append(a(\"<option />\").val(\"cols\").text(b.rte.i18n(\"Columns\"))),margin:a(\"<div />\"),bg:a(\"<div />\"),bgimg:a('<input type=\"text\" />').css(\"width\",\"90%\")},adv:{id:a('<input type=\"text\" />'),summary:a('<input type=\"text\" />'),\"class\":a('<input type=\"text\" />'),style:a('<input type=\"text\" />'),dir:a(\"<select />\").append(a(\"<option />\").text(b.rte.i18n(\"Not set\")).val(\"\")).append(a(\"<option />\").text(b.rte.i18n(\"Left to right\")).val(\"ltr\")).append(a(\"<option />\").text(b.rte.i18n(\"Right to left\")).val(\"rtl\")),lang:a('<input type=\"text\" />')},events:{}};\na.each(b.src,function(){for(var j in this){this[j].attr(\"name\",j);var h=this[j].get(0).nodeName;if(h==\"INPUT\"&&j!=\"bgimg\"){this[j].css(this[j].attr(\"size\")?{\"text-align\":\"right\"}:{width:\"100%\"})}else{if(h==\"SELECT\"&&j!=\"wunit\"&&j!=\"hunit\"){this[j].css(\"width\",\"100%\")}}}});a.each([\"onblur\",\"onfocus\",\"onclick\",\"ondblclick\",\"onmousedown\",\"onmouseup\",\"onmouseover\",\"onmouseout\",\"onmouseleave\",\"onkeydown\",\"onkeypress\",\"onkeyup\"],function(){b.src.events[this]=a('<input type=\"text\" />').css(\"width\",\"100%\")\n});b.src.main.align.change(function(){var j=a(this).val();if(j==\"center\"){b.src.main.margin.val({left:\"auto\",right:\"auto\"})}else{var h=b.src.main.margin.val();if(h.left==\"auto\"&&h.right==\"auto\"){b.src.main.margin.val({left:\"\",right:\"\"})}}});b.src.main.bgimg.change(function(){var h=a(this);h.val(b.rte.utils.absoluteURL(h.val()))})}this.command=function(){var r=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^TABLE$/);if(this.name==\"table\"){this.table=a(this.rte.doc.createElement(\"table\"))}else{this.table=r?a(r):a(this.rte.doc.createElement(\"table\"))\n}!this.src&&g();this.src.main.border.elBorderSelect({styleHeight:117});this.src.main.bg.elColorPicker({palettePosition:\"outer\",\"class\":\"el-colorpicker ui-icon ui-icon-pencil\"});this.src.main.margin.elPaddingInput({type:\"margin\",value:this.table});if(this.table.parents().length){this.src.main.rows.val(\"\").attr(\"disabled\",true);this.src.main.cols.val(\"\").attr(\"disabled\",true)}else{this.src.main.rows.val(2).removeAttr(\"disabled\");this.src.main.cols.val(2).removeAttr(\"disabled\")}var D=this.table.css(\"width\")||this.table.attr(\"width\");\nthis.src.main.width.val(parseInt(D)||\"\");this.src.main.wunit.val(D.indexOf(\"px\")!=-1?\"px\":\"%\");var z=this.table.css(\"height\")||this.table.attr(\"height\");this.src.main.height.val(parseInt(z)||\"\");this.src.main.hunit.val(z&&z.indexOf(\"px\")!=-1?\"px\":\"%\");var B=this.table.css(\"float\");this.src.main.align.val(\"\");if(B==\"left\"||B==\"right\"){this.src.main.align.val(B)}else{var t=this.table.css(\"margin-left\");var p=this.table.css(\"margin-right\");if(t==\"auto\"&&p==\"auto\"){this.src.main.align.val(\"center\")}}this.src.main.border.val(this.table);\nthis.src.main.rules.val(this.rte.dom.attr(this.table.get(0),\"rules\"));this.src.main.bg.val(this.table.css(\"background-color\"));var j=(this.table.css(\"background-image\")||\"\").replace(/url\\(([^\\)]+)\\)/i,\"$1\");this.src.main.bgimg.val(j!=\"none\"?j:\"\");var k={rtl:this.rte.rtl,submit:function(h,v){h.stopPropagation();h.preventDefault();b.set();v.close()},dialog:{width:530,title:this.rte.i18n(\"Table\")}};var C=new elDialogForm(k);for(var q in this.src){C.tab(q,this.rte.i18n(this.labels[q]));if(q==\"main\"){var A=a(\"<table />\").append(a(\"<tr />\").append(\"<td>\"+this.rte.i18n(\"Rows\")+\"</td>\").append(a(\"<td />\").append(this.src.main.rows))).append(a(\"<tr />\").append(\"<td>\"+this.rte.i18n(\"Columns\")+\"</td>\").append(a(\"<td />\").append(this.src.main.cols)));\nvar x=a(\"<table />\").append(a(\"<tr />\").append(\"<td>\"+this.rte.i18n(\"Width\")+\"</td>\").append(a(\"<td />\").append(this.src.main.width).append(this.src.main.wunit))).append(a(\"<tr />\").append(\"<td>\"+this.rte.i18n(\"Height\")+\"</td>\").append(a(\"<td />\").append(this.src.main.height).append(this.src.main.hunit)));var u=a(\"<table />\").append(a(\"<tr />\").append(\"<td>\"+this.rte.i18n(\"Spacing\")+\"</td>\").append(a(\"<td />\").append(this.src.main.spacing.val(this.table.attr(\"cellspacing\")||\"\")))).append(a(\"<tr />\").append(\"<td>\"+this.rte.i18n(\"Padding\")+\"</td>\").append(a(\"<td />\").append(this.src.main.padding.val(this.table.attr(\"cellpadding\")||\"\"))));\nC.append([this.rte.i18n(\"Caption\"),this.src.main.caption.val(this.table.find(\"caption\").eq(0).text()||\"\")],\"main\",true).separator(\"main\").append([A,x,u],\"main\",true).separator(\"main\").append([this.rte.i18n(\"Border\"),this.src.main.border],\"main\",true).append([this.rte.i18n(\"Inner borders\"),this.src.main.rules],\"main\",true).append([this.rte.i18n(\"Alignment\"),this.src.main.align],\"main\",true).append([this.rte.i18n(\"Margins\"),this.src.main.margin],\"main\",true).append([this.rte.i18n(\"Background\"),a(\"<span />\").append(a(\"<span />\").css({\"float\":\"left\",\"margin-right\":\"3px\"}).append(this.src.main.bg)).append(this.src.main.bgimg)],\"main\",true)\n}else{for(var o in this.src[q]){var E=this.rte.dom.attr(this.table,o);if(q==\"events\"){E=this.rte.utils.trimEventCallback(E)}C.append([this.rte.i18n(this.labels[o]?this.labels[o]:o),this.src[q][o].val(E)],q,true)}}}C.open()};this.set=function(){if(!this.table.parents().length){var k=parseInt(this.src.main.rows.val())||0;var B=parseInt(this.src.main.cols.val())||0;if(k<=0||B<=0){return}this.rte.history.add();var D=a(this.rte.doc.createElement(\"tbody\")).appendTo(this.table);for(var u=0;u<k;u++){var C=\"<tr>\";\nfor(var t=0;t<B;t++){C+=\"<td>&nbsp;</td>\"}D.append(C+\"</tr>\")}}else{this.table.removeAttr(\"width\").removeAttr(\"height\").removeAttr(\"border\").removeAttr(\"align\").removeAttr(\"bordercolor\").removeAttr(\"bgcolor\").removeAttr(\"cellspacing\").removeAttr(\"cellpadding\").removeAttr(\"frame\").removeAttr(\"rules\").removeAttr(\"style\")}var I=a.trim(this.src.main.caption.val());if(I){if(!this.table.children(\"caption\").length){this.table.prepend(\"<caption />\")}this.table.children(\"caption\").text(I)}else{this.table.children(\"caption\").remove()\n}for(var p in this.src){if(p!=\"main\"){for(var o in this.src[p]){var G=a.trim(this.src[p][o].val());if(G){this.table.attr(o,G)}else{this.table.removeAttr(o)}}}}var A,E,H;if((A=parseInt(this.src.main.spacing.val()))&&A>=0){this.table.attr(\"cellspacing\",A)}if((E=parseInt(this.src.main.padding.val()))&&E>=0){this.table.attr(\"cellpadding\",E)}if((H=this.src.main.rules.val())){this.table.attr(\"rules\",H)}var F=parseInt(this.src.main.width.val())||\"\",x=parseInt(this.src.main.height.val())||\"\",u=a.trim(this.src.main.bgimg.val()),D=this.src.main.border.val(),q=this.src.main.margin.val(),z=this.src.main.align.val();\nthis.table.css({width:F?F+this.src.main.wunit.val():\"\",height:x?x+this.src.main.hunit.val():\"\",border:a.trim(D.width+\" \"+D.style+\" \"+D.color),\"background-color\":this.src.main.bg.val(),\"background-image\":u?\"url(\"+u+\")\":\"\"});if(q.css){this.table.css(\"margin\",q.css)}else{this.table.css({\"margin-top\":q.top,\"margin-right\":q.right,\"margin-bottom\":q.bottom,\"margin-left\":q.left})}if((z==\"left\"||z==\"right\")&&this.table.css(\"margin-left\")!=\"auto\"&&this.table.css(\"margin-right\")!=\"auto\"){this.table.css(\"float\",z)\n}if(!this.table.attr(\"style\")){this.table.removeAttr(\"style\")}if(!this.table.parents().length){this.rte.selection.insertNode(this.table.get(0),true)}this.rte.ui.update()};this.update=function(){this.domElem.removeClass(\"disabled\");if(this.name==\"tableprops\"&&!this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^TABLE$/)){this.domElem.addClass(\"disabled\").removeClass(\"active\")}}};elRTE.prototype.ui.prototype.buttons.tableprops=elRTE.prototype.ui.prototype.buttons.table})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.tablerm=function(c,b){this.constructor.prototype.constructor.call(this,c,b);\nthis.command=function(){var f=this.rte.dom.parent(this.rte.selection.getNode(),/^TABLE$/);if(f){this.rte.history.add();a(f).remove()}this.rte.ui.update(true)};this.update=function(){if(this.rte.dom.parent(this.rte.selection.getNode(),/^TABLE$/)){this.domElem.removeClass(\"disabled\")}else{this.domElem.addClass(\"disabled\")}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.tbcellprops=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.src=null;this.labels=null;\nfunction g(){b.labels={main:\"Properies\",adv:\"Advanced\",events:\"Events\",id:\"ID\",\"class\":\"Css class\",style:\"Css style\",dir:\"Script direction\",lang:\"Language\"};b.src={main:{type:a(\"<select />\").css(\"width\",\"100%\").append(a(\"<option />\").val(\"td\").text(b.rte.i18n(\"Data\"))).append(a(\"<option />\").val(\"th\").text(b.rte.i18n(\"Header\"))),width:a('<input type=\"text\" />').attr(\"size\",4),wunit:a(\"<select />\").append(a(\"<option />\").val(\"%\").text(\"%\")).append(a(\"<option />\").val(\"px\").text(\"px\")),height:a('<input type=\"text\" />').attr(\"size\",4),hunit:a(\"<select />\").append(a(\"<option />\").val(\"%\").text(\"%\")).append(a(\"<option />\").val(\"px\").text(\"px\")),align:a(\"<select />\").css(\"width\",\"100%\").append(a(\"<option />\").val(\"\").text(b.rte.i18n(\"Not set\"))).append(a(\"<option />\").val(\"left\").text(b.rte.i18n(\"Left\"))).append(a(\"<option />\").val(\"center\").text(b.rte.i18n(\"Center\"))).append(a(\"<option />\").val(\"right\").text(b.rte.i18n(\"Right\"))).append(a(\"<option />\").val(\"justify\").text(b.rte.i18n(\"Justify\"))),border:a(\"<div />\"),padding:a(\"<div />\"),bg:a(\"<div />\"),bgimg:a('<input type=\"text\" />').css(\"width\",\"90%\"),apply:a(\"<select />\").css(\"width\",\"100%\").append(a(\"<option />\").val(\"\").text(b.rte.i18n(\"Current cell\"))).append(a(\"<option />\").val(\"row\").text(b.rte.i18n(\"All cells in row\"))).append(a(\"<option />\").val(\"column\").text(b.rte.i18n(\"All cells in column\"))).append(a(\"<option />\").val(\"table\").text(b.rte.i18n(\"All cells in table\")))},adv:{id:a('<input type=\"text\" />'),\"class\":a('<input type=\"text\" />'),style:a('<input type=\"text\" />'),dir:a(\"<select />\").css(\"width\",\"100%\").append(a(\"<option />\").text(b.rte.i18n(\"Not set\")).val(\"\")).append(a(\"<option />\").text(b.rte.i18n(\"Left to right\")).val(\"ltr\")).append(a(\"<option />\").text(b.rte.i18n(\"Right to left\")).val(\"rtl\")),lang:a('<input type=\"text\" />')},events:{}};\na.each(b.src,function(){for(var h in this){this[h].attr(\"name\",h);if(this[h].attr(\"type\")==\"text\"&&!this[h].attr(\"size\")&&h!=\"bgimg\"){this[h].css(\"width\",\"100%\")}}});a.each([\"onblur\",\"onfocus\",\"onclick\",\"ondblclick\",\"onmousedown\",\"onmouseup\",\"onmouseover\",\"onmouseout\",\"onmouseleave\",\"onkeydown\",\"onkeypress\",\"onkeyup\"],function(){b.src.events[this]=a('<input type=\"text\" />').css(\"width\",\"100%\")})}this.command=function(){!this.src&&g();this.cell=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/);\nif(!this.cell){return}this.src.main.type.val(this.cell.nodeName.toLowerCase());this.cell=a(this.cell);this.src.main.border.elBorderSelect({styleHeight:117,value:this.cell});this.src.main.bg.elColorPicker({palettePosition:\"outer\",\"class\":\"el-colorpicker ui-icon ui-icon-pencil\"});this.src.main.padding.elPaddingInput({value:this.cell});var j=this.cell.css(\"width\")||this.cell.attr(\"width\");this.src.main.width.val(parseInt(j)||\"\");this.src.main.wunit.val(j.indexOf(\"px\")!=-1?\"px\":\"%\");var q=this.cell.css(\"height\")||this.cell.attr(\"height\");\nthis.src.main.height.val(parseInt(q)||\"\");this.src.main.hunit.val(q.indexOf(\"px\")!=-1?\"px\":\"%\");this.src.main.align.val(this.cell.attr(\"align\")||this.cell.css(\"text-align\"));this.src.main.bg.val(this.cell.css(\"background-color\"));var t=this.cell.css(\"background-image\");this.src.main.bgimg.val(t&&t!=\"none\"?t.replace(/url\\(([^\\)]+)\\)/i,\"$1\"):\"\");this.src.main.apply.val(\"\");var r={rtl:this.rte.rtl,submit:function(h,v){h.stopPropagation();h.preventDefault();b.set();v.close()},dialog:{width:520,title:this.rte.i18n(\"Table cell properties\")}};\nvar u=new elDialogForm(r);for(var p in this.src){u.tab(p,this.rte.i18n(this.labels[p]));if(p==\"main\"){u.append([this.rte.i18n(\"Width\"),a(\"<span />\").append(this.src.main.width).append(this.src.main.wunit)],\"main\",true).append([this.rte.i18n(\"Height\"),a(\"<span />\").append(this.src.main.height).append(this.src.main.hunit)],\"main\",true).append([this.rte.i18n(\"Table cell type\"),this.src.main.type],\"main\",true).append([this.rte.i18n(\"Border\"),this.src.main.border],\"main\",true).append([this.rte.i18n(\"Alignment\"),this.src.main.align],\"main\",true).append([this.rte.i18n(\"Paddings\"),this.src.main.padding],\"main\",true).append([this.rte.i18n(\"Background\"),a(\"<span />\").append(a(\"<span />\").css({\"float\":\"left\",\"margin-right\":\"3px\"}).append(this.src.main.bg)).append(this.src.main.bgimg)],\"main\",true).append([this.rte.i18n(\"Apply to\"),this.src.main.apply],\"main\",true)\n}else{for(var o in this.src[p]){var k=this.cell.attr(o)||\"\";if(p==\"events\"){k=this.rte.utils.trimEventCallback(k)}u.append([this.rte.i18n(this.labels[o]?this.labels[o]:o),this.src[p][o].val(k)],p,true)}}}u.open()};this.set=function(){var x=this.cell,B=this.src.main.apply.val();switch(this.src.main.apply.val()){case\"row\":x=this.cell.parent(\"tr\").children(\"td,th\");break;case\"column\":x=a(this.rte.dom.tableColumn(this.cell.get(0)));break;case\"table\":x=this.cell.parents(\"table\").find(\"td,th\");break}for(var o in this.src){if(o!=\"main\"){for(var k in this.src[o]){var C=a.trim(this.src[o][k].val());\nif(C){x.attr(k,C)}else{x.removeAttr(k)}}}}x.removeAttr(\"width\").removeAttr(\"height\").removeAttr(\"border\").removeAttr(\"align\").removeAttr(\"bordercolor\").removeAttr(\"bgcolor\");var D=this.src.main.type.val();var A=parseInt(this.src.main.width.val())||\"\";var r=parseInt(this.src.main.height.val())||\"\";var q=a.trim(this.src.main.bgimg.val());var z=this.src.main.border.val();var u={width:A?A+this.src.main.wunit.val():\"\",height:r?r+this.src.main.hunit.val():\"\",\"background-color\":this.src.main.bg.val(),\"background-image\":q?\"url(\"+q+\")\":\"\",border:a.trim(z.width+\" \"+z.style+\" \"+z.color),\"text-align\":this.src.main.align.val()||\"\"};\nvar j=this.src.main.padding.val();if(j.css){u.padding=j.css}else{u[\"padding-top\"]=j.top;u[\"padding-right\"]=j.right;u[\"padding-bottom\"]=j.bottom;u[\"padding-left\"]=j.left}x=x.get();a.each(x,function(){var w=this.nodeName.toLowerCase();var F=a(this);if(w!=D){var h={};for(var t in b.src.adv){var p=F.attr(t);if(p){h[t]=p.toString()}}for(var t in b.src.events){var p=F.attr(t);if(p){h[t]=p.toString()}}var G=F.attr(\"colspan\")||1;var E=F.attr(\"rowspan\")||1;if(G>1){h.colspan=G}if(E>1){h.rowspan=E}F.replaceWith(a(\"<\"+D+\" />\").html(F.html()).attr(h).css(u))\n}else{F.css(u)}});this.rte.ui.update()};this.update=function(){if(this.rte.dom.parent(this.rte.selection.getNode(),/^TABLE$/)){this.domElem.removeClass(\"disabled\")}else{this.domElem.addClass(\"disabled\")}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.tbcellsmerge=function(g,f){this.constructor.prototype.constructor.call(this,g,f);var c=this;function b(){var j=c.rte.dom.selfOrParent(c.rte.selection.getStart(),/^(TD|TH)$/);var h=c.rte.dom.selfOrParent(c.rte.selection.getEnd(),/^(TD|TH)$/);\nif(j&&h&&j!=h&&a(j).parents(\"table\").get(0)==a(h).parents(\"table\").get(0)){return[j,h]}return null}this.command=function(){var z=b();if(z){var x=this.rte.dom.indexOf(a(z[0]).parent(\"tr\").get(0));var r=this.rte.dom.indexOf(a(z[1]).parent(\"tr\").get(0));var q=Math.min(x,r);var u=Math.max(x,r)-q+1;var j=this.rte.dom.tableColumn(z[0],true,true);var h=this.rte.dom.tableColumn(z[1],true);var B=a.inArray(z[0],j.column);var w=a.inArray(z[1],h.column);var p=j.info.offset[B]<h.info.offset[w]?j:h;var v=j.info.offset[B]>=h.info.offset[w]?j:h;\nvar k=0;var t=null;var o=\"\";this.rte.history.add();var A=a(a(z[0]).parents(\"table\").eq(0).find(\"tr\").get().slice(q,q+u)).each(function(E){var D=o.length;var C=false;a(this).children(\"td,th\").each(function(){var K=a(this);var I=a.inArray(this,p.column);var H=a.inArray(this,v.column);if(I!=-1||H!=-1){C=I!=-1&&H==-1;var G=parseInt(K.attr(\"colspan\")||1);if(E==0){k+=G}if(I!=-1&&E>0){var L=p.info.delta[I];if(L>0){if(K.css(\"text-align\")==\"left\"){var F=K.clone(true);K.html(\"&nbsp;\")}else{var F=K.clone().html(\"&nbsp;\")\n}F.removeAttr(\"colspan\").removeAttr(\"id\").insertBefore(this);if(L>1){F.attr(\"colspan\",L)}}}if(H!=-1){var L=v.info.delta[H];if(G-L>1){var J=G-L-1;if(K.css(\"text-align\")==\"right\"){var F=K.clone(true);K.html(\"&nbsp;\")}else{var F=K.clone().html(\"&nbsp;\")}F.removeAttr(\"colspan\").removeAttr(\"id\").insertAfter(this);if(J>1){F.attr(\"colspan\",J)}}}if(!t){t=K}else{o+=K.html();K.remove()}}else{if(C){if(E==0){k+=parseInt(K.attr(\"colspan\")||1)}o+=K.html();K.remove()}}});o+=D!=o.length?\"<br />\":\"\"});t.removeAttr(\"colspan\").removeAttr(\"rowspan\").html(t.html()+o);\nif(k>1){t.attr(\"colspan\",k)}if(u>1){t.attr(\"rowspan\",u)}this.rte.dom.fixTable(a(z[0]).parents(\"table\").get(0))}};this.update=function(){if(b()){this.domElem.removeClass(\"disabled\")}else{this.domElem.addClass(\"disabled\")}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.tbcellsplit=function(c,b){this.constructor.prototype.constructor.call(this,c,b);this.command=function(){var j=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/);if(j){this.rte.history.add();var k=parseInt(this.rte.dom.attr(j,\"colspan\"));\nvar o=parseInt(this.rte.dom.attr(j,\"rowspan\"));if(k>1||o>1){var u=k-1;var v=o-1;var q=this.rte.dom.parent(j,/^TABLE$/);var p=this.rte.dom.tableMatrix(q);if(u){for(var t=0;t<u;t++){a(this.rte.dom.create(j.nodeName)).html(\"&nbsp;\").insertAfter(j)}}if(v){var x=this.rte.dom.indexesOfCell(j,p);var h=x[0];var g=x[1];for(var f=h+1;f<h+v+1;f++){var w;if(!p[f][g].nodeName){if(p[f][g-1].nodeName){w=p[f][g-1]}else{for(var t=g-1;t>=0;t--){if(p[f][t].nodeName){w=p[f][t];break}}}if(w){for(var t=0;t<=u;t++){a(this.rte.dom.create(w.nodeName)).html(\"&nbsp;\").insertAfter(w)\n}}}}}a(j).removeAttr(\"colspan\").removeAttr(\"rowspan\");this.rte.dom.fixTable(q)}}this.rte.ui.update(true)};this.update=function(){var f=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/);if(f&&(parseInt(this.rte.dom.attr(f,\"colspan\"))>1||parseInt(this.rte.dom.attr(f,\"rowspan\"))>1)){this.domElem.removeClass(\"disabled\")}else{this.domElem.addClass(\"disabled\")}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.tbcolbefore=function(f,c){this.constructor.prototype.constructor.call(this,f,c);\nvar b=this;this.command=function(){var g=this;var h=this.rte.dom.tableColumn(this.rte.selection.getNode(),false,true);if(h.length){this.rte.history.add();a.each(h,function(){var k=a(this);var j=parseInt(k.attr(\"colspan\")||1);if(j>1){k.attr(\"colspan\",j+1)}else{var o=a(g.rte.dom.create(this.nodeName)).html(\"&nbsp;\");if(g.name==\"tbcolbefore\"){o.insertBefore(this)}else{o.insertAfter(this)}}});this.rte.ui.update()}};this.update=function(){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/)){this.domElem.removeClass(\"disabled\")\n}else{this.domElem.addClass(\"disabled\")}}};elRTE.prototype.ui.prototype.buttons.tbcolafter=elRTE.prototype.ui.prototype.buttons.tbcolbefore})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.tbcolrm=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.command=function(){var p=this.rte.selection.getNode();var o=this.rte.dom.selfOrParent(p,/^(TD|TH)$/);var k=a(o).prev(\"td,th\").get(0);var j=a(o).next(\"td,th\").get(0);var g=this.rte.dom.parent(p,/^TABLE$/);var h=this.rte.dom.tableColumn(p,false,true);\nif(h.length){this.rte.history.add();a.each(h,function(){var r=a(this);var q=parseInt(r.attr(\"colspan\")||1);if(q>1){r.attr(\"colspan\",q-1)}else{r.remove()}});this.rte.dom.fixTable(g);if(k||j){this.rte.selection.selectContents(k?k:j).collapse(true)}this.rte.ui.update(true)}};this.update=function(){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/)){this.domElem.removeClass(\"disabled\")}else{this.domElem.addClass(\"disabled\")}}}})(jQuery);elRTE.prototype.ui.prototype.buttons.tbrowbefore=function(b,a){this.constructor.prototype.constructor.call(this,b,a);\nthis.command=function(){var h=this.rte.selection.getNode();var t=this.rte.dom.selfOrParent(h,/^(TD|TH)$/);var f=this.rte.dom.selfOrParent(t,/^TR$/);var w=this.rte.dom.tableMatrix(this.rte.dom.selfOrParent(t,/^TABLE$/));if(t&&f&&w){this.rte.history.add();var u=this.name==\"tbrowbefore\";var q=$(f).prevAll(\"tr\").length;var j=0;var p=[];function k(c,r){while(r>0){r--;if(w[r]&&w[r][c]&&w[r][c].nodeName){return w[r][c]}}}for(var o=0;o<w[q].length;o++){if(w[q][o]&&w[q][o].nodeName){var v=$(w[q][o]);var g=parseInt(v.attr(\"colspan\")||1);\nif(parseInt(v.attr(\"rowspan\")||1)>1){if(u){j+=g}else{p.push(v)}}else{j+=g}}else{if(w[q][o]==\"-\"){v=k(o,q);v&&p.push($(v))}}}var x=$(this.rte.dom.create(\"tr\"));for(var o=0;o<j;o++){x.append(\"<td>&nbsp;</td>\")}if(u){x.insertBefore(f)}else{x.insertAfter(f)}$.each(p,function(){$(this).attr(\"rowspan\",parseInt($(this).attr(\"rowspan\")||1)+1)});this.rte.ui.update()}};this.update=function(){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^TR$/)){this.domElem.removeClass(\"disabled\")}else{this.domElem.addClass(\"disabled\")\n}}};elRTE.prototype.ui.prototype.buttons.tbrowafter=elRTE.prototype.ui.prototype.buttons.tbrowbefore;(function(a){elRTE.prototype.ui.prototype.buttons.tbrowrm=function(f,c){this.constructor.prototype.constructor.call(this,f,c);var b=this;this.command=function(){var h=this.rte.selection.getNode(),x=this.rte.dom.selfOrParent(h,/^(TD|TH)$/),g=this.rte.dom.selfOrParent(x,/^TR$/),q=this.rte.dom.selfOrParent(x,/^TABLE$/),A=this.rte.dom.tableMatrix(q);if(x&&g&&A.length){this.rte.history.add();if(A.length==1){a(q).remove();\nreturn this.rte.ui.update()}var u=[];var v=a(g).prevAll(\"tr\").length;function p(r,C){while(C>0){C--;if(A[C]&&A[C][r]&&A[C][r].nodeName){return A[C][r]}}}function B(C,r){y=v+1;var E=null;if(A[y]){for(var D=0;D<r;D++){if(A[y][D]&&A[y][D].nodeName){E=A[y][D]}}C=C.remove();if(E){C.insertAfter(E)}else{C.prependTo(a(g).next(\"tr\").eq(0))}}}function o(C){for(var r=0;r<C.length;r++){if(C[r]==x){return r<C.length-1?C[r+1]:C[r-1]}}}for(var t=0;t<A[v].length;t++){var z=null;var j=false;if(A[v][t]&&A[v][t].nodeName){z=A[v][t];\nj=true}else{if(A[v][t]==\"-\"&&(z=p(t,v))){j=false}}if(z){z=a(z);var k=parseInt(z.attr(\"rowspan\")||1);if(k>1){z.attr(\"rowspan\",k-1);j&&B(z,t,v)}}}var w=o(this.rte.dom.tableColumn(x));if(w){this.rte.selection.selectContents(w).collapse(true)}a(g).remove()}this.rte.ui.update()};this.update=function(){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^TR$/)){this.domElem.removeClass(\"disabled\")}else{this.domElem.addClass(\"disabled\")}}}})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.undo=function(c,b){this.constructor.prototype.constructor.call(this,c,b);\nthis.command=function(){if(this.name==\"undo\"&&this.rte.history.canBack()){this.rte.history.back();this.rte.ui.update()}else{if(this.name==\"redo\"&&this.rte.history.canFwd()){this.rte.history.fwd();this.rte.ui.update()}}};this.update=function(){this.domElem.toggleClass(\"disabled\",this.name==\"undo\"?!this.rte.history.canBack():!this.rte.history.canFwd())}};elRTE.prototype.ui.prototype.buttons.redo=elRTE.prototype.ui.prototype.buttons.undo})(jQuery);(function(a){elRTE.prototype.ui.prototype.buttons.unlink=function(c,b){this.constructor.prototype.constructor.call(this,c,b);\nthis.command=function(){var k=this.rte.selection.getNode(),f=this.rte.dom.selfOrParentLink(k);function j(o){return o.nodeName==\"A\"&&o.href}if(!f){var h=a.browser.msie?this.rte.selection.selected():this.rte.selection.selected({wrap:false});if(h.length){for(var g=0;g<h.length;g++){if(j(h[g])){f=h[g];break}}if(!f){f=this.rte.dom.parent(h[0],j)||this.rte.dom.parent(h[h.length-1],j)}}}if(f){this.rte.history.add();this.rte.selection.select(f);this.rte.doc.execCommand(\"unlink\",false,null);this.rte.ui.update(true)\n}};this.update=function(){var f=this.rte.selection.getNode();if(this.rte.dom.selfOrParentLink(f)){this.domElem.removeClass(\"disabled\").addClass(\"active\")}else{if(this.rte.dom.selectionHas(function(g){return g.nodeName==\"A\"&&g.href})){this.domElem.removeClass(\"disabled\").addClass(\"active\")}else{this.domElem.addClass(\"disabled\").removeClass(\"active\")}}}}})(jQuery);","/*\n * This is dummy file and does nothing.\n * \n * You do not need to include it for English localization.\n * \n * Translators!\n * If you want to make new localization use 'elrte.YOUR_LANG.js' file\n * in this directory as template.\n * Please submit your localization by creating new issue:\n * http://elrte.org/redmine/projects/elrte/issues/new\n */\n","/*\nCopyright 2012 Igor Vaynberg\n\nVersion: @@ver@@ Timestamp: @@timestamp@@\n\nThis software is licensed under the Apache License, Version 2.0 (the \"Apache License\") or the GNU\nGeneral Public License version 2 (the \"GPL License\"). You may choose either license to govern your\nuse of this software only upon the condition that you accept all of the terms of either the Apache\nLicense or the GPL License.\n\nYou may obtain a copy of the Apache License and the GPL License at:\n\n    http://www.apache.org/licenses/LICENSE-2.0\n    http://www.gnu.org/licenses/gpl-2.0.html\n\nUnless required by applicable law or agreed to in writing, software distributed under the\nApache License or the GPL Licesnse is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\nCONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for\nthe specific language governing permissions and limitations under the Apache License and the GPL License.\n*/\n (function ($) {\n \tif(typeof $.fn.each2 == \"undefined\"){\n \t\t$.fn.extend({\n \t\t\t/*\n\t\t\t* 4-10 times faster .each replacement\n\t\t\t* use it carefully, as it overrides jQuery context of element on each iteration\n\t\t\t*/\n\t\t\teach2 : function (c) {\n\t\t\t\tvar j = $([0]), i = -1, l = this.length;\n\t\t\t\twhile (\n\t\t\t\t\t++i < l\n\t\t\t\t\t&& (j.context = j[0] = this[i])\n\t\t\t\t\t&& c.call(j[0], i, j) !== false //\"this\"=DOM, i=index, j=jQuery object\n\t\t\t\t);\n\t\t\t\treturn this;\n\t\t\t}\n \t\t});\n \t}\n})(jQuery);\n\n(function ($, undefined) {\n    \"use strict\";\n    /*global document, window, jQuery, console */\n\n    if (window.Select2 !== undefined) {\n        return;\n    }\n\n    var KEY, AbstractSelect2, SingleSelect2, MultiSelect2, nextUid, sizer,\n        lastMousePosition, $document;\n\n    KEY = {\n        TAB: 9,\n        ENTER: 13,\n        ESC: 27,\n        SPACE: 32,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40,\n        SHIFT: 16,\n        CTRL: 17,\n        ALT: 18,\n        PAGE_UP: 33,\n        PAGE_DOWN: 34,\n        HOME: 36,\n        END: 35,\n        BACKSPACE: 8,\n        DELETE: 46,\n        isArrow: function (k) {\n            k = k.which ? k.which : k;\n            switch (k) {\n            case KEY.LEFT:\n            case KEY.RIGHT:\n            case KEY.UP:\n            case KEY.DOWN:\n                return true;\n            }\n            return false;\n        },\n        isControl: function (e) {\n            var k = e.which;\n            switch (k) {\n            case KEY.SHIFT:\n            case KEY.CTRL:\n            case KEY.ALT:\n                return true;\n            }\n\n            if (e.metaKey) return true;\n\n            return false;\n        },\n        isFunctionKey: function (k) {\n            k = k.which ? k.which : k;\n            return k >= 112 && k <= 123;\n        }\n    };\n\n    $document = $(document);\n\n    nextUid=(function() { var counter=1; return function() { return counter++; }; }());\n\n    function indexOf(value, array) {\n        var i = 0, l = array.length, v;\n\n        if (typeof value === \"undefined\") {\n          return -1;\n        }\n\n        if (value.constructor === String) {\n            for (; i < l; i = i + 1) if (value.localeCompare(array[i]) === 0) return i;\n        } else {\n            for (; i < l; i = i + 1) {\n                v = array[i];\n                if (v.constructor === String) {\n                    if (v.localeCompare(value) === 0) return i;\n                } else {\n                    if (v === value) return i;\n                }\n            }\n        }\n        return -1;\n    }\n\n    /**\n     * Compares equality of a and b taking into account that a and b may be strings, in which case localeCompare is used\n     * @param a\n     * @param b\n     */\n    function equal(a, b) {\n        if (a === b) return true;\n        if (a === undefined || b === undefined) return false;\n        if (a === null || b === null) return false;\n        if (a.constructor === String) return a.localeCompare(b) === 0;\n        if (b.constructor === String) return b.localeCompare(a) === 0;\n        return false;\n    }\n\n    /**\n     * Splits the string into an array of values, trimming each value. An empty array is returned for nulls or empty\n     * strings\n     * @param string\n     * @param separator\n     */\n    function splitVal(string, separator) {\n        var val, i, l;\n        if (string === null || string.length < 1) return [];\n        val = string.split(separator);\n        for (i = 0, l = val.length; i < l; i = i + 1) val[i] = $.trim(val[i]);\n        return val;\n    }\n\n    function getSideBorderPadding(element) {\n        return element.outerWidth(false) - element.width();\n    }\n\n    function installKeyUpChangeEvent(element) {\n        var key=\"keyup-change-value\";\n        element.bind(\"keydown\", function () {\n            if ($.data(element, key) === undefined) {\n                $.data(element, key, element.val());\n            }\n        });\n        element.bind(\"keyup\", function () {\n            var val= $.data(element, key);\n            if (val !== undefined && element.val() !== val) {\n                $.removeData(element, key);\n                element.trigger(\"keyup-change\");\n            }\n        });\n    }\n\n    $document.bind(\"mousemove\", function (e) {\n        lastMousePosition = {x: e.pageX, y: e.pageY};\n    });\n\n    /**\n     * filters mouse events so an event is fired only if the mouse moved.\n     *\n     * filters out mouse events that occur when mouse is stationary but\n     * the elements under the pointer are scrolled.\n     */\n    function installFilteredMouseMove(element) {\n\t    element.bind(\"mousemove\", function (e) {\n            var lastpos = lastMousePosition;\n            if (lastpos === undefined || lastpos.x !== e.pageX || lastpos.y !== e.pageY) {\n                $(e.target).trigger(\"mousemove-filtered\", e);\n            }\n        });\n    }\n\n    /**\n     * Debounces a function. Returns a function that calls the original fn function only if no invocations have been made\n     * within the last quietMillis milliseconds.\n     *\n     * @param quietMillis number of milliseconds to wait before invoking fn\n     * @param fn function to be debounced\n     * @param ctx object to be used as this reference within fn\n     * @return debounced version of fn\n     */\n    function debounce(quietMillis, fn, ctx) {\n        ctx = ctx || undefined;\n        var timeout;\n        return function () {\n            var args = arguments;\n            window.clearTimeout(timeout);\n            timeout = window.setTimeout(function() {\n                fn.apply(ctx, args);\n            }, quietMillis);\n        };\n    }\n\n    /**\n     * A simple implementation of a thunk\n     * @param formula function used to lazily initialize the thunk\n     * @return {Function}\n     */\n    function thunk(formula) {\n        var evaluated = false,\n            value;\n        return function() {\n            if (evaluated === false) { value = formula(); evaluated = true; }\n            return value;\n        };\n    };\n\n    function installDebouncedScroll(threshold, element) {\n        var notify = debounce(threshold, function (e) { element.trigger(\"scroll-debounced\", e);});\n        element.bind(\"scroll\", function (e) {\n            if (indexOf(e.target, element.get()) >= 0) notify(e);\n        });\n    }\n\n    function killEvent(event) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n    function killEventImmediately(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n    }\n\n    function measureTextWidth(e) {\n        if (!sizer){\n        \tvar style = e[0].currentStyle || window.getComputedStyle(e[0], null);\n        \tsizer = $(\"<div></div>\").css({\n\t            position: \"absolute\",\n\t            left: \"-10000px\",\n\t            top: \"-10000px\",\n\t            display: \"none\",\n\t            fontSize: style.fontSize,\n\t            fontFamily: style.fontFamily,\n\t            fontStyle: style.fontStyle,\n\t            fontWeight: style.fontWeight,\n\t            letterSpacing: style.letterSpacing,\n\t            textTransform: style.textTransform,\n\t            whiteSpace: \"nowrap\"\n\t        });\n        \t$(\"body\").append(sizer);\n        }\n        sizer.text(e.val());\n        return sizer.width();\n    }\n\n    function markMatch(text, term, markup) {\n        var match=text.toUpperCase().indexOf(term.toUpperCase()),\n            tl=term.length;\n\n        if (match<0) {\n            markup.push(text);\n            return;\n        }\n\n        markup.push(text.substring(0, match));\n        markup.push(\"<span class='select2-match'>\");\n        markup.push(text.substring(match, match + tl));\n        markup.push(\"</span>\");\n        markup.push(text.substring(match + tl, text.length));\n    }\n\n    /**\n     * Produces an ajax-based query function\n     *\n     * @param options object containing configuration paramters\n     * @param options.transport function that will be used to execute the ajax request. must be compatible with parameters supported by $.ajax\n     * @param options.url url for the data\n     * @param options.data a function(searchTerm, pageNumber, context) that should return an object containing query string parameters for the above url.\n     * @param options.dataType request data type: ajax, jsonp, other datatatypes supported by jQuery's $.ajax function or the transport function if specified\n     * @param options.traditional a boolean flag that should be true if you wish to use the traditional style of param serialization for the ajax request\n     * @param options.quietMillis (optional) milliseconds to wait before making the ajaxRequest, helps debounce the ajax function if invoked too often\n     * @param options.results a function(remoteData, pageNumber) that converts data returned form the remote request to the format expected by Select2.\n     *      The expected format is an object containing the following keys:\n     *      results array of objects that will be used as choices\n     *      more (optional) boolean indicating whether there are more results available\n     *      Example: {results:[{id:1, text:'Red'},{id:2, text:'Blue'}], more:true}\n     */\n    function ajax(options) {\n        var timeout, // current scheduled but not yet executed request\n            requestSequence = 0, // sequence used to drop out-of-order responses\n            handler = null,\n            quietMillis = options.quietMillis || 100;\n\n        return function (query) {\n            window.clearTimeout(timeout);\n            timeout = window.setTimeout(function () {\n                requestSequence += 1; // increment the sequence\n                var requestNumber = requestSequence, // this request's sequence number\n                    data = options.data, // ajax data function\n                    transport = options.transport || $.ajax,\n                    traditional = options.traditional || false,\n                    type = options.type || 'GET'; // set type of request (GET or POST)\n\n                data = data.call(this, query.term, query.page, query.context);\n\n                if( null !== handler) { handler.abort(); }\n\n                handler = transport.call(null, {\n                    url: options.url,\n                    dataType: options.dataType,\n                    data: data,\n                    type: type,\n                    traditional: traditional,\n                    success: function (data) {\n                        if (requestNumber < requestSequence) {\n                            return;\n                        }\n                        // TODO 3.0 - replace query.page with query so users have access to term, page, etc.\n                        var results = options.results(data, query.page);\n                        query.callback(results);\n                    }\n                });\n            }, quietMillis);\n        };\n    }\n\n    /**\n     * Produces a query function that works with a local array\n     *\n     * @param options object containing configuration parameters. The options parameter can either be an array or an\n     * object.\n     *\n     * If the array form is used it is assumed that it contains objects with 'id' and 'text' keys.\n     *\n     * If the object form is used ti is assumed that it contains 'data' and 'text' keys. The 'data' key should contain\n     * an array of objects that will be used as choices. These objects must contain at least an 'id' key. The 'text'\n     * key can either be a String in which case it is expected that each element in the 'data' array has a key with the\n     * value of 'text' which will be used to match choices. Alternatively, text can be a function(item) that can extract\n     * the text.\n     */\n    function local(options) {\n        var data = options, // data elements\n            dataText,\n            text = function (item) { return \"\"+item.text; }; // function used to retrieve the text portion of a data item that is matched against the search\n\n        if (!$.isArray(data)) {\n            text = data.text;\n            // if text is not a function we assume it to be a key name\n            if (!$.isFunction(text)) {\n              dataText = data.text; // we need to store this in a separate variable because in the next step data gets reset and data.text is no longer available\n              text = function (item) { return item[dataText]; };\n            }\n            data = data.results;\n        }\n\n        return function (query) {\n            var t = query.term, filtered = { results: [] }, process;\n            if (t === \"\") {\n                query.callback({results: data});\n                return;\n            }\n\n            process = function(datum, collection) {\n                var group, attr;\n                datum = datum[0];\n                if (datum.children) {\n                    group = {};\n                    for (attr in datum) {\n                        if (datum.hasOwnProperty(attr)) group[attr]=datum[attr];\n                    }\n                    group.children=[];\n                    $(datum.children).each2(function(i, childDatum) { process(childDatum, group.children); });\n                    if (group.children.length || query.matcher(t, text(group))) {\n                        collection.push(group);\n                    }\n                } else {\n                    if (query.matcher(t, text(datum))) {\n                        collection.push(datum);\n                    }\n                }\n            };\n\n            $(data).each2(function(i, datum) { process(datum, filtered.results); });\n            query.callback(filtered);\n        };\n    }\n\n    // TODO javadoc\n    function tags(data) {\n        // TODO even for a function we should probably return a wrapper that does the same object/string check as\n        // the function for arrays. otherwise only functions that return objects are supported.\n        if ($.isFunction(data)) {\n            return data;\n        }\n\n        // if not a function we assume it to be an array\n\n        return function (query) {\n            var t = query.term, filtered = {results: []};\n            $(data).each(function () {\n                var isObject = this.text !== undefined,\n                    text = isObject ? this.text : this;\n                if (t === \"\" || query.matcher(t, text)) {\n                    filtered.results.push(isObject ? this : {id: this, text: this});\n                }\n            });\n            query.callback(filtered);\n        };\n    }\n\n    /**\n     * Checks if the formatter function should be used.\n     *\n     * Throws an error if it is not a function. Returns true if it should be used,\n     * false if no formatting should be performed.\n     *\n     * @param formatter\n     */\n    function checkFormatter(formatter, formatterName) {\n        if ($.isFunction(formatter)) return true;\n        if (!formatter) return false;\n        throw new Error(\"formatterName must be a function or a falsy value\");\n    }\n\n    function evaluate(val) {\n        return $.isFunction(val) ? val() : val;\n    }\n\n    function countResults(results) {\n        var count = 0;\n        $.each(results, function(i, item) {\n            if (item.children) {\n                count += countResults(item.children);\n            } else {\n                count++;\n            }\n        });\n        return count;\n    }\n\n    /**\n     * Default tokenizer. This function uses breaks the input on substring match of any string from the\n     * opts.tokenSeparators array and uses opts.createSearchChoice to create the choice object. Both of those\n     * two options have to be defined in order for the tokenizer to work.\n     *\n     * @param input text user has typed so far or pasted into the search field\n     * @param selection currently selected choices\n     * @param selectCallback function(choice) callback tho add the choice to selection\n     * @param opts select2's opts\n     * @return undefined/null to leave the current input unchanged, or a string to change the input to the returned value\n     */\n    function defaultTokenizer(input, selection, selectCallback, opts) {\n        var original = input, // store the original so we can compare and know if we need to tell the search to update its text\n            dupe = false, // check for whether a token we extracted represents a duplicate selected choice\n            token, // token\n            index, // position at which the separator was found\n            i, l, // looping variables\n            separator; // the matched separator\n\n        if (!opts.createSearchChoice || !opts.tokenSeparators || opts.tokenSeparators.length < 1) return undefined;\n\n        while (true) {\n            index = -1;\n\n            for (i = 0, l = opts.tokenSeparators.length; i < l; i++) {\n                separator = opts.tokenSeparators[i];\n                index = input.indexOf(separator);\n                if (index >= 0) break;\n            }\n\n            if (index < 0) break; // did not find any token separator in the input string, bail\n\n            token = input.substring(0, index);\n            input = input.substring(index + separator.length);\n\n            if (token.length > 0) {\n                token = opts.createSearchChoice(token, selection);\n                if (token !== undefined && token !== null && opts.id(token) !== undefined && opts.id(token) !== null) {\n                    dupe = false;\n                    for (i = 0, l = selection.length; i < l; i++) {\n                        if (equal(opts.id(token), opts.id(selection[i]))) {\n                            dupe = true; break;\n                        }\n                    }\n\n                    if (!dupe) selectCallback(token);\n                }\n            }\n        }\n\n        if (original.localeCompare(input) != 0) return input;\n    }\n\n    /**\n     * blurs any Select2 container that has focus when an element outside them was clicked or received focus\n     *\n     * also takes care of clicks on label tags that point to the source element\n     */\n    $document.ready(function () {\n        $document.bind(\"mousedown touchend\", function (e) {\n            var target = $(e.target).closest(\"div.select2-container\").get(0), attr;\n            var targetDropdown = null;\n            if (target) {\n                $document.find(\"div.select2-container-active\").each(function () {\n                    if (this !== target) $(this).data(\"select2\").blur();\n                });\n                targetDropdown = $(target).data('select2').dropdown.get(0);\n            }\n\n            // close any other active dropdowns\n            target = targetDropdown || $(e.target).closest(\"div.select2-drop\").get(0);\n            $document.find(\"div.select2-drop-active\").each(function () {\n                if (this !== target) $(this).data(\"select2\").blur();\n            });\n\n            target=$(e.target);\n            attr = target.attr(\"for\");\n            if (\"LABEL\" === e.target.tagName && attr && attr.length > 0) {\n                attr = attr.replace(/([\\[\\].])/g,'\\\\$1'); /* escapes [, ], and . so properly selects the id */\n                target = $(\"#\"+attr);\n                target = target.data(\"select2\");\n                if (target !== undefined) { target.focus(); e.preventDefault();}\n            }\n        });\n    });\n\n    /**\n     * Creates a new class\n     *\n     * @param superClass\n     * @param methods\n     */\n    function clazz(SuperClass, methods) {\n        var constructor = function () {};\n        constructor.prototype = new SuperClass;\n        constructor.prototype.constructor = constructor;\n        constructor.prototype.parent = SuperClass.prototype;\n        constructor.prototype = $.extend(constructor.prototype, methods);\n        return constructor;\n    }\n\n    AbstractSelect2 = clazz(Object, {\n\n        // abstract\n        bind: function (func) {\n            var self = this;\n            return function () {\n                func.apply(self, arguments);\n            };\n        },\n\n        // abstract\n        init: function (opts) {\n            var results, search, resultsSelector = \".select2-results\";\n\n            // prepare options\n            this.opts = opts = this.prepareOpts(opts);\n\n            this.id=opts.id;\n\n            // destroy if called on an existing component\n            if (opts.element.data(\"select2\") !== undefined &&\n                opts.element.data(\"select2\") !== null) {\n                this.destroy();\n            }\n\n            this.enabled=true;\n            this.container = this.createContainer();\n\n            this.containerId=\"s2id_\"+(opts.element.attr(\"id\") || \"autogen\"+nextUid());\n            this.containerSelector=\"#\"+this.containerId.replace(/([;&,\\.\\+\\*\\~':\"\\!\\^#$%@\\[\\]\\(\\)=>\\|])/g, '\\\\$1');\n            this.container.attr(\"id\", this.containerId);\n\n            // cache the body so future lookups are cheap\n            this.body = thunk(function() { return opts.element.closest(\"body\"); });\n\n            if (opts.element.attr(\"class\") !== undefined) {\n                this.container.addClass(opts.element.attr(\"class\").replace(/validate\\[[\\S ]+] ?/, ''));\n            }\n\n            this.container.css(evaluate(opts.containerCss));\n            this.container.addClass(evaluate(opts.containerCssClass));\n\n            // swap container for the element\n            this.opts.element\n                .data(\"select2\", this)\n                .hide()\n                .before(this.container);\n            this.container.data(\"select2\", this);\n\n            this.dropdown = this.container.find(\".select2-drop\");\n            this.dropdown.addClass(evaluate(opts.dropdownCssClass));\n            this.dropdown.data(\"select2\", this);\n\n            this.results = results = this.container.find(resultsSelector);\n            this.search = search = this.container.find(\"input.select2-input\");\n\n            search.attr(\"tabIndex\", this.opts.element.attr(\"tabIndex\"));\n\n            this.resultsPage = 0;\n            this.context = null;\n\n            // initialize the container\n            this.initContainer();\n            this.initContainerWidth();\n\n            installFilteredMouseMove(this.results);\n            this.dropdown.delegate(resultsSelector, \"mousemove-filtered\", this.bind(this.highlightUnderEvent));\n\n            installDebouncedScroll(80, this.results);\n            this.dropdown.delegate(resultsSelector, \"scroll-debounced\", this.bind(this.loadMoreIfNeeded));\n\n            // if jquery.mousewheel plugin is installed we can prevent out-of-bounds scrolling of results via mousewheel\n            if ($.fn.mousewheel) {\n                results.mousewheel(function (e, delta, deltaX, deltaY) {\n                    var top = results.scrollTop(), height;\n                    if (deltaY > 0 && top - deltaY <= 0) {\n                        results.scrollTop(0);\n                        killEvent(e);\n                    } else if (deltaY < 0 && results.get(0).scrollHeight - results.scrollTop() + deltaY <= results.height()) {\n                        results.scrollTop(results.get(0).scrollHeight - results.height());\n                        killEvent(e);\n                    }\n                });\n            }\n\n            installKeyUpChangeEvent(search);\n            search.bind(\"keyup-change\", this.bind(this.updateResults));\n            search.bind(\"focus\", function () { search.addClass(\"select2-focused\"); if (search.val() === \" \") search.val(\"\"); });\n            search.bind(\"blur\", function () { search.removeClass(\"select2-focused\");});\n\n            this.dropdown.delegate(resultsSelector, \"mouseup\", this.bind(function (e) {\n                if ($(e.target).closest(\".select2-result-selectable:not(.select2-disabled)\").length > 0) {\n                    this.highlightUnderEvent(e);\n                    this.selectHighlighted(e);\n                } else {\n                    this.focusSearch();\n                }\n                killEvent(e);\n            }));\n\n            // trap all mouse events from leaving the dropdown. sometimes there may be a modal that is listening\n            // for mouse events outside of itself so it can close itself. since the dropdown is now outside the select2's\n            // dom it will trigger the popup close, which is not what we want\n            this.dropdown.bind(\"click mouseup mousedown\", function (e) { e.stopPropagation(); });\n\n            if ($.isFunction(this.opts.initSelection)) {\n                // initialize selection based on the current value of the source element\n                this.initSelection();\n\n                // if the user has provided a function that can set selection based on the value of the source element\n                // we monitor the change event on the element and trigger it, allowing for two way synchronization\n                this.monitorSource();\n            }\n\n            if (opts.element.is(\":disabled\") || opts.element.is(\"[readonly='readonly']\")) this.disable();\n        },\n\n        // abstract\n        destroy: function () {\n            var select2 = this.opts.element.data(\"select2\");\n            if (select2 !== undefined) {\n                select2.container.remove();\n                select2.dropdown.remove();\n                select2.opts.element\n                    .removeData(\"select2\")\n                    .unbind(\".select2\")\n                    .show();\n            }\n        },\n\n        // abstract\n        prepareOpts: function (opts) {\n            var element, select, idKey, ajaxUrl;\n\n            element = opts.element;\n\n            if (element.get(0).tagName.toLowerCase() === \"select\") {\n                this.select = select = opts.element;\n            }\n\n            if (select) {\n                // these options are not allowed when attached to a select because they are picked up off the element itself\n                $.each([\"id\", \"multiple\", \"ajax\", \"query\", \"createSearchChoice\", \"initSelection\", \"data\", \"tags\"], function () {\n                    if (this in opts) {\n                        throw new Error(\"Option '\" + this + \"' is not allowed for Select2 when attached to a <select> element.\");\n                    }\n                });\n            }\n\n            opts = $.extend({}, {\n                populateResults: function(container, results, query) {\n                    var populate,  data, result, children, id=this.opts.id, self=this;\n\n                    populate=function(results, container, depth) {\n\n                        var i, l, result, selectable, compound, node, label, innerContainer, formatted;\n                        for (i = 0, l = results.length; i < l; i = i + 1) {\n\n                            result=results[i];\n                            selectable=id(result) !== undefined;\n                            compound=result.children && result.children.length > 0;\n\n                            node=$(\"<li></li>\");\n                            node.addClass(\"select2-results-dept-\"+depth);\n                            node.addClass(\"select2-result\");\n                            node.addClass(selectable ? \"select2-result-selectable\" : \"select2-result-unselectable\");\n                            if (compound) { node.addClass(\"select2-result-with-children\"); }\n                            node.addClass(self.opts.formatResultCssClass(result));\n\n                            label=$(\"<div></div>\");\n                            label.addClass(\"select2-result-label\");\n\n                            formatted=opts.formatResult(result, label, query);\n                            if (formatted!==undefined) {\n                                label.html(self.opts.escapeMarkup(formatted));\n                            }\n\n                            node.append(label);\n\n                            if (compound) {\n\n                                innerContainer=$(\"<ul></ul>\");\n                                innerContainer.addClass(\"select2-result-sub\");\n                                populate(result.children, innerContainer, depth+1);\n                                node.append(innerContainer);\n                            }\n\n                            node.data(\"select2-data\", result);\n                            container.append(node);\n                        }\n                    };\n\n                    populate(results, container, 0);\n                }\n            }, $.fn.select2.defaults, opts);\n\n            if (typeof(opts.id) !== \"function\") {\n                idKey = opts.id;\n                opts.id = function (e) { return e[idKey]; };\n            }\n\n            if (select) {\n                opts.query = this.bind(function (query) {\n                    var data = { results: [], more: false },\n                        term = query.term,\n                        children, firstChild, process;\n\n                    process=function(element, collection) {\n                        var group;\n                        if (element.is(\"option\")) {\n                            if (query.matcher(term, element.text(), element)) {\n                                collection.push({id:element.attr(\"value\"), text:element.text(), element: element.get(), css: element.attr(\"class\")});\n                            }\n                        } else if (element.is(\"optgroup\")) {\n                            group={text:element.attr(\"label\"), children:[], element: element.get(), css: element.attr(\"class\")};\n                            element.children().each2(function(i, elm) { process(elm, group.children); });\n                            if (group.children.length>0) {\n                                collection.push(group);\n                            }\n                        }\n                    };\n\n                    children=element.children();\n\n                    // ignore the placeholder option if there is one\n                    if (this.getPlaceholder() !== undefined && children.length > 0) {\n                        firstChild = children[0];\n                        if ($(firstChild).text() === \"\") {\n                            children=children.not(firstChild);\n                        }\n                    }\n\n                    children.each2(function(i, elm) { process(elm, data.results); });\n\n                    query.callback(data);\n                });\n                // this is needed because inside val() we construct choices from options and there id is hardcoded\n                opts.id=function(e) { return e.id; };\n                opts.formatResultCssClass = function(data) { return data.css; }\n            } else {\n                if (!(\"query\" in opts)) {\n                    if (\"ajax\" in opts) {\n                        ajaxUrl = opts.element.data(\"ajax-url\");\n                        if (ajaxUrl && ajaxUrl.length > 0) {\n                            opts.ajax.url = ajaxUrl;\n                        }\n                        opts.query = ajax(opts.ajax);\n                    } else if (\"data\" in opts) {\n                        opts.query = local(opts.data);\n                    } else if (\"tags\" in opts) {\n                        opts.query = tags(opts.tags);\n                        if (opts.createSearchChoice === undefined) {\n                            opts.createSearchChoice = function (term) { return {id: term, text: term}; };\n                        }\n                        opts.initSelection = function (element, callback) {\n                            var data = [];\n                            $(splitVal(element.val(), opts.separator)).each(function () {\n                                var id = this, text = this, tags=opts.tags;\n                                if ($.isFunction(tags)) tags=tags();\n                                $(tags).each(function() { if (equal(this.id, id)) { text = this.text; return false; } });\n                                data.push({id: id, text: text});\n                            });\n\n                            callback(data);\n                        };\n                    }\n                }\n            }\n            if (typeof(opts.query) !== \"function\") {\n                throw \"query function not defined for Select2 \" + opts.element.attr(\"id\");\n            }\n\n            return opts;\n        },\n\n        /**\n         * Monitor the original element for changes and update select2 accordingly\n         */\n        // abstract\n        monitorSource: function () {\n            this.opts.element.bind(\"change.select2\", this.bind(function (e) {\n                if (this.opts.element.data(\"select2-change-triggered\") !== true) {\n                    this.initSelection();\n                }\n            }));\n        },\n\n        /**\n         * Triggers the change event on the source element\n         */\n        // abstract\n        triggerChange: function (details) {\n\n            details = details || {};\n            details= $.extend({}, details, { type: \"change\", val: this.val() });\n            // prevents recursive triggering\n            this.opts.element.data(\"select2-change-triggered\", true);\n            this.opts.element.trigger(details);\n            this.opts.element.data(\"select2-change-triggered\", false);\n\n            // some validation frameworks ignore the change event and listen instead to keyup, click for selects\n            // so here we trigger the click event manually\n            this.opts.element.click();\n\n            // ValidationEngine ignorea the change event and listens instead to blur\n            // so here we trigger the blur event manually if so desired\n            if (this.opts.blurOnChange)\n                this.opts.element.blur();\n        },\n\n\n        // abstract\n        enable: function() {\n            if (this.enabled) return;\n\n            this.enabled=true;\n            this.container.removeClass(\"select2-container-disabled\");\n            this.opts.element.removeAttr(\"disabled\");\n        },\n\n        // abstract\n        disable: function() {\n            if (!this.enabled) return;\n\n            this.close();\n\n            this.enabled=false;\n            this.container.addClass(\"select2-container-disabled\");\n            this.opts.element.attr(\"disabled\", \"disabled\");\n        },\n\n        // abstract\n        opened: function () {\n            return this.container.hasClass(\"select2-dropdown-open\");\n        },\n\n        // abstract\n        positionDropdown: function() {\n            var offset = this.container.offset(),\n                height = this.container.outerHeight(false),\n                width = this.container.outerWidth(false),\n                dropHeight = this.dropdown.outerHeight(false),\n\t        viewPortRight = $(window).scrollLeft() + document.documentElement.clientWidth,\n                viewportBottom = $(window).scrollTop() + document.documentElement.clientHeight,\n                dropTop = offset.top + height,\n                dropLeft = offset.left,\n                enoughRoomBelow = dropTop + dropHeight <= viewportBottom,\n                enoughRoomAbove = (offset.top - dropHeight) >= this.body().scrollTop(),\n\t        dropWidth = this.dropdown.outerWidth(false),\n\t        enoughRoomOnRight = dropLeft + dropWidth <= viewPortRight,\n                aboveNow = this.dropdown.hasClass(\"select2-drop-above\"),\n                bodyOffset,\n                above,\n                css;\n\n            // console.log(\"below/ droptop:\", dropTop, \"dropHeight\", dropHeight, \"sum\", (dropTop+dropHeight)+\" viewport bottom\", viewportBottom, \"enough?\", enoughRoomBelow);\n            // console.log(\"above/ offset.top\", offset.top, \"dropHeight\", dropHeight, \"top\", (offset.top-dropHeight), \"scrollTop\", this.body().scrollTop(), \"enough?\", enoughRoomAbove);\n\n            // fix positioning when body has an offset and is not position: static\n\n            if (this.body().css('position') !== 'static') {\n                bodyOffset = this.body().offset();\n                dropTop -= bodyOffset.top;\n                dropLeft -= bodyOffset.left;\n            }\n\n            // always prefer the current above/below alignment, unless there is not enough room\n\n            if (aboveNow) {\n                above = true;\n                if (!enoughRoomAbove && enoughRoomBelow) above = false;\n            } else {\n                above = false;\n                if (!enoughRoomBelow && enoughRoomAbove) above = true;\n            }\n\n\t    if (!enoughRoomOnRight) {\n\t\t   dropLeft = offset.left + width - dropWidth;\n\t    }\n\n            if (above) {\n                dropTop = offset.top - dropHeight;\n                this.container.addClass(\"select2-drop-above\");\n                this.dropdown.addClass(\"select2-drop-above\");\n            }\n            else {\n                this.container.removeClass(\"select2-drop-above\");\n                this.dropdown.removeClass(\"select2-drop-above\");\n            }\n\n            css = $.extend({\n                top: dropTop,\n                left: dropLeft,\n                width: width\n            }, evaluate(this.opts.dropdownCss));\n\n            this.dropdown.css(css);\n        },\n\n        // abstract\n        shouldOpen: function() {\n            var event;\n\n            if (this.opened()) return false;\n\n            event = $.Event(\"open\");\n            this.opts.element.trigger(event);\n            return !event.isDefaultPrevented();\n        },\n\n        // abstract\n        clearDropdownAlignmentPreference: function() {\n            // clear the classes used to figure out the preference of where the dropdown should be opened\n            this.container.removeClass(\"select2-drop-above\");\n            this.dropdown.removeClass(\"select2-drop-above\");\n        },\n\n        /**\n         * Opens the dropdown\n         *\n         * @return {Boolean} whether or not dropdown was opened. This method will return false if, for example,\n         * the dropdown is already open, or if the 'open' event listener on the element called preventDefault().\n         */\n        // abstract\n        open: function () {\n\n            if (!this.shouldOpen()) return false;\n\n            window.setTimeout(this.bind(this.opening), 1);\n\n            return true;\n        },\n\n        /**\n         * Performs the opening of the dropdown\n         */\n        // abstract\n        opening: function() {\n            var cid = this.containerId, selector = this.containerSelector,\n                scroll = \"scroll.\" + cid, resize = \"resize.\" + cid;\n\n            this.container.parents().each(function() {\n                $(this).bind(scroll, function() {\n                    var s2 = $(selector);\n                    if (s2.length == 0) {\n                        $(this).unbind(scroll);\n                    }\n                    s2.select2(\"close\");\n                });\n            });\n\n            window.setTimeout(function() {\n                // this is done inside a timeout because IE will sometimes fire a resize event while opening\n                // the dropdown and that causes this handler to immediately close it. this way the dropdown\n                // has a chance to fully open before we start listening to resize events\n                $(window).bind(resize, function() {\n                    var s2 = $(selector);\n                    if (s2.length == 0) {\n                        $(window).unbind(resize);\n                    }\n                    s2.select2(\"close\");\n                })\n            }, 10);\n\n            this.clearDropdownAlignmentPreference();\n\n            if (this.search.val() === \" \") { this.search.val(\"\"); }\n\n            this.container.addClass(\"select2-dropdown-open\").addClass(\"select2-container-active\");\n\n            this.updateResults(true);\n\n            if(this.dropdown[0] !== this.body().children().last()[0]) {\n                this.dropdown.detach().appendTo(this.body());\n            }\n\n            this.dropdown.show();\n\n            this.positionDropdown();\n            this.dropdown.addClass(\"select2-drop-active\");\n\n            this.ensureHighlightVisible();\n\n            this.focusSearch();\n        },\n\n        // abstract\n        close: function () {\n            if (!this.opened()) return;\n\n            var self = this;\n\n            this.container.parents().each(function() {\n                $(this).unbind(\"scroll.\" + self.containerId);\n            });\n            $(window).unbind(\"resize.\" + this.containerId);\n\n            this.clearDropdownAlignmentPreference();\n\n            this.dropdown.hide();\n            this.container.removeClass(\"select2-dropdown-open\").removeClass(\"select2-container-active\");\n            this.results.empty();\n            this.clearSearch();\n\n            this.opts.element.trigger($.Event(\"close\"));\n        },\n\n        // abstract\n        clearSearch: function () {\n\n        },\n\n        // abstract\n        ensureHighlightVisible: function () {\n            var results = this.results, children, index, child, hb, rb, y, more;\n\n            index = this.highlight();\n\n            if (index < 0) return;\n\n            if (index == 0) {\n\n                // if the first element is highlighted scroll all the way to the top,\n                // that way any unselectable headers above it will also be scrolled\n                // into view\n\n                results.scrollTop(0);\n                return;\n            }\n\n            children = results.find(\".select2-result-selectable\");\n\n            child = $(children[index]);\n\n            hb = child.offset().top + child.outerHeight(true);\n\n            // if this is the last child lets also make sure select2-more-results is visible\n            if (index === children.length - 1) {\n                more = results.find(\"li.select2-more-results\");\n                if (more.length > 0) {\n                    hb = more.offset().top + more.outerHeight(true);\n                }\n            }\n\n            rb = results.offset().top + results.outerHeight(true);\n            if (hb > rb) {\n                results.scrollTop(results.scrollTop() + (hb - rb));\n            }\n            y = child.offset().top - results.offset().top;\n\n            // make sure the top of the element is visible\n            if (y < 0 && child.css('display') != 'none' ) {\n                results.scrollTop(results.scrollTop() + y); // y is negative\n            }\n        },\n\n        // abstract\n        moveHighlight: function (delta) {\n            var choices = this.results.find(\".select2-result-selectable\"),\n                index = this.highlight();\n\n            while (index > -1 && index < choices.length) {\n                index += delta;\n                var choice = $(choices[index]);\n                if (choice.hasClass(\"select2-result-selectable\") && !choice.hasClass(\"select2-disabled\")) {\n                    this.highlight(index);\n                    break;\n                }\n            }\n        },\n\n        // abstract\n        highlight: function (index) {\n            var choices = this.results.find(\".select2-result-selectable\").not(\".select2-disabled\");\n\n            if (arguments.length === 0) {\n                return indexOf(choices.filter(\".select2-highlighted\")[0], choices.get());\n            }\n\n            if (index >= choices.length) index = choices.length - 1;\n            if (index < 0) index = 0;\n\n            choices.removeClass(\"select2-highlighted\");\n\n            $(choices[index]).addClass(\"select2-highlighted\");\n            this.ensureHighlightVisible();\n\n        },\n\n        // abstract\n        countSelectableResults: function() {\n            return this.results.find(\".select2-result-selectable\").not(\".select2-disabled\").length;\n        },\n\n        // abstract\n        highlightUnderEvent: function (event) {\n            var el = $(event.target).closest(\".select2-result-selectable\");\n            if (el.length > 0 && !el.is(\".select2-highlighted\")) {\n        \t\tvar choices = this.results.find('.select2-result-selectable');\n                this.highlight(choices.index(el));\n            } else if (el.length == 0) {\n                // if we are over an unselectable item remove al highlights\n                this.results.find(\".select2-highlighted\").removeClass(\"select2-highlighted\");\n            }\n        },\n\n        // abstract\n        loadMoreIfNeeded: function () {\n            var results = this.results,\n                more = results.find(\"li.select2-more-results\"),\n                below, // pixels the element is below the scroll fold, below==0 is when the element is starting to be visible\n                offset = -1, // index of first element without data\n                page = this.resultsPage + 1,\n                self=this,\n                term=this.search.val(),\n                context=this.context;\n\n            if (more.length === 0) return;\n            below = more.offset().top - results.offset().top - results.height();\n\n            if (below <= 0) {\n                more.addClass(\"select2-active\");\n                this.opts.query({\n                        term: term,\n                        page: page,\n                        context: context,\n                        matcher: this.opts.matcher,\n                        callback: this.bind(function (data) {\n\n                    // ignore a response if the select2 has been closed before it was received\n                    if (!self.opened()) return;\n\n\n                    self.opts.populateResults.call(this, results, data.results, {term: term, page: page, context:context});\n\n                    if (data.more===true) {\n                        more.detach().appendTo(results).text(self.opts.formatLoadMore(page+1));\n                        window.setTimeout(function() { self.loadMoreIfNeeded(); }, 10);\n                    } else {\n                        more.remove();\n                    }\n                    self.positionDropdown();\n                    self.resultsPage = page;\n                })});\n            }\n        },\n\n        /**\n         * Default tokenizer function which does nothing\n         */\n        tokenize: function() {\n\n        },\n\n        /**\n         * @param initial whether or not this is the call to this method right after the dropdown has been opened\n         */\n        // abstract\n        updateResults: function (initial) {\n            var search = this.search, results = this.results, opts = this.opts, data, self=this, input;\n\n            // if the search is currently hidden we do not alter the results\n            if (initial !== true && (this.showSearchInput === false || !this.opened())) {\n                return;\n            }\n\n            search.addClass(\"select2-active\");\n\n            function postRender() {\n                results.scrollTop(0);\n                search.removeClass(\"select2-active\");\n                self.positionDropdown();\n            }\n\n            function render(html) {\n                results.html(self.opts.escapeMarkup(html));\n                postRender();\n            }\n\n            if (opts.maximumSelectionSize >=1) {\n                data = this.data();\n                if ($.isArray(data) && data.length >= opts.maximumSelectionSize && checkFormatter(opts.formatSelectionTooBig, \"formatSelectionTooBig\")) {\n            \t    render(\"<li class='select2-selection-limit'>\" + opts.formatSelectionTooBig(opts.maximumSelectionSize) + \"</li>\");\n            \t    return;\n                }\n            }\n\n            if (search.val().length < opts.minimumInputLength) {\n                if (checkFormatter(opts.formatInputTooShort, \"formatInputTooShort\")) {\n                    render(\"<li class='select2-no-results'>\" + opts.formatInputTooShort(search.val(), opts.minimumInputLength) + \"</li>\");\n                } else {\n                    render(\"\");\n                }\n                return;\n            }\n            else if (opts.formatSearching()) {\n                render(\"<li class='select2-searching'>\" + opts.formatSearching() + \"</li>\");\n            }\n\n            // give the tokenizer a chance to pre-process the input\n            input = this.tokenize();\n            if (input != undefined && input != null) {\n                search.val(input);\n            }\n\n            this.resultsPage = 1;\n            opts.query({\n                    term: search.val(),\n                    page: this.resultsPage,\n                    context: null,\n                    matcher: opts.matcher,\n                    callback: this.bind(function (data) {\n                var def; // default choice\n\n                // ignore a response if the select2 has been closed before it was received\n                if (!this.opened()) return;\n\n                // save context, if any\n                this.context = (data.context===undefined) ? null : data.context;\n\n                // create a default choice and prepend it to the list\n                if (this.opts.createSearchChoice && search.val() !== \"\") {\n                    def = this.opts.createSearchChoice.call(null, search.val(), data.results);\n                    if (def !== undefined && def !== null && self.id(def) !== undefined && self.id(def) !== null) {\n                        if ($(data.results).filter(\n                            function () {\n                                return equal(self.id(this), self.id(def));\n                            }).length === 0) {\n                            data.results.unshift(def);\n                        }\n                    }\n                }\n\n                if (data.results.length === 0 && checkFormatter(opts.formatNoMatches, \"formatNoMatches\")) {\n                    render(\"<li class='select2-no-results'>\" + opts.formatNoMatches(search.val()) + \"</li>\");\n                    return;\n                }\n\n                results.empty();\n                self.opts.populateResults.call(this, results, data.results, {term: search.val(), page: this.resultsPage, context:null});\n\n                if (data.more === true && checkFormatter(opts.formatLoadMore, \"formatLoadMore\")) {\n                    results.append(\"<li class='select2-more-results'>\" + self.opts.escapeMarkup(opts.formatLoadMore(this.resultsPage)) + \"</li>\");\n                    window.setTimeout(function() { self.loadMoreIfNeeded(); }, 10);\n                }\n\n                this.postprocessResults(data, initial);\n\n                postRender();\n            })});\n        },\n\n        // abstract\n        cancel: function () {\n            this.close();\n        },\n\n        // abstract\n        blur: function () {\n            this.close();\n            this.container.removeClass(\"select2-container-active\");\n            this.dropdown.removeClass(\"select2-drop-active\");\n            // synonymous to .is(':focus'), which is available in jquery >= 1.6\n            if (this.search[0] === document.activeElement) { this.search.blur(); }\n            this.clearSearch();\n            this.selection.find(\".select2-search-choice-focus\").removeClass(\"select2-search-choice-focus\");\n            this.opts.element.triggerHandler(\"blur\");\n        },\n\n        // abstract\n        focusSearch: function () {\n            // need to do it here as well as in timeout so it works in IE\n            this.search.show();\n            this.search.focus();\n\n            /* we do this in a timeout so that current event processing can complete before this code is executed.\n             this makes sure the search field is focussed even if the current event would blur it */\n            window.setTimeout(this.bind(function () {\n                // reset the value so IE places the cursor at the end of the input box\n                this.search.show();\n                this.search.focus();\n                this.search.val(this.search.val());\n            }), 10);\n        },\n\n        // abstract\n        selectHighlighted: function () {\n            var index=this.highlight(),\n                highlighted=this.results.find(\".select2-highlighted\").not(\".select2-disabled\"),\n                data = highlighted.closest('.select2-result-selectable').data(\"select2-data\");\n            if (data) {\n                highlighted.addClass(\"select2-disabled\");\n                this.highlight(index);\n                this.onSelect(data);\n            }\n        },\n\n        // abstract\n        getPlaceholder: function () {\n            return this.opts.element.attr(\"placeholder\") ||\n                this.opts.element.attr(\"data-placeholder\") || // jquery 1.4 compat\n                this.opts.element.data(\"placeholder\") ||\n                this.opts.placeholder;\n        },\n\n        /**\n         * Get the desired width for the container element.  This is\n         * derived first from option `width` passed to select2, then\n         * the inline 'style' on the original element, and finally\n         * falls back to the jQuery calculated element width.\n         */\n        // abstract\n        initContainerWidth: function () {\n            function resolveContainerWidth() {\n                var style, attrs, matches, i, l;\n\n                if (this.opts.width === \"off\") {\n                    return null;\n                } else if (this.opts.width === \"element\"){\n                    return this.opts.element.outerWidth(false) === 0 ? 'auto' : this.opts.element.outerWidth(false) + 'px';\n                } else if (this.opts.width === \"copy\" || this.opts.width === \"resolve\") {\n                    // check if there is inline style on the element that contains width\n                    style = this.opts.element.attr('style');\n                    if (style !== undefined) {\n                        attrs = style.split(';');\n                        for (i = 0, l = attrs.length; i < l; i = i + 1) {\n                            matches = attrs[i].replace(/\\s/g, '')\n                                .match(/width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);\n                            if (matches !== null && matches.length >= 1)\n                                return matches[1];\n                        }\n                    }\n\n                    if (this.opts.width === \"resolve\") {\n                        // next check if css('width') can resolve a width that is percent based, this is sometimes possible\n                        // when attached to input type=hidden or elements hidden via css\n                        style = this.opts.element.css('width');\n                        if (style.indexOf(\"%\") > 0) return style;\n\n                        // finally, fallback on the calculated width of the element\n                        return (this.opts.element.outerWidth(false) === 0 ? 'auto' : this.opts.element.outerWidth(false) + 'px');\n                    }\n\n                    return null;\n                } else if ($.isFunction(this.opts.width)) {\n                    return this.opts.width();\n                } else {\n                    return this.opts.width;\n               }\n            };\n\n            var width = resolveContainerWidth.call(this);\n            if (width !== null) {\n                this.container.attr(\"style\", \"width: \"+width);\n            }\n        }\n    });\n\n    SingleSelect2 = clazz(AbstractSelect2, {\n\n        // single\n\n\t\tcreateContainer: function () {\n            var container = $(\"<div></div>\", {\n                \"class\": \"select2-container\"\n            }).html([\n                \"    <a href='javascript:void(0)' onclick='return false;' class='select2-choice'>\",\n                \"   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>\",\n                \"   <div><b></b></div>\" ,\n                \"</a>\",\n                \"    <div class='select2-drop select2-offscreen'>\" ,\n                \"   <div class='select2-search'>\" ,\n                \"       <input type='text' autocomplete='off' class='select2-input'/>\" ,\n                \"   </div>\" ,\n                \"   <ul class='select2-results'>\" ,\n                \"   </ul>\" ,\n                \"</div>\"].join(\"\"));\n            return container;\n        },\n\n        // single\n        opening: function () {\n            this.search.show();\n            this.parent.opening.apply(this, arguments);\n            this.dropdown.removeClass(\"select2-offscreen\");\n        },\n\n        // single\n        close: function () {\n            if (!this.opened()) return;\n            this.parent.close.apply(this, arguments);\n            this.dropdown.removeAttr(\"style\").addClass(\"select2-offscreen\").insertAfter(this.selection).show();\n        },\n\n        // single\n        focus: function () {\n            this.close();\n            this.selection.focus();\n        },\n\n        // single\n        isFocused: function () {\n            return this.selection[0] === document.activeElement;\n        },\n\n        // single\n        cancel: function () {\n            this.parent.cancel.apply(this, arguments);\n            this.selection.focus();\n        },\n\n        // single\n        initContainer: function () {\n\n            var selection,\n                container = this.container,\n                dropdown = this.dropdown,\n                clickingInside = false;\n\n            this.selection = selection = container.find(\".select2-choice\");\n\n            this.search.bind(\"keydown\", this.bind(function (e) {\n                if (!this.enabled) return;\n\n                if (e.which === KEY.PAGE_UP || e.which === KEY.PAGE_DOWN) {\n                    // prevent the page from scrolling\n                    killEvent(e);\n                    return;\n                }\n\n                if (this.opened()) {\n                    switch (e.which) {\n                        case KEY.UP:\n                        case KEY.DOWN:\n                            this.moveHighlight((e.which === KEY.UP) ? -1 : 1);\n                            killEvent(e);\n                            return;\n                        case KEY.TAB:\n                        case KEY.ENTER:\n                            this.selectHighlighted();\n                            killEvent(e);\n                            return;\n                        case KEY.ESC:\n                            this.cancel(e);\n                            killEvent(e);\n                            return;\n                    }\n                } else {\n\n                    if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC) {\n                        return;\n                    }\n\n                    if (this.opts.openOnEnter === false && e.which === KEY.ENTER) {\n                        return;\n                    }\n\n                    this.open();\n\n                    if (e.which === KEY.ENTER) {\n                        // do not propagate the event otherwise we open, and propagate enter which closes\n                        return;\n                    }\n                }\n            }));\n\n            this.search.bind(\"focus\", this.bind(function() {\n                this.selection.attr(\"tabIndex\", \"-1\");\n            }));\n            this.search.bind(\"blur\", this.bind(function() {\n                if (!this.opened()) this.container.removeClass(\"select2-container-active\");\n                window.setTimeout(this.bind(function() {\n                    // restore original tab index\n                    var ti=this.opts.element.attr(\"tabIndex\") || 0;\n                    if (ti) {\n                        this.selection.attr(\"tabIndex\", ti);\n                    } else {\n                        this.selection.removeAttr(\"tabIndex\");\n                    }\n                }), 10);\n            }));\n\n            selection.delegate(\"abbr\", \"mousedown\", this.bind(function (e) {\n                if (!this.enabled) return;\n                this.clear();\n                killEventImmediately(e);\n                this.close();\n                this.triggerChange();\n                this.selection.focus();\n            }));\n\n            selection.bind(\"mousedown\", this.bind(function (e) {\n                clickingInside = true;\n\n                if (this.opened()) {\n                    this.close();\n                    this.selection.focus();\n                } else if (this.enabled) {\n                    this.open();\n                }\n\n                clickingInside = false;\n            }));\n\n            dropdown.bind(\"mousedown\", this.bind(function() { this.search.focus(); }));\n\n            selection.bind(\"focus\", this.bind(function() {\n                this.container.addClass(\"select2-container-active\");\n                // hide the search so the tab key does not focus on it\n                this.search.attr(\"tabIndex\", \"-1\");\n            }));\n\n            selection.bind(\"blur\", this.bind(function() {\n                if (!this.opened()) {\n                    this.container.removeClass(\"select2-container-active\");\n                }\n                window.setTimeout(this.bind(function() { this.search.attr(\"tabIndex\", this.opts.element.attr(\"tabIndex\") || 0); }), 10);\n            }));\n\n            selection.bind(\"keydown\", this.bind(function(e) {\n                if (!this.enabled) return;\n\n                if (e.which == KEY.DOWN || e.which == KEY.UP\n                    || (e.which == KEY.ENTER && this.opts.openOnEnter)) {\n                    this.open();\n                    killEvent(e);\n                    return;\n                }\n\n                if (e.which == KEY.DELETE || e.which == KEY.BACKSPACE) {\n                    if (this.opts.allowClear) {\n                        this.clear();\n                    }\n                    killEvent(e);\n                    return;\n                }\n            }));\n            selection.bind(\"keypress\", this.bind(function(e) {\n                var key = String.fromCharCode(e.which);\n                this.search.val(key);\n                this.open();\n            }));\n\n            this.setPlaceholder();\n\n            this.search.bind(\"focus\", this.bind(function() {\n                this.container.addClass(\"select2-container-active\");\n            }));\n        },\n\n        // single\n        clear: function() {\n            this.opts.element.val(\"\");\n            this.selection.find(\"span\").empty();\n            this.selection.removeData(\"select2-data\");\n            this.setPlaceholder();\n        },\n\n        /**\n         * Sets selection based on source element's value\n         */\n        // single\n        initSelection: function () {\n            var selected;\n            if (this.opts.element.val() === \"\" && this.opts.element.text() === \"\") {\n                this.close();\n                this.setPlaceholder();\n            } else {\n                var self = this;\n                this.opts.initSelection.call(null, this.opts.element, function(selected){\n                    if (selected !== undefined && selected !== null) {\n                        self.updateSelection(selected);\n                        self.close();\n                        self.setPlaceholder();\n                    }\n                });\n            }\n        },\n\n        // single\n        prepareOpts: function () {\n            var opts = this.parent.prepareOpts.apply(this, arguments);\n\n            if (opts.element.get(0).tagName.toLowerCase() === \"select\") {\n                // install the selection initializer\n                opts.initSelection = function (element, callback) {\n                    var selected = element.find(\":selected\");\n                    // a single select box always has a value, no need to null check 'selected'\n                    if ($.isFunction(callback))\n                        callback({id: selected.attr(\"value\"), text: selected.text(), element:selected});\n                };\n            }\n\n            return opts;\n        },\n\n        // single\n        setPlaceholder: function () {\n            var placeholder = this.getPlaceholder();\n\n            if (this.opts.element.val() === \"\" && placeholder !== undefined) {\n\n                // check for a first blank option if attached to a select\n                if (this.select && this.select.find(\"option:first\").text() !== \"\") return;\n\n                this.selection.find(\"span\").html(this.opts.escapeMarkup(placeholder));\n\n                this.selection.addClass(\"select2-default\");\n\n                this.selection.find(\"abbr\").hide();\n            }\n        },\n\n        // single\n        postprocessResults: function (data, initial) {\n            var selected = 0, self = this, showSearchInput = true;\n\n            // find the selected element in the result list\n\n            this.results.find(\".select2-result-selectable\").each2(function (i, elm) {\n                if (equal(self.id(elm.data(\"select2-data\")), self.opts.element.val())) {\n                    selected = i;\n                    return false;\n                }\n            });\n\n            // and highlight it\n\n            this.highlight(selected);\n\n            // hide the search box if this is the first we got the results and there are a few of them\n\n            if (initial === true) {\n                showSearchInput = this.showSearchInput = countResults(data.results) >= this.opts.minimumResultsForSearch;\n                this.dropdown.find(\".select2-search\")[showSearchInput ? \"removeClass\" : \"addClass\"](\"select2-search-hidden\");\n\n                //add \"select2-with-searchbox\" to the container if search box is shown\n                $(this.dropdown, this.container)[showSearchInput ? \"addClass\" : \"removeClass\"](\"select2-with-searchbox\");\n            }\n\n        },\n\n        // single\n        onSelect: function (data) {\n            var old = this.opts.element.val();\n\n            this.opts.element.val(this.id(data));\n            this.updateSelection(data);\n            this.close();\n            this.selection.focus();\n\n            if (!equal(old, this.id(data))) { this.triggerChange(); }\n        },\n\n        // single\n        updateSelection: function (data) {\n\n            var container=this.selection.find(\"span\"), formatted;\n\n            this.selection.data(\"select2-data\", data);\n\n            container.empty();\n            formatted=this.opts.formatSelection(data, container);\n            if (formatted !== undefined) {\n                container.append(this.opts.escapeMarkup(formatted));\n            }\n\n            this.selection.removeClass(\"select2-default\");\n\n            if (this.opts.allowClear && this.getPlaceholder() !== undefined) {\n                this.selection.find(\"abbr\").show();\n            }\n        },\n\n        // single\n        val: function () {\n            var val, data = null, self = this;\n\n            if (arguments.length === 0) {\n                return this.opts.element.val();\n            }\n\n            val = arguments[0];\n\n            if (this.select) {\n                this.select\n                    .val(val)\n                    .find(\":selected\").each2(function (i, elm) {\n                        data = {id: elm.attr(\"value\"), text: elm.text()};\n                        return false;\n                    });\n                this.updateSelection(data);\n                this.setPlaceholder();\n                this.triggerChange();\n            } else {\n                if (this.opts.initSelection === undefined) {\n                    throw new Error(\"cannot call val() if initSelection() is not defined\");\n                }\n                // val is an id. !val is true for [undefined,null,'']\n                if (!val) {\n                    this.clear();\n                    this.triggerChange();\n                    return;\n                }\n                this.opts.element.val(val);\n                this.opts.initSelection(this.opts.element, function(data){\n                    self.opts.element.val(!data ? \"\" : self.id(data));\n                    self.updateSelection(data);\n                    self.setPlaceholder();\n                    self.triggerChange();\n                });\n            }\n        },\n\n        // single\n        clearSearch: function () {\n            this.search.val(\"\");\n        },\n\n        // single\n        data: function(value) {\n            var data;\n\n            if (arguments.length === 0) {\n                data = this.selection.data(\"select2-data\");\n                if (data == undefined) data = null;\n                return data;\n            } else {\n                if (!value || value === \"\") {\n                    this.clear();\n                } else {\n                    this.opts.element.val(!value ? \"\" : this.id(value));\n                    this.updateSelection(value);\n                }\n            }\n        }\n    });\n\n    MultiSelect2 = clazz(AbstractSelect2, {\n\n        // multi\n        createContainer: function () {\n            var container = $(\"<div></div>\", {\n                \"class\": \"select2-container select2-container-multi\"\n            }).html([\n                \"    <ul class='select2-choices'>\",\n                //\"<li class='select2-search-choice'><span>California</span><a href=\"javascript:void(0)\" class=\"select2-search-choice-close\"></a></li>\" ,\n                \"  <li class='select2-search-field'>\" ,\n                \"    <input type='text' autocomplete='off' class='select2-input'>\" ,\n                \"  </li>\" ,\n                \"</ul>\" ,\n                \"<div class='select2-drop select2-drop-multi' style='display:none;'>\" ,\n                \"   <ul class='select2-results'>\" ,\n                \"   </ul>\" ,\n                \"</div>\"].join(\"\"));\n\t\t\treturn container;\n        },\n\n        // multi\n        prepareOpts: function () {\n            var opts = this.parent.prepareOpts.apply(this, arguments);\n\n            // TODO validate placeholder is a string if specified\n\n            if (opts.element.get(0).tagName.toLowerCase() === \"select\") {\n                // install sthe selection initializer\n                opts.initSelection = function (element,callback) {\n\n                    var data = [];\n                    element.find(\":selected\").each2(function (i, elm) {\n                        data.push({id: elm.attr(\"value\"), text: elm.text(), element: elm});\n                    });\n\n                    if ($.isFunction(callback))\n                        callback(data);\n                };\n            }\n\n            return opts;\n        },\n\n        // multi\n        initContainer: function () {\n\n            var selector = \".select2-choices\", selection;\n\n            this.searchContainer = this.container.find(\".select2-search-field\");\n            this.selection = selection = this.container.find(selector);\n\n            this.search.bind(\"keydown\", this.bind(function (e) {\n                if (!this.enabled) return;\n\n                if (e.which === KEY.BACKSPACE && this.search.val() === \"\") {\n                    this.close();\n\n                    var choices,\n                        selected = selection.find(\".select2-search-choice-focus\");\n                    if (selected.length > 0) {\n                        this.unselect(selected.first());\n                        this.search.width(10);\n                        killEvent(e);\n                        return;\n                    }\n\n                    choices = selection.find(\".select2-search-choice:not(.select2-locked)\");\n                    if (choices.length > 0) {\n                        choices.last().addClass(\"select2-search-choice-focus\");\n                    }\n                } else {\n                    selection.find(\".select2-search-choice-focus\").removeClass(\"select2-search-choice-focus\");\n                }\n\n                if (this.opened()) {\n                    switch (e.which) {\n                    case KEY.UP:\n                    case KEY.DOWN:\n                        this.moveHighlight((e.which === KEY.UP) ? -1 : 1);\n                        killEvent(e);\n                        return;\n                    case KEY.ENTER:\n                    case KEY.TAB:\n                        this.selectHighlighted();\n                        killEvent(e);\n                        return;\n                    case KEY.ESC:\n                        this.cancel(e);\n                        killEvent(e);\n                        return;\n                    }\n                }\n\n                if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e)\n                 || e.which === KEY.BACKSPACE || e.which === KEY.ESC) {\n                    return;\n                }\n\n                if (this.opts.openOnEnter === false && e.which === KEY.ENTER) {\n                    return;\n                }\n\n                this.open();\n\n                if (e.which === KEY.PAGE_UP || e.which === KEY.PAGE_DOWN) {\n                    // prevent the page from scrolling\n                    killEvent(e);\n                }\n            }));\n\n            this.search.bind(\"keyup\", this.bind(this.resizeSearch));\n\n            this.search.bind(\"blur\", this.bind(function(e) {\n                this.container.removeClass(\"select2-container-active\");\n                this.search.removeClass(\"select2-focused\");\n                this.clearSearch();\n                e.stopImmediatePropagation();\n            }));\n\n            this.container.delegate(selector, \"mousedown\", this.bind(function (e) {\n                if (!this.enabled) return;\n                if ($(e.target).closest(\".select2-search-choice\").length > 0) {\n                    // clicked inside a select2 search choice, do not open\n                    return;\n                }\n                this.clearPlaceholder();\n                this.open();\n                this.focusSearch();\n                e.preventDefault();\n            }));\n\n            this.container.delegate(selector, \"focus\", this.bind(function () {\n                if (!this.enabled) return;\n                this.container.addClass(\"select2-container-active\");\n                this.dropdown.addClass(\"select2-drop-active\");\n                this.clearPlaceholder();\n            }));\n\n            // set the placeholder if necessary\n            this.clearSearch();\n        },\n\n        // multi\n        enable: function() {\n            if (this.enabled) return;\n\n            this.parent.enable.apply(this, arguments);\n\n            this.search.removeAttr(\"disabled\");\n        },\n\n        // multi\n        disable: function() {\n            if (!this.enabled) return;\n\n            this.parent.disable.apply(this, arguments);\n\n            this.search.attr(\"disabled\", true);\n        },\n\n        // multi\n        initSelection: function () {\n            var data;\n            if (this.opts.element.val() === \"\" && this.opts.element.text() === \"\") {\n                this.updateSelection([]);\n                this.close();\n                // set the placeholder if necessary\n                this.clearSearch();\n            }\n            if (this.select || this.opts.element.val() !== \"\") {\n                var self = this;\n                this.opts.initSelection.call(null, this.opts.element, function(data){\n                    if (data !== undefined && data !== null) {\n                        self.updateSelection(data);\n                        self.close();\n                        // set the placeholder if necessary\n                        self.clearSearch();\n                    }\n                });\n            }\n        },\n\n        // multi\n        clearSearch: function () {\n            var placeholder = this.getPlaceholder();\n\n            if (placeholder !== undefined  && this.getVal().length === 0 && this.search.hasClass(\"select2-focused\") === false) {\n                this.search.val(placeholder).addClass(\"select2-default\");\n                // stretch the search box to full width of the container so as much of the placeholder is visible as possible\n                this.resizeSearch();\n            } else {\n                // we set this to \" \" instead of \"\" and later clear it on focus() because there is a firefox bug\n                // that does not properly render the caret when the field starts out blank\n                this.search.val(\" \").width(10);\n            }\n        },\n\n        // multi\n        clearPlaceholder: function () {\n            if (this.search.hasClass(\"select2-default\")) {\n                this.search.val(\"\").removeClass(\"select2-default\");\n            } else {\n                // work around for the space character we set to avoid firefox caret bug\n                if (this.search.val() === \" \") this.search.val(\"\");\n            }\n        },\n\n        // multi\n        opening: function () {\n            this.parent.opening.apply(this, arguments);\n\n            this.clearPlaceholder();\n\t\t\tthis.resizeSearch();\n            this.focusSearch();\n        },\n\n        // multi\n        close: function () {\n            if (!this.opened()) return;\n            this.parent.close.apply(this, arguments);\n        },\n\n        // multi\n        focus: function () {\n            this.close();\n            this.search.focus();\n        },\n\n        // multi\n        isFocused: function () {\n            return this.search.hasClass(\"select2-focused\");\n        },\n\n        // multi\n        updateSelection: function (data) {\n            var ids = [], filtered = [], self = this;\n\n            // filter out duplicates\n            $(data).each(function () {\n                if (indexOf(self.id(this), ids) < 0) {\n                    ids.push(self.id(this));\n                    filtered.push(this);\n                }\n            });\n            data = filtered;\n\n            this.selection.find(\".select2-search-choice\").remove();\n            $(data).each(function () {\n                self.addSelectedChoice(this);\n            });\n            self.postprocessResults();\n        },\n\n        tokenize: function() {\n            var input = this.search.val();\n            input = this.opts.tokenizer(input, this.data(), this.bind(this.onSelect), this.opts);\n            if (input != null && input != undefined) {\n                this.search.val(input);\n                if (input.length > 0) {\n                    this.open();\n                }\n            }\n\n        },\n\n        // multi\n        onSelect: function (data) {\n            this.addSelectedChoice(data);\n            if (this.select || !this.opts.closeOnSelect) this.postprocessResults();\n\n            if (this.opts.closeOnSelect) {\n                this.close();\n                this.search.width(10);\n            } else {\n                if (this.countSelectableResults()>0) {\n                    this.search.width(10);\n                    this.resizeSearch();\n                    this.positionDropdown();\n                } else {\n                    // if nothing left to select close\n                    this.close();\n                }\n            }\n\n            // since its not possible to select an element that has already been\n            // added we do not need to check if this is a new element before firing change\n            this.triggerChange({ added: data });\n\n            this.focusSearch();\n        },\n\n        // multi\n        cancel: function () {\n            this.close();\n            this.focusSearch();\n        },\n\n        addSelectedChoice: function (data) {\n            var enableChoice = !data.locked,\n                enabledItem = $(\n                    \"<li class='select2-search-choice'>\" +\n                    \"    <div></div>\" +\n                    \"    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a>\" +\n                    \"</li>\"),\n                disabledItem = $(\n                    \"<li class='select2-search-choice select2-locked'>\" +\n                    \"<div></div>\" +\n                    \"</li>\");\n            var choice = enableChoice ? enabledItem : disabledItem,\n                id = this.id(data),\n                val = this.getVal(),\n                formatted;\n\n            formatted=this.opts.formatSelection(data, choice.find(\"div\"));\n            if (formatted != undefined) {\n                choice.find(\"div\").replaceWith(\"<div>\"+this.opts.escapeMarkup(formatted)+\"</div>\");\n            }\n\n            if(enableChoice){\n              choice.find(\".select2-search-choice-close\")\n                  .bind(\"mousedown\", killEvent)\n                  .bind(\"click dblclick\", this.bind(function (e) {\n                  if (!this.enabled) return;\n\n                  $(e.target).closest(\".select2-search-choice\").fadeOut('fast', this.bind(function(){\n                      this.unselect($(e.target));\n                      this.selection.find(\".select2-search-choice-focus\").removeClass(\"select2-search-choice-focus\");\n                      this.close();\n                      this.focusSearch();\n                  })).dequeue();\n                  killEvent(e);\n              })).bind(\"focus\", this.bind(function () {\n                  if (!this.enabled) return;\n                  this.container.addClass(\"select2-container-active\");\n                  this.dropdown.addClass(\"select2-drop-active\");\n              }));\n            }\n\n            choice.data(\"select2-data\", data);\n            choice.insertBefore(this.searchContainer);\n\n            val.push(id);\n            this.setVal(val);\n        },\n\n        // multi\n        unselect: function (selected) {\n            var val = this.getVal(),\n                data,\n                index;\n\n            selected = selected.closest(\".select2-search-choice\");\n\n            if (selected.length === 0) {\n                throw \"Invalid argument: \" + selected + \". Must be .select2-search-choice\";\n            }\n\n            data = selected.data(\"select2-data\");\n\n            index = indexOf(this.id(data), val);\n\n            if (index >= 0) {\n                val.splice(index, 1);\n                this.setVal(val);\n                if (this.select) this.postprocessResults();\n            }\n            selected.remove();\n            this.triggerChange({ removed: data });\n        },\n\n        // multi\n        postprocessResults: function () {\n            var val = this.getVal(),\n                choices = this.results.find(\".select2-result-selectable\"),\n                compound = this.results.find(\".select2-result-with-children\"),\n                self = this;\n\n            choices.each2(function (i, choice) {\n                var id = self.id(choice.data(\"select2-data\"));\n                if (indexOf(id, val) >= 0) {\n                    choice.addClass(\"select2-disabled\").removeClass(\"select2-result-selectable\");\n                } else {\n                    choice.removeClass(\"select2-disabled\").addClass(\"select2-result-selectable\");\n                }\n            });\n\n            compound.each2(function(i, e) {\n                if (!e.is('.select2-result-selectable') && e.find(\".select2-result-selectable\").length==0) {  // FIX FOR HIRECHAL DATA\n                    e.addClass(\"select2-disabled\");\n                } else {\n                    e.removeClass(\"select2-disabled\");\n                }\n            });\n\n            if (this.highlight() == -1){\n                choices.each2(function (i, choice) {\n                    if (!choice.hasClass(\"select2-disabled\") && choice.hasClass(\"select2-result-selectable\")) {\n                        self.highlight(0);\n                        return false;\n                    }\n                });\n            }\n\n        },\n\n        // multi\n        resizeSearch: function () {\n\n            var minimumWidth, left, maxWidth, containerLeft, searchWidth,\n            \tsideBorderPadding = getSideBorderPadding(this.search);\n\n            minimumWidth = measureTextWidth(this.search) + 10;\n\n            left = this.search.offset().left;\n\n            maxWidth = this.selection.width();\n            containerLeft = this.selection.offset().left;\n\n            searchWidth = maxWidth - (left - containerLeft) - sideBorderPadding;\n            if (searchWidth < minimumWidth) {\n                searchWidth = maxWidth - sideBorderPadding;\n            }\n\n            if (searchWidth < 40) {\n                searchWidth = maxWidth - sideBorderPadding;\n            }\n            \n            if (searchWidth <= 0) {\n              searchWidth = minimumWidth\n            }\n            \n            this.search.width(searchWidth);\n        },\n\n        // multi\n        getVal: function () {\n            var val;\n            if (this.select) {\n                val = this.select.val();\n                return val === null ? [] : val;\n            } else {\n                val = this.opts.element.val();\n                return splitVal(val, this.opts.separator);\n            }\n        },\n\n        // multi\n        setVal: function (val) {\n            var unique;\n            if (this.select) {\n                this.select.val(val);\n            } else {\n                unique = [];\n                // filter out duplicates\n                $(val).each(function () {\n                    if (indexOf(this, unique) < 0) unique.push(this);\n                });\n                this.opts.element.val(unique.length === 0 ? \"\" : unique.join(this.opts.separator));\n            }\n        },\n\n        // multi\n        val: function () {\n            var val, data = [], self=this;\n\n            if (arguments.length === 0) {\n                return this.getVal();\n            }\n\n            val = arguments[0];\n\n            if (!val) {\n                this.opts.element.val(\"\");\n                this.updateSelection([]);\n                this.clearSearch();\n                this.triggerChange();\n                return;\n            }\n\n            // val is a list of ids\n            this.setVal(val);\n\n            if (this.select) {\n                this.select.find(\":selected\").each(function () {\n                    data.push({id: $(this).attr(\"value\"), text: $(this).text()});\n                });\n                this.updateSelection(data);\n                this.triggerChange();\n            } else {\n                if (this.opts.initSelection === undefined) {\n                    throw new Error(\"val() cannot be called if initSelection() is not defined\")\n                }\n\n                this.opts.initSelection(this.opts.element, function(data){\n                    var ids=$(data).map(self.id);\n                    self.setVal(ids);\n                    self.updateSelection(data);\n                    self.clearSearch();\n                    self.triggerChange();\n                });\n            }\n            this.clearSearch();\n        },\n\n        // multi\n        onSortStart: function() {\n            if (this.select) {\n                throw new Error(\"Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.\");\n            }\n\n            // collapse search field into 0 width so its container can be collapsed as well\n            this.search.width(0);\n            // hide the container\n            this.searchContainer.hide();\n        },\n\n        // multi\n        onSortEnd:function() {\n\n            var val=[], self=this;\n\n            // show search and move it to the end of the list\n            this.searchContainer.show();\n            // make sure the search container is the last item in the list\n            this.searchContainer.appendTo(this.searchContainer.parent());\n            // since we collapsed the width in dragStarted, we resize it here\n            this.resizeSearch();\n\n            // update selection\n\n            this.selection.find(\".select2-search-choice\").each(function() {\n                val.push(self.opts.id($(this).data(\"select2-data\")));\n            });\n            this.setVal(val);\n            this.triggerChange();\n        },\n\n        // multi\n        data: function(values) {\n            var self=this, ids;\n            if (arguments.length === 0) {\n                 return this.selection\n                     .find(\".select2-search-choice\")\n                     .map(function() { return $(this).data(\"select2-data\"); })\n                     .get();\n            } else {\n                if (!values) { values = []; }\n                ids = $.map(values, function(e) { return self.opts.id(e)});\n                this.setVal(ids);\n                this.updateSelection(values);\n                this.clearSearch();\n            }\n        }\n    });\n\n    $.fn.select2 = function () {\n\n        var args = Array.prototype.slice.call(arguments, 0),\n            opts,\n            select2,\n            value, multiple, allowedMethods = [\"val\", \"destroy\", \"opened\", \"open\", \"close\", \"focus\", \"isFocused\", \"container\", \"onSortStart\", \"onSortEnd\", \"enable\", \"disable\", \"positionDropdown\", \"data\"];\n\n        this.each(function () {\n            if (args.length === 0 || typeof(args[0]) === \"object\") {\n                opts = args.length === 0 ? {} : $.extend({}, args[0]);\n                opts.element = $(this);\n\n                if (opts.element.get(0).tagName.toLowerCase() === \"select\") {\n                    multiple = opts.element.attr(\"multiple\");\n                } else {\n                    multiple = opts.multiple || false;\n                    if (\"tags\" in opts) {opts.multiple = multiple = true;}\n                }\n\n                select2 = multiple ? new MultiSelect2() : new SingleSelect2();\n                select2.init(opts);\n            } else if (typeof(args[0]) === \"string\") {\n\n                if (indexOf(args[0], allowedMethods) < 0) {\n                    throw \"Unknown method: \" + args[0];\n                }\n\n                value = undefined;\n                select2 = $(this).data(\"select2\");\n                if (select2 === undefined) return;\n                if (args[0] === \"container\") {\n                    value=select2.container;\n                } else {\n                    value = select2[args[0]].apply(select2, args.slice(1));\n                }\n                if (value !== undefined) {return false;}\n            } else {\n                throw \"Invalid arguments to select2 plugin: \" + args;\n            }\n        });\n        return (value === undefined) ? this : value;\n    };\n\n    // plugin defaults, accessible to users\n    $.fn.select2.defaults = {\n        width: \"copy\",\n        closeOnSelect: true,\n        openOnEnter: true,\n        containerCss: {},\n        dropdownCss: {},\n        containerCssClass: \"\",\n        dropdownCssClass: \"\",\n        formatResult: function(result, container, query) {\n            var markup=[];\n            markMatch(result.text, query.term, markup);\n            return markup.join(\"\");\n        },\n        formatSelection: function (data, container) {\n            return data ? data.text : undefined;\n        },\n        formatResultCssClass: function(data) {return undefined;},\n        formatNoMatches: function () { return \"No matches found\"; },\n        formatInputTooShort: function (input, min) { var n = min - input.length; return \"Please enter \" + n + \" more character\" + (n == 1? \"\" : \"s\"); },\n        formatSelectionTooBig: function (limit) { return \"You can only select \" + limit + \" item\" + (limit == 1 ? \"\" : \"s\"); },\n        formatLoadMore: function (pageNumber) { return \"Loading more results...\"; },\n        formatSearching: function () { return \"Searching...\"; },\n        minimumResultsForSearch: 0,\n        minimumInputLength: 0,\n        maximumSelectionSize: 0,\n        id: function (e) { return e.id; },\n        matcher: function(term, text) {\n            return text.toUpperCase().indexOf(term.toUpperCase()) >= 0;\n        },\n        separator: \",\",\n        tokenSeparators: [],\n        tokenizer: defaultTokenizer,\n        escapeMarkup: function (markup) {\n            if (markup && typeof(markup) === \"string\") {\n                return markup.replace(/&/g, \"&amp;\");\n            }\n            return markup;\n        },\n        blurOnChange: false\n    };\n\n    // exports\n    window.Select2 = {\n        query: {\n            ajax: ajax,\n            local: local,\n            tags: tags\n        }, util: {\n            debounce: debounce,\n            markMatch: markMatch\n        }, \"class\": {\n            \"abstract\": AbstractSelect2,\n            \"single\": SingleSelect2,\n            \"multi\": MultiSelect2\n        }\n    };\n\n}(jQuery));\n","// MODIFIED FOR PHOTON TO SUPPORT MAC COMMAND KEY\n\n(function(c){c.widget(\"awnry.pickList\",{options:{mainClass:\"pickList\",listContainerClass:\"pickList_listContainer\",sourceListContainerClass:\"pickList_sourceListContainer\",controlsContainerClass:\"pickList_controlsContainer\",targetListContainerClass:\"pickList_targetListContainer\",listClass:\"pickList_list\",sourceListClass:\"pickList_sourceList\",targetListClass:\"pickList_targetList\",clearClass:\"pickList_clear\",listItemClass:\"pickList_listItem\",richListItemClass:\"pickList_richListItem\",selectedListItemClass:\"pickList_selectedListItem\",\naddAllClass:\"pickList_addAll\",addClass:\"pickList_add\",removeAllClass:\"pickList_removeAll\",removeClass:\"pickList_remove\",addAllLabel:\"&gt;&gt;\",addLabel:\"&gt;\",removeAllLabel:\"&lt;&lt;\",removeLabel:\"&lt;\",listLabelClass:\"pickList_listLabel\",sourceListLabel:\"Available\",sourceListLabelClass:\"pickList_sourceListLabel\",targetListLabel:\"Selected\",targetListLabelClass:\"pickList_targetListLabel\",sortItems:!0,sortAttribute:\"label\",listItemValueAttribute:\"data-value\",items:[]},_create:function(){this._buildPickList();\nthis._refresh()},_buildPickList:function(){this._trigger(\"beforeBuild\");this.pickList=c(\"<div/>\").hide().addClass(this.options.mainClass).insertAfter(this.element).append(this._buildSourceList()).append(this._buildControls()).append(this._buildTargetList()).append(c(\"<div/>\").addClass(this.options.clearClass));this._populateLists();this.element.hide();this.pickList.show();this._trigger(\"afterBuild\")},_buildSourceList:function(){var a=c(\"<div/>\").addClass(this.options.listContainerClass).addClass(this.options.sourceListContainerClass).css({\"-moz-user-select\":\"none\",\n\"-webkit-user-select\":\"none\",\"user-select\":\"none\",\"-ms-user-select\":\"none\"}).each(function(){this.onselectstart=function(){return!1}}),b=c(\"<div/>\").text(this.options.sourceListLabel).addClass(this.options.listLabelClass).addClass(this.options.sourceListLabelClass);this.sourceList=c(\"<ul/>\").addClass(this.options.listClass).addClass(this.options.sourceListClass).delegate(\"li\",\"click\",{pickList:this},this._changeHandler);a.append(b).append(this.sourceList);return a},_buildTargetList:function(){var a=\nc(\"<div/>\").addClass(this.options.listContainerClass).addClass(this.options.targetListContainerClass).css({\"-moz-user-select\":\"none\",\"-webkit-user-select\":\"none\",\"user-select\":\"none\",\"-ms-user-select\":\"none\"}).each(function(){this.onselectstart=function(){return!1}}),b=c(\"<div/>\").text(this.options.targetListLabel).addClass(this.options.listLabelClass).addClass(this.options.targetListLabelClass);this.targetList=c(\"<ul/>\").addClass(this.options.listClass).addClass(this.options.targetListClass).delegate(\"li\",\n\"click\",{pickList:this},this._changeHandler);a.append(b).append(this.targetList);return a},_buildControls:function(){this.controls=c(\"<div/>\").addClass(this.options.controlsContainerClass);this.addAllButton=c(\"<button type='button'/>\").click({pickList:this},this._addAllHandler).html(this.options.addAllLabel).addClass(this.options.addAllClass);this.addButton=c(\"<button type='button'/>\").click({pickList:this},this._addHandler).html(this.options.addLabel).addClass(this.options.addClass);this.removeButton=\nc(\"<button type='button'/>\").click({pickList:this},this._removeHandler).html(this.options.removeLabel).addClass(this.options.removeClass);this.removeAllButton=c(\"<button type='button'/>\").click({pickList:this},this._removeAllHandler).html(this.options.removeAllLabel).addClass(this.options.removeAllClass);this.controls.append(this.addAllButton).append(this.addButton).append(this.removeButton).append(this.removeAllButton);return this.controls},_populateLists:function(){var a=this;a._trigger(\"beforePopulate\");\nvar b=[],c=[],e=a.element.children();e.not(\":selected\").each(function(){b.push(a._createDoppelganger(this))});e.filter(\":selected\").each(function(){c.push(a._createDoppelganger(this))});a.sourceList.append(b.join(\"\\n\"));a.targetList.append(c.join(\"\\n\"));a.insertItems(a.options.items);a._trigger(\"afterPopulate\")},_addAllHandler:function(a){a=a.data.pickList;a._trigger(\"beforeAddAll\");var b=a.sourceList.children();a.targetList.append(a._removeSelections(b));a.element.children().not(\":selected\").attr(\"selected\",\n\"selected\");a._refresh();a._trigger(\"afterAddAll\");a._trigger(\"onChange\")},_addHandler:function(a){var b=a.data.pickList;b._trigger(\"beforeAdd\");a=b.sourceList.children(\".ui-selected\");b.targetList.append(b._removeSelections(a));var d=[];a.each(function(){d.push(b._getItemValue(this))});b.element.children().filter(function(){return-1!=c.inArray(this.value,d)}).attr(\"selected\",\"selected\");b._refresh();b._trigger(\"afterAdd\");b._trigger(\"onChange\")},_removeHandler:function(a){var b=a.data.pickList;b._trigger(\"beforeRemove\");\na=b.targetList.children(\".ui-selected\");b.sourceList.append(b._removeSelections(a));var d=[];a.each(function(){d.push(b._getItemValue(this))});b.element.children().filter(function(){return-1!=c.inArray(this.value,d)}).removeAttr(\"selected\");b._refresh();b._trigger(\"afterRemove\");b._trigger(\"onChange\")},_removeAllHandler:function(a){a=a.data.pickList;a._trigger(\"beforeRemoveAll\");var b=a.targetList.children();a.sourceList.append(a._removeSelections(b));a.element.children().filter(\":selected\").removeAttr(\"selected\");\na._refresh();a._trigger(\"afterRemoveAll\");a._trigger(\"onChange\")},_refresh:function(){this._trigger(\"beforeRefresh\");this._refreshControls();this.options.sortItems&&(this._sortItems(this.sourceList,this.options),this._sortItems(this.targetList,this.options));this._trigger(\"afterRefresh\")},_refreshControls:function(){this._trigger(\"beforeRefreshControls\");this.sourceList.children().length?this.addAllButton.removeAttr(\"disabled\"):this.addAllButton.attr(\"disabled\",\"disabled\");this.targetList.children().length?\nthis.removeAllButton.removeAttr(\"disabled\"):this.removeAllButton.attr(\"disabled\",\"disabled\");this.sourceList.children(\".ui-selected\").length?this.addButton.removeAttr(\"disabled\"):this.addButton.attr(\"disabled\",\"disabled\");this.targetList.children(\".ui-selected\").length?this.removeButton.removeAttr(\"disabled\"):this.removeButton.attr(\"disabled\",\"disabled\");this._trigger(\"afterRefreshControls\")},_sortItems:function(a,b){var d=[];a.children().each(function(){d.push(c(this))});d.sort(function(a,c){return a.attr(b.sortAttribute)>\nc.attr(b.sortAttribute)?1:a.attr(b.sortAttribute)==c.attr(b.sortAttribute)?0:-1});a.empty();for(var e=0;e<d.length;e++)a.append(d[e])},_changeHandler:function(a){var b=a.data.pickList;if(a.ctrlKey||a.metaKey)b._isSelected(c(this))?b._removeSelection(c(this)):(b.lastSelectedItem=c(this),b._addSelection(c(this)));else if(a.shiftKey){var d=b._getItemValue(this),e=b._getItemValue(b.lastSelectedItem);c(this).index()<c(b.lastSelectedItem).index()&&(a=d,d=e,e=a);var f=!1,g=!0;b._clearSelections(c(this).parent());c(this).parent().children().each(function(){b._getItemValue(this)==\ne&&(f=true);f&&g&&b._addSelection(c(this));b._getItemValue(this)==d&&(g=false)})}else b.lastSelectedItem=c(this),b._clearSelections(c(this).parent()),b._addSelection(c(this));b._refreshControls()},_isSelected:function(a){return a.hasClass(\"ui-selected\")},_addSelection:function(a){return a.addClass(\"ui-selected\").addClass(\"ui-state-highlight\").addClass(this.options.selectedListItemClass)},_removeSelection:function(a){return a.removeClass(\"ui-selected\").removeClass(\"ui-state-highlight\").removeClass(this.options.selectedListItemClass)},\n_removeSelections:function(a){var b=this;a.each(function(){c(this).removeClass(\"ui-selected\").removeClass(\"ui-state-highlight\").removeClass(b.options.selectedListItemClass)});return a},_clearSelections:function(a){var b=this;a.children().each(function(){b._removeSelection(c(this))})},_setOption:function(a,b){c.Widget.prototype._setOption.apply(this,arguments)},destroy:function(){this._trigger(\"onDestroy\");this.pickList.remove();this.element.show();c.Widget.prototype.destroy.call(this)},insert:function(a){var b=\na.selected?this.targetList:this.sourceList,c=this._createSelectItem(a),a=this._createListItem(a);this.element.append(c);b.append(a);this._trigger(\"onChange\");this._refresh()},insertItems:function(a){var b=this,d=[],e=[],f=[];c(a).each(function(){var a=b._createSelectItem(this),c=b._createListItem(this);d.push(a);this.selected?f.push(c):e.push(c)});b.element.append(d.join(\"\\n\"));b.sourceList.append(e.join(\"\\n\"));b.targetList.append(f.join(\"\\n\"));b._trigger(\"onChange\");b._refresh()},_createSelectItem:function(a){return\"<option value='\"+\na.value+\"'\"+(a.selected?\" selected='selected'\":\"\")+\">\"+a.label+\"</option>\"},_createListItem:function(a){if(void 0!=a.element){var b=a.element.clone().wrap(\"<div>\").parent().html();a.element.hide();return\"<li \"+this.options.listItemValueAttribute+\"='\"+a.value+\"' label='\"+a.label+\"' class='\"+this.options.listItemClass+\" \"+this.options.richListItemClass+\"'>\"+b+\"</li>\"}return\"<li \"+this.options.listItemValueAttribute+\"='\"+a.value+\"' label='\"+a.label+\"' class='\"+this.options.listItemClass+\"'>\"+a.label+\n\"</li>\"},_createDoppelganger:function(a){return\"<li \"+this.options.listItemValueAttribute+\"='\"+c(a).val()+\"' label='\"+c(a).text()+\"' class='\"+this.options.listItemClass+\"'>\"+c(a).text()+\"</li>\"},_getItemValue:function(a){return c(a).attr(this.options.listItemValueAttribute)}})})(jQuery);","/*! jQuery Validation Plugin - v1.10.0 - 9/7/2012\n* https://github.com/jzaefferer/jquery-validation\n* Copyright (c) 2012 Jörn Zaefferer; Licensed MIT, GPL */\n(function(a){\n    a.extend(a.fn,{\n        validate:function(b){\n            if(!this.length){\n                b&&b.debug&&window.console&&console.warn(\"nothing selected, can't validate, returning nothing\");\n                return\n            }\n            var c=a.data(this[0],\"validator\");\n            return c?c:(this.attr(\"novalidate\",\"novalidate\"),c=new a.validator(b,this[0]),a.data(this[0],\"validator\",c),c.settings.onsubmit&&(this.validateDelegate(\":submit\",\"click\",function(b){\n                c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass(\"cancel\")&&(c.cancelSubmit=!0)\n                }),this.submit(function(b){\n                function d(){\n                    var d;\n                    return c.settings.submitHandler?(c.submitButton&&(d=a(\"<input type='hidden'/>\").attr(\"name\",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0\n                    }\n                    return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)\n                })),c)\n            },\n        valid:function(){\n            if(a(this[0]).is(\"form\"))return this.validate().form();\n            var b=!0,c=a(this[0].form).validate();\n            return this.each(function(){\n                b&=c.element(this)\n                }),b\n            },\n        removeAttrs:function(b){\n            var c={},d=this;\n            return a.each(b.split(/\\s/),function(a,b){\n                c[b]=d.attr(b),d.removeAttr(b)\n                }),c\n            },\n        rules:function(b,c){\n            var d=this[0];\n            if(b){\n                var e=a.data(d.form,\"validator\").settings,f=e.rules,g=a.validator.staticRules(d);\n                switch(b){\n                    case\"add\":\n                        a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));\n                        break;\n                    case\"remove\":\n                        if(!c)return delete f[d.name],g;\n                        var h={};\n                        \n                        return a.each(c.split(/\\s/),function(a,b){\n                        h[b]=g[b],delete g[b]\n                    }),h\n                    }\n                    }\n            var i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d);\n        if(i.required){\n            var j=i.required;\n            delete i.required,i=a.extend({\n                required:j\n            },i)\n            }\n            return i\n        }\n    }),a.extend(a.expr[\":\"],{\n    blank:function(b){\n        return!a.trim(\"\"+b.value)\n        },\n    filled:function(b){\n        return!!a.trim(\"\"+b.value)\n        },\n    unchecked:function(a){\n        return!a.checked\n        }\n    }),a.validator=function(b,c){\n    this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()\n    },a.validator.format=function(b,c){\n    return arguments.length===1?function(){\n        var c=a.makeArray(arguments);\n        return c.unshift(b),a.validator.format.apply(this,c)\n        }:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){\n        b=b.replace(new RegExp(\"\\\\{\"+a+\"\\\\}\",\"g\"),c)\n        }),b)\n    },a.extend(a.validator,{\n    defaults:{\n        messages:{},\n        groups:{},\n        rules:{},\n        errorClass:\"error\",\n        validClass:\"valid\",\n        errorElement:\"label\",\n        focusInvalid:!0,\n        errorContainer:a([]),\n        errorLabelContainer:a([]),\n        onsubmit:!0,\n        ignore:\":hidden\",\n        ignoreTitle:!1,\n        onfocusin:function(a,b){\n            this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())\n            },\n        onfocusout:function(a,b){\n            !this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)\n            },\n        onkeyup:function(a,b){\n            if(b.which===9&&this.elementValue(a)===\"\")return;\n            (a.name in this.submitted||a===this.lastActive)&&this.element(a)\n            },\n        onclick:function(a,b){\n            a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)\n            },\n        highlight:function(b,c,d){\n            b.type===\"radio\"?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)\n            },\n        unhighlight:function(b,c,d){\n            b.type===\"radio\"?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)\n            }\n        },\nsetDefaults:function(b){\n    a.extend(a.validator.defaults,b)\n    },\nmessages:{\n    required:\"This field is required.\",\n    remote:\"Please fix this field.\",\n    email:\"Please enter a valid email address.\",\n    url:\"Please enter a valid URL.\",\n    date:\"Please enter a valid date.\",\n    dateISO:\"Please enter a valid date (ISO).\",\n    number:\"Please enter a valid number.\",\n    digits:\"Please enter only digits.\",\n    creditcard:\"Please enter a valid credit card number.\",\n    equalTo:\"Please enter the same value again.\",\n    maxlength:a.validator.format(\"Please enter no more than {0} characters.\"),\n    minlength:a.validator.format(\"Please enter at least {0} characters.\"),\n    rangelength:a.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\n    range:a.validator.format(\"Please enter a value between {0} and {1}.\"),\n    max:a.validator.format(\"Please enter a value less than or equal to {0}.\"),\n    min:a.validator.format(\"Please enter a value greater than or equal to {0}.\")\n    },\nautoCreateRanges:!1,\nprototype:{\n    init:function(){\n        function d(b){\n            var c=a.data(this[0].form,\"validator\"),d=\"on\"+b.type.replace(/^validate/,\"\");\n            c.settings[d]&&c.settings[d].call(c,this[0],b)\n            }\n            this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();\n        var b=this.groups={};\n        \n        a.each(this.settings.groups,function(c,d){\n            a.each(d.split(/\\s/),function(a,d){\n                b[d]=c\n                })\n            });\n        var c=this.settings.rules;\n        a.each(c,function(b,d){\n            c[b]=a.validator.normalizeRule(d)\n            }),a(this.currentForm).validateDelegate(\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] \",\"focusin focusout keyup\",d).validateDelegate(\"[type='radio'], [type='checkbox'], select, option\",\"click\",d),this.settings.invalidHandler&&a(this.currentForm).bind(\"invalid-form.validate\",this.settings.invalidHandler)\n        },\n    form:function(){\n        return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler(\"invalid-form\",[this]),this.showErrors(),this.valid()\n        },\n    checkForm:function(){\n        this.prepareForm();\n        for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);\n        return this.valid()\n        },\n    element:function(b){\n        b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);\n        var c=this.check(b)!==!1;\n        return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c\n        },\n    showErrors:function(b){\n        if(b){\n            a.extend(this.errorMap,b),this.errorList=[];\n            for(var c in b)this.errorList.push({\n                message:b[c],\n                element:this.findByName(c)[0]\n                });this.successList=a.grep(this.successList,function(a){\n                return!(a.name in b)\n                })\n            }\n            this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()\n        },\n    resetForm:function(){\n        a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData(\"previousValue\")\n        },\n    numberOfInvalids:function(){\n        return this.objectLength(this.invalid)\n        },\n    objectLength:function(a){\n        var b=0;\n        for(var c in a)b++;return b\n        },\n    hideErrors:function(){\n        this.addWrapper(this.toHide).hide()\n        },\n    valid:function(){\n        return this.size()===0\n        },\n    size:function(){\n        return this.errorList.length\n        },\n    focusInvalid:function(){\n        if(this.settings.focusInvalid)try{\n            a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(\":visible\").focus().trigger(\"focusin\")\n            }catch(b){}\n        },\nfindLastActive:function(){\n    var b=this.lastActive;\n    return b&&a.grep(this.errorList,function(a){\n        return a.element.name===b.name\n        }).length===1&&b\n    },\nelements:function(){\n    var b=this,c={};\n    \n    return a(this.currentForm).find(\"input, select, textarea\").not(\":submit, :reset, :image, [disabled]\").not(this.settings.ignore).filter(function(){\n        return!this.name&&b.settings.debug&&window.console&&console.error(\"%o has no name assigned\",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)\n        })\n    },\nclean:function(b){\n    return a(b)[0]\n    },\nerrors:function(){\n    var b=this.settings.errorClass.replace(\" \",\".\");\n    return a(this.settings.errorElement+\".\"+b,this.errorContext)\n    },\nreset:function(){\n    this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])\n    },\nprepareForm:function(){\n    this.reset(),this.toHide=this.errors().add(this.containers)\n    },\nprepareElement:function(a){\n    this.reset(),this.toHide=this.errorsFor(a)\n    },\nelementValue:function(b){\n    var c=a(b).attr(\"type\"),d=a(b).val();\n    return c===\"radio\"||c===\"checkbox\"?a('input[name=\"'+a(b).attr(\"name\")+'\"]:checked').val():typeof d==\"string\"?d.replace(/\\r/g,\"\"):d\n    },\ncheck:function(b){\n    b=this.validationTargetFor(this.clean(b));\n    var c=a(b).rules(),d=!1,e=this.elementValue(b),f;\n    for(var g in c){\n        var h={\n            method:g,\n            parameters:c[g]\n            };\n            \n        try{\n            f=a.validator.methods[g].call(this,e,b,h.parameters);\n            if(f===\"dependency-mismatch\"){\n                d=!0;\n                continue\n            }\n            d=!1;\n            if(f===\"pending\"){\n                this.toHide=this.toHide.not(this.errorsFor(b));\n                return\n            }\n            if(!f)return this.formatAndAdd(b,h),!1\n                }catch(i){\n            throw this.settings.debug&&window.console&&console.log(\"exception occured when checking element \"+b.id+\", check the '\"+h.method+\"' method\",i),i\n            }\n        }\n    if(d)return;\n    return this.objectLength(c)&&this.successList.push(b),!0\n    },\ncustomMetaMessage:function(b,c){\n    if(!a.metadata)return;\n    var d=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();\n    return d&&d.messages&&d.messages[c]\n    },\ncustomDataMessage:function(b,c){\n    return a(b).data(\"msg-\"+c.toLowerCase())||b.attributes&&a(b).attr(\"data-msg-\"+c.toLowerCase())\n    },\ncustomMessage:function(a,b){\n    var c=this.settings.messages[a];\n    return c&&(c.constructor===String?c:c[b])\n    },\nfindDefined:function(){\n    for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a];return undefined\n    },\ndefaultMessage:function(b,c){\n    return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],\"<strong>Warning: No message defined for \"+b.name+\"</strong>\")\n    },\nformatAndAdd:function(b,c){\n    var d=this.defaultMessage(b,c.method),e=/\\$?\\{(\\d+)\\}/g;\n    typeof d==\"function\"?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,\"{$1}\"),c.parameters)),this.errorList.push({\n        message:d,\n        element:b\n    }),this.errorMap[b.name]=d,this.submitted[b.name]=d\n    },\naddWrapper:function(a){\n    return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a\n    },\ndefaultShowErrors:function(){\n    var a,b;\n    for(a=0;this.errorList[a];a++){\n        var c=this.errorList[a];\n        this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)\n        }\n        this.errorList.length&&(this.toShow=this.toShow.add(this.containers));\n    if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);\n    if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);\n    this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()\n    },\nvalidElements:function(){\n    return this.currentElements.not(this.invalidElements())\n    },\ninvalidElements:function(){\n    return a(this.errorList).map(function(){\n        return this.element\n        })\n    },\nshowLabel:function(b,c){\n    var d=this.errorsFor(b);\n    d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr(\"generated\")&&d.html(c)):(d=a(\"<\"+this.settings.errorElement+\"/>\").attr({\n        \"for\":this.idOrName(b),\n        generated:!0\n        }).addClass(this.settings.errorClass).html(c||\"\"),this.settings.wrapper&&(d=d.hide().show().wrap(\"<\"+this.settings.wrapper+\"/>\").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(\"\"),typeof this.settings.success==\"string\"?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)\n    },\nerrorsFor:function(b){\n    var c=this.idOrName(b);\n    return this.errors().filter(function(){\n        return a(this).attr(\"for\")===c\n        })\n    },\nidOrName:function(a){\n    return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)\n    },\nvalidationTargetFor:function(a){\n    return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a\n    },\ncheckable:function(a){\n    return/radio|checkbox/i.test(a.type)\n    },\nfindByName:function(b){\n    return a(this.currentForm).find('[name=\"'+b+'\"]')\n    },\ngetLength:function(b,c){\n    switch(c.nodeName.toLowerCase()){\n        case\"select\":\n            return a(\"option:selected\",c).length;\n        case\"input\":\n            if(this.checkable(c))return this.findByName(c.name).filter(\":checked\").length\n            }\n            return b.length\n    },\ndepend:function(a,b){\n    return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0\n    },\ndependTypes:{\n    \"boolean\":function(a,b){\n        return a\n        },\n    string:function(b,c){\n        return!!a(b,c.form).length\n        },\n    \"function\":function(a,b){\n        return a(b)\n        }\n    },\noptional:function(b){\n    var c=this.elementValue(b);\n    return!a.validator.methods.required.call(this,c,b)&&\"dependency-mismatch\"\n    },\nstartRequest:function(a){\n    this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)\n    },\nstopRequest:function(b,c){\n    this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&this.pendingRequest===0&&this.formSubmitted&&(a(this.currentForm).triggerHandler(\"invalid-form\",[this]),this.formSubmitted=!1)\n    },\npreviousValue:function(b){\n    return a.data(b,\"previousValue\")||a.data(b,\"previousValue\",{\n        old:null,\n        valid:!0,\n        message:this.defaultMessage(b,\"remote\")\n        })\n    }\n},\nclassRuleSettings:{\n    required:{\n        required:!0\n        },\n    email:{\n        email:!0\n        },\n    url:{\n        url:!0\n        },\n    date:{\n        date:!0\n        },\n    dateISO:{\n        dateISO:!0\n        },\n    number:{\n        number:!0\n        },\n    digits:{\n        digits:!0\n        },\n    creditcard:{\n        creditcard:!0\n        }\n    },\naddClassRules:function(b,c){\n    b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)\n    },\nclassRules:function(b){\n    var c={},d=a(b).attr(\"class\");\n    return d&&a.each(d.split(\" \"),function(){\n        this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])\n        }),c\n    },\nattributeRules:function(b){\n    var c={},d=a(b);\n    for(var e in a.validator.methods){\n        var f;\n        e===\"required\"?(f=d.get(0).getAttribute(e),f===\"\"&&(f=!0),f=!!f):f=d.attr(e),f?c[e]=f:d[0].getAttribute(\"type\")===e&&(c[e]=!0)\n        }\n        return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c\n    },\nmetadataRules:function(b){\n    if(!a.metadata)return{};\n        \n    var c=a.data(b.form,\"validator\").settings.meta;\n    return c?a(b).metadata()[c]:a(b).metadata()\n    },\nstaticRules:function(b){\n    var c={},d=a.data(b.form,\"validator\");\n    return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c\n    },\nnormalizeRules:function(b,c){\n    return a.each(b,function(d,e){\n        if(e===!1){\n            delete b[d];\n            return\n        }\n        if(e.param||e.depends){\n            var f=!0;\n            switch(typeof e.depends){\n                case\"string\":\n                    f=!!a(e.depends,c.form).length;\n                    break;\n                case\"function\":\n                    f=e.depends.call(c,c)\n                    }\n                    f?b[d]=e.param!==undefined?e.param:!0:delete b[d]\n        }\n    }),a.each(b,function(d,e){\n    b[d]=a.isFunction(e)?e(c):e\n    }),a.each([\"minlength\",\"maxlength\",\"min\",\"max\"],function(){\n    b[this]&&(b[this]=Number(b[this]))\n    }),a.each([\"rangelength\",\"range\"],function(){\n    b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])\n    }),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b.messages&&delete b.messages,b\n},\nnormalizeRule:function(b){\n    if(typeof b==\"string\"){\n        var c={};\n        \n        a.each(b.split(/\\s/),function(){\n            c[this]=!0\n            }),b=c\n        }\n        return b\n    },\naddMethod:function(b,c,d){\n    a.validator.methods[b]=c,a.validator.messages[b]=d!==undefined?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))\n    },\nmethods:{\n    required:function(b,c,d){\n        if(!this.depend(d,c))return\"dependency-mismatch\";\n        if(c.nodeName.toLowerCase()===\"select\"){\n            var e=a(c).val();\n            return e&&e.length>0\n            }\n            return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0\n        },\n    remote:function(b,c,d){\n        if(this.optional(c))return\"dependency-mismatch\";\n        var e=this.previousValue(c);\n        this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d=typeof d==\"string\"&&{\n            url:d\n        }||d;\n        if(this.pending[c.name])return\"pending\";\n        if(e.old===b)return e.valid;\n        e.old=b;\n        var f=this;\n        this.startRequest(c);\n        var g={};\n        \n        return g[c.name]=b,a.ajax(a.extend(!0,{\n            url:d,\n            mode:\"abort\",\n            port:\"validate\"+c.name,\n            dataType:\"json\",\n            data:g,\n            success:function(d){\n                f.settings.messages[c.name].remote=e.originalMessage;\n                var g=d===!0||d===\"true\";\n                if(g){\n                    var h=f.formSubmitted;\n                    f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()\n                    }else{\n                    var i={},j=d||f.defaultMessage(c,\"remote\");\n                    i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)\n                    }\n                    e.valid=g,f.stopRequest(c,g)\n                }\n            },d)),\"pending\"\n    },\nminlength:function(b,c,d){\n    var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);\n    return this.optional(c)||e>=d\n    },\nmaxlength:function(b,c,d){\n    var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);\n    return this.optional(c)||e<=d\n    },\nrangelength:function(b,c,d){\n    var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);\n    return this.optional(c)||e>=d[0]&&e<=d[1]\n    },\nmin:function(a,b,c){\n    return this.optional(b)||a>=c\n    },\nmax:function(a,b,c){\n    return this.optional(b)||a<=c\n    },\nrange:function(a,b,c){\n    return this.optional(b)||a>=c[0]&&a<=c[1]\n    },\nemail:function(a,b){\n    return this.optional(b)||/^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i.test(a)\n    },\nurl:function(a,b){\n    return this.optional(b)||/^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(a)}\n,date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))}\n,dateISO:function(a,b){return this.optional(b)||/^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}$/.test(a)}\n,number:function(a,b){return this.optional(b)||/^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(a)}\n,digits:function(a,b){return this.optional(b)||/^\\d+$/.test(a)}\n,creditcard:function(a,b){if(this.optional(b))return\"dependency-mismatch\";if(/[^0-9 \\-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\\D/g,\"\");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0}\n,equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(\".validate-equalTo\").bind(\"blur.validate-equalTo\",function(){a(c).valid()}),b===e.val()}}}),a.format=a.validator.format})(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;a.mode===\"abort\"&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=(\"mode\"in d?d:a.ajaxSettings).mode,f=(\"port\"in d?d:a.ajaxSettings).port;return e===\"abort\"?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments)):c.apply(this,arguments)}}}(jQuery),function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:\"focusin\"\n    ,blur:\"focusout\"},function(b,c){function d(b){return b=a.event.fix(b),b.type=c,a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(b,d,!0)}\n    ,teardown:function(){this.removeEventListener(b,d,!0)}\n    ,handler:function(b){var d=arguments;return d[0]=a.event.fix(b),d[0].type=c,a.event.handle.apply(this,d)}}}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);if(e.is(b))return d.apply(e,arguments)})}})}(jQuery)","/*! jQuery Validation Plugin - v1.10.0 - 9/7/2012\n* https://github.com/jzaefferer/jquery-validation\n* Copyright (c) 2012 Jörn Zaefferer; Licensed MIT, GPL */\n(function(){function a(a){return a.replace(/<.[^<>]*?>/g,\" \").replace(/&nbsp;|&#160;/gi,\" \").replace(/[.(),;:!?%#$'\"_+=\\/-]*/g,\"\")}jQuery.validator.addMethod(\"maxWords\",function(b,c,d){return this.optional(c)||a(b).match(/\\b\\w+\\b/g).length<=d},jQuery.validator.format(\"Please enter {0} words or less.\")),jQuery.validator.addMethod(\"minWords\",function(b,c,d){return this.optional(c)||a(b).match(/\\b\\w+\\b/g).length>=d},jQuery.validator.format(\"Please enter at least {0} words.\")),jQuery.validator.addMethod(\"rangeWords\",function(b,c,d){var e=a(b),f=/\\b\\w+\\b/g;return this.optional(c)||e.match(f).length>=d[0]&&e.match(f).length<=d[1]},jQuery.validator.format(\"Please enter between {0} and {1} words.\"))})(),jQuery.validator.addMethod(\"letterswithbasicpunc\",function(a,b){return this.optional(b)||/^[a-z\\-.,()'\\\"\\s]+$/i.test(a)},\"Letters or punctuation only please\"),jQuery.validator.addMethod(\"alphanumeric\",function(a,b){return this.optional(b)||/^\\w+$/i.test(a)},\"Letters, numbers, and underscores only please\"),jQuery.validator.addMethod(\"lettersonly\",function(a,b){return this.optional(b)||/^[a-z]+$/i.test(a)},\"Letters only please\"),jQuery.validator.addMethod(\"nowhitespace\",function(a,b){return this.optional(b)||/^\\S+$/i.test(a)},\"No white space please\"),jQuery.validator.addMethod(\"ziprange\",function(a,b){return this.optional(b)||/^90[2-5]\\d\\{2\\}-\\d{4}$/.test(a)},\"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx\"),jQuery.validator.addMethod(\"zipcodeUS\",function(a,b){return this.optional(b)||/\\d{5}-\\d{4}$|^\\d{5}$/.test(a)},\"The specified US ZIP Code is invalid\"),jQuery.validator.addMethod(\"integer\",function(a,b){return this.optional(b)||/^-?\\d+$/.test(a)},\"A positive or negative non-decimal number please\"),jQuery.validator.addMethod(\"vinUS\",function(a){if(a.length!=17)return!1;var b,c,d,e,f,g,h=[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\"M\",\"N\",\"P\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"],i=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],j=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],k=0;for(b=0;b<17;b++){e=j[b],d=a.slice(b,b+1),b==8&&(g=d);if(!isNaN(d))d*=e;else for(c=0;c<h.length;c++)if(d.toUpperCase()===h[c]){d=i[c],d*=e,isNaN(g)&&c==8&&(g=h[c]);break}k+=d}return f=k%11,f==10&&(f=\"X\"),f==g?!0:!1},\"The specified vehicle identification number (VIN) is invalid.\"),jQuery.validator.addMethod(\"dateITA\",function(a,b){var c=!1,d=/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/;if(d.test(a)){var e=a.split(\"/\"),f=parseInt(e[0],10),g=parseInt(e[1],10),h=parseInt(e[2],10),i=new Date(h,g-1,f);i.getFullYear()==h&&i.getMonth()==g-1&&i.getDate()==f?c=!0:c=!1}else c=!1;return this.optional(b)||c},\"Please enter a correct date\"),jQuery.validator.addMethod(\"dateNL\",function(a,b){return this.optional(b)||/^\\d\\d?[\\.\\/-]\\d\\d?[\\.\\/-]\\d\\d\\d?\\d?$/.test(a)},\"Vul hier een geldige datum in.\"),jQuery.validator.addMethod(\"time\",function(a,b){return this.optional(b)||/^([0-1]\\d|2[0-3]):([0-5]\\d)$/.test(a)},\"Please enter a valid time, between 00:00 and 23:59\"),jQuery.validator.addMethod(\"time12h\",function(a,b){return this.optional(b)||/^((0?[1-9]|1[012])(:[0-5]\\d){0,2}(\\ [AP]M))$/i.test(a)},\"Please enter a valid time, between 00:00 am and 12:00 pm\"),jQuery.validator.addMethod(\"phoneUS\",function(a,b){return a=a.replace(/\\s+/g,\"\"),this.optional(b)||a.length>9&&a.match(/^(\\+?1-?)?(\\([2-9]\\d{2}\\)|[2-9]\\d{2})-?[2-9]\\d{2}-?\\d{4}$/)},\"Please specify a valid phone number\"),jQuery.validator.addMethod(\"phoneUK\",function(a,b){return a=a.replace(/\\(|\\)|\\s+|-/g,\"\"),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\\s?|\\+)44\\s?)|(?:\\(?0))(?:(?:\\d{5}\\)?\\s?\\d{4,5})|(?:\\d{4}\\)?\\s?(?:\\d{5}|\\d{3}\\s?\\d{3}))|(?:\\d{3}\\)?\\s?\\d{3}\\s?\\d{3,4})|(?:\\d{2}\\)?\\s?\\d{4}\\s?\\d{4}))$/)},\"Please specify a valid phone number\"),jQuery.validator.addMethod(\"mobileUK\",function(a,b){return a=a.replace(/\\s+|-/g,\"\"),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\\s?|\\+)44\\s?|0)7(?:[45789]\\d{2}|624)\\s?\\d{3}\\s?\\d{3})$/)},\"Please specify a valid mobile number\"),jQuery.validator.addMethod(\"phonesUK\",function(a,b){return a=a.replace(/\\s+|-/g,\"\"),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\\s?|\\+)44\\s?|0)(?:1\\d{8,9}|[23]\\d{9}|7(?:[45789]\\d{8}|624\\d{6})))$/)},\"Please specify a valid uk phone number\"),jQuery.validator.addMethod(\"postcodeUK\",function(a,b){return a=a.toUpperCase().replace(/\\s+/g,\"\"),this.optional(b)||a.match(/^([^QZ][^IJZ]{0,1}\\d{1,2})(\\d[^CIKMOV]{2})$/)||a.match(/^([^QV]\\d[ABCDEFGHJKSTUW])(\\d[^CIKMOV]{2})$/)||a.match(/^([^QV][^IJZ]\\d[ABEHMNPRVWXY])(\\d[^CIKMOV]{2})$/)||a.match(/^(GIR)(0AA)$/)||a.match(/^(BFPO)(\\d{1,4})$/)||a.match(/^(BFPO)(C\\/O\\d{1,3})$/)},\"Please specify a valid postcode\"),jQuery.validator.addMethod(\"strippedminlength\",function(a,b,c){return jQuery(a).text().length>=c},jQuery.validator.format(\"Please enter at least {0} characters\")),jQuery.validator.addMethod(\"email2\",function(a,b,c){return this.optional(b)||/^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i.test(a)},jQuery.validator.messages.email),jQuery.validator.addMethod(\"url2\",function(a,b,c){return this.optional(b)||/^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(a)},jQuery.validator.messages.url),jQuery.validator.addMethod(\"creditcardtypes\",function(a,b,c){if(/[^0-9-]+/.test(a))return!1;a=a.replace(/\\D/g,\"\");var d=0;return c.mastercard&&(d|=1),c.visa&&(d|=2),c.amex&&(d|=4),c.dinersclub&&(d|=8),c.enroute&&(d|=16),c.discover&&(d|=32),c.jcb&&(d|=64),c.unknown&&(d|=128),c.all&&(d=255),d&1&&/^(5[12345])/.test(a)?a.length==16:d&2&&/^(4)/.test(a)?a.length==16:d&4&&/^(3[47])/.test(a)?a.length==15:d&8&&/^(3(0[012345]|[68]))/.test(a)?a.length==14:d&16&&/^(2(014|149))/.test(a)?a.length==15:d&32&&/^(6011)/.test(a)?a.length==16:d&64&&/^(3)/.test(a)?a.length==16:d&64&&/^(2131|1800)/.test(a)?a.length==15:d&128?!0:!1},\"Please enter a valid credit card number.\"),jQuery.validator.addMethod(\"ipv4\",function(a,b,c){return this.optional(b)||/^(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/i.test(a)},\"Please enter a valid IP v4 address.\"),jQuery.validator.addMethod(\"ipv6\",function(a,b,c){return this.optional(b)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(a)},\"Please enter a valid IP v6 address.\"),jQuery.validator.addMethod(\"pattern\",function(a,b,c){return this.optional(b)?!0:(typeof c==\"string\"&&(c=new RegExp(\"^(?:\"+c+\")$\")),c.test(a))},\"Invalid format.\"),jQuery.validator.addMethod(\"require_from_group\",function(a,b,c){var d=this,e=c[1],f=$(e,b.form).filter(function(){return d.elementValue(this)}).length>=c[0];if(!$(b).data(\"being_validated\")){var g=$(e,b.form);g.data(\"being_validated\",!0),g.valid(),g.data(\"being_validated\",!1)}return f},jQuery.format(\"Please fill at least {0} of these fields.\")),jQuery.validator.addMethod(\"skip_or_fill_minimum\",function(a,b,c){var d=this;numberRequired=c[0],selector=c[1];var e=$(selector,b.form).filter(function(){return d.elementValue(this)}).length,f=e>=numberRequired||e===0;if(!$(b).data(\"being_validated\")){var g=$(selector,b.form);g.data(\"being_validated\",!0),g.valid(),g.data(\"being_validated\",!1)}return f},jQuery.format(\"Please either skip these fields or fill at least {0} of them.\")),jQuery.validator.addMethod(\"accept\",function(a,b,c){var d=typeof c==\"string\"?c.replace(/,/g,\"|\"):\"image/*\",e=this.optional(b),f,g;if(e)return e;if($(b).attr(\"type\")===\"file\"){d=d.replace(\"*\",\".*\");if(b.files&&b.files.length)for(f=0;f<b.files.length;f++){g=b.files[f];if(!g.type.match(new RegExp(\".?(\"+d+\")$\",\"i\")))return!1}}return!0},jQuery.format(\"Please enter a value with a valid mimetype.\")),jQuery.validator.addMethod(\"extension\",function(a,b,c){return c=typeof c==\"string\"?c.replace(/,/g,\"|\"):\"png|jpe?g|gif\",this.optional(b)||a.match(new RegExp(\".(\"+c+\")$\",\"i\"))},jQuery.format(\"Please enter a value with a valid extension.\"))","/*!\n * jQuery Form Plugin\n * version: 2.87 (20-OCT-2011)\n * @requires jQuery v1.3.2 or later\n *\n * Examples and documentation at: http://malsup.com/jquery/form/\n * Dual licensed under the MIT and GPL licenses:\n *   http://www.opensource.org/licenses/mit-license.php\n *   http://www.gnu.org/licenses/gpl.html\n */\n;(function($) {\n\n/*\n\tUsage Note:\n\t-----------\n\tDo not use both ajaxSubmit and ajaxForm on the same form.  These\n\tfunctions are intended to be exclusive.  Use ajaxSubmit if you want\n\tto bind your own submit handler to the form.  For example,\n\n\t$(document).ready(function() {\n\t\t$('#myForm').bind('submit', function(e) {\n\t\t\te.preventDefault(); // <-- important\n\t\t\t$(this).ajaxSubmit({\n\t\t\t\ttarget: '#output'\n\t\t\t});\n\t\t});\n\t});\n\n\tUse ajaxForm when you want the plugin to manage all the event binding\n\tfor you.  For example,\n\n\t$(document).ready(function() {\n\t\t$('#myForm').ajaxForm({\n\t\t\ttarget: '#output'\n\t\t});\n\t});\n\n\tWhen using ajaxForm, the ajaxSubmit function will be invoked for you\n\tat the appropriate time.\n*/\n\n/**\n * ajaxSubmit() provides a mechanism for immediately submitting\n * an HTML form using AJAX.\n */\n$.fn.ajaxSubmit = function(options) {\n\t// fast fail if nothing selected (http://dev.jquery.com/ticket/2752)\n\tif (!this.length) {\n\t\tlog('ajaxSubmit: skipping submit process - no element selected');\n\t\treturn this;\n\t}\n\n\tvar method, action, url, $form = this;\n\n\tif (typeof options == 'function') {\n\t\toptions = { success: options };\n\t}\n\n\tmethod = this.attr('method');\n\taction = this.attr('action');\n\turl = (typeof action === 'string') ? $.trim(action) : '';\n\turl = url || window.location.href || '';\n\tif (url) {\n\t\t// clean url (don't include hash vaue)\n\t\turl = (url.match(/^([^#]+)/)||[])[1];\n\t}\n\n\toptions = $.extend(true, {\n\t\turl:  url,\n\t\tsuccess: $.ajaxSettings.success,\n\t\ttype: method || 'GET',\n\t\tiframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank'\n\t}, options);\n\n\t// hook for manipulating the form data before it is extracted;\n\t// convenient for use with rich editors like tinyMCE or FCKEditor\n\tvar veto = {};\n\tthis.trigger('form-pre-serialize', [this, options, veto]);\n\tif (veto.veto) {\n\t\tlog('ajaxSubmit: submit vetoed via form-pre-serialize trigger');\n\t\treturn this;\n\t}\n\n\t// provide opportunity to alter form data before it is serialized\n\tif (options.beforeSerialize && options.beforeSerialize(this, options) === false) {\n\t\tlog('ajaxSubmit: submit aborted via beforeSerialize callback');\n\t\treturn this;\n\t}\n\n   var traditional = options.traditional;\n   if ( traditional === undefined ) {\n      traditional = $.ajaxSettings.traditional;\n   }\n\n\tvar qx,n,v,a = this.formToArray(options.semantic);\n\tif (options.data) {\n\t\toptions.extraData = options.data;\n      qx = $.param(options.data, traditional);\n\t}\n\n\t// give pre-submit callback an opportunity to abort the submit\n\tif (options.beforeSubmit && options.beforeSubmit(a, this, options) === false) {\n\t\tlog('ajaxSubmit: submit aborted via beforeSubmit callback');\n\t\treturn this;\n\t}\n\n\t// fire vetoable 'validate' event\n\tthis.trigger('form-submit-validate', [a, this, options, veto]);\n\tif (veto.veto) {\n\t\tlog('ajaxSubmit: submit vetoed via form-submit-validate trigger');\n\t\treturn this;\n\t}\n\n\tvar q = $.param(a, traditional);\n   if (qx)\n      q = ( q ? (q + '&' + qx) : qx );\n\n\tif (options.type.toUpperCase() == 'GET') {\n\t\toptions.url += (options.url.indexOf('?') >= 0 ? '&' : '?') + q;\n\t\toptions.data = null;  // data is null for 'get'\n\t}\n\telse {\n\t\toptions.data = q; // data is the query string for 'post'\n\t}\n\n\tvar callbacks = [];\n\tif (options.resetForm) {\n\t\tcallbacks.push(function() { $form.resetForm(); });\n\t}\n\tif (options.clearForm) {\n\t\tcallbacks.push(function() { $form.clearForm(options.includeHidden); });\n\t}\n\n\t// perform a load on the target only if dataType is not provided\n\tif (!options.dataType && options.target) {\n\t\tvar oldSuccess = options.success || function(){};\n\t\tcallbacks.push(function(data) {\n\t\t\tvar fn = options.replaceTarget ? 'replaceWith' : 'html';\n\t\t\t$(options.target)[fn](data).each(oldSuccess, arguments);\n\t\t});\n\t}\n\telse if (options.success) {\n\t\tcallbacks.push(options.success);\n\t}\n\n\toptions.success = function(data, status, xhr) { // jQuery 1.4+ passes xhr as 3rd arg\n\t\tvar context = options.context || options;   // jQuery 1.4+ supports scope context\n\t\tfor (var i=0, max=callbacks.length; i < max; i++) {\n\t\t\tcallbacks[i].apply(context, [data, status, xhr || $form, $form]);\n\t\t}\n\t};\n\n\t// are there files to upload?\n\tvar fileInputs = $('input:file', this).length > 0;\n\tvar mp = 'multipart/form-data';\n\tvar multipart = ($form.attr('enctype') == mp || $form.attr('encoding') == mp);\n\n\t// options.iframe allows user to force iframe mode\n\t// 06-NOV-09: now defaulting to iframe mode if file input is detected\n   if (options.iframe !== false && (fileInputs || options.iframe || multipart)) {\n\t   // hack to fix Safari hang (thanks to Tim Molendijk for this)\n\t   // see:  http://groups.google.com/group/jquery-dev/browse_thread/thread/36395b7ab510dd5d\n\t   if (options.closeKeepAlive) {\n\t\t   $.get(options.closeKeepAlive, function() { fileUpload(a); });\n\t\t}\n\t   else {\n\t\t   fileUpload(a);\n\t\t}\n   }\n   else {\n\t\t// IE7 massage (see issue 57)\n\t\tif ($.browser.msie && method == 'get' && typeof options.type === \"undefined\") {\n\t\t\tvar ieMeth = $form[0].getAttribute('method');\n\t\t\tif (typeof ieMeth === 'string')\n\t\t\t\toptions.type = ieMeth;\n\t\t}\n\t\t$.ajax(options);\n   }\n\n\t// fire 'notify' event\n\tthis.trigger('form-submit-notify', [this, options]);\n\treturn this;\n\n\n\t// private function for handling file uploads (hat tip to YAHOO!)\n\tfunction fileUpload(a) {\n\t\tvar form = $form[0], el, i, s, g, id, $io, io, xhr, sub, n, timedOut, timeoutHandle;\n        var useProp = !!$.fn.prop;\n\n        if (a) {\n            if ( useProp ) {\n            \t// ensure that every serialized input is still enabled\n              \tfor (i=0; i < a.length; i++) {\n                    el = $(form[a[i].name]);\n                    el.prop('disabled', false);\n              \t}\n            } else {\n              \tfor (i=0; i < a.length; i++) {\n                    el = $(form[a[i].name]);\n                    el.removeAttr('disabled');\n              \t}\n            };\n        }\n\n\t\tif ($(':input[name=submit],:input[id=submit]', form).length) {\n\t\t\t// if there is an input with a name or id of 'submit' then we won't be\n\t\t\t// able to invoke the submit fn on the form (at least not x-browser)\n\t\t\talert('Error: Form elements must not have name or id of \"submit\".');\n\t\t\treturn;\n\t\t}\n\n\t\ts = $.extend(true, {}, $.ajaxSettings, options);\n\t\ts.context = s.context || s;\n\t\tid = 'jqFormIO' + (new Date().getTime());\n\t\tif (s.iframeTarget) {\n\t\t\t$io = $(s.iframeTarget);\n\t\t\tn = $io.attr('name');\n\t\t\tif (n == null)\n\t\t\t \t$io.attr('name', id);\n\t\t\telse\n\t\t\t\tid = n;\n\t\t}\n\t\telse {\n\t\t\t$io = $('<iframe name=\"' + id + '\" src=\"'+ s.iframeSrc +'\" />');\n\t\t\t$io.css({ position: 'absolute', top: '-1000px', left: '-1000px' });\n\t\t}\n\t\tio = $io[0];\n\n\n\t\txhr = { // mock object\n\t\t\taborted: 0,\n\t\t\tresponseText: null,\n\t\t\tresponseXML: null,\n\t\t\tstatus: 0,\n\t\t\tstatusText: 'n/a',\n\t\t\tgetAllResponseHeaders: function() {},\n\t\t\tgetResponseHeader: function() {},\n\t\t\tsetRequestHeader: function() {},\n\t\t\tabort: function(status) {\n\t\t\t\tvar e = (status === 'timeout' ? 'timeout' : 'aborted');\n\t\t\t\tlog('aborting upload... ' + e);\n\t\t\t\tthis.aborted = 1;\n\t\t\t\t$io.attr('src', s.iframeSrc); // abort op in progress\n\t\t\t\txhr.error = e;\n\t\t\t\ts.error && s.error.call(s.context, xhr, e, status);\n\t\t\t\tg && $.event.trigger(\"ajaxError\", [xhr, s, e]);\n\t\t\t\ts.complete && s.complete.call(s.context, xhr, e);\n\t\t\t}\n\t\t};\n\n\t\tg = s.global;\n\t\t// trigger ajax global events so that activity/block indicators work like normal\n\t\tif (g && ! $.active++) {\n\t\t\t$.event.trigger(\"ajaxStart\");\n\t\t}\n\t\tif (g) {\n\t\t\t$.event.trigger(\"ajaxSend\", [xhr, s]);\n\t\t}\n\n\t\tif (s.beforeSend && s.beforeSend.call(s.context, xhr, s) === false) {\n\t\t\tif (s.global) {\n\t\t\t\t$.active--;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (xhr.aborted) {\n\t\t\treturn;\n\t\t}\n\n\t\t// add submitting element to data if we know it\n\t\tsub = form.clk;\n\t\tif (sub) {\n\t\t\tn = sub.name;\n\t\t\tif (n && !sub.disabled) {\n\t\t\t\ts.extraData = s.extraData || {};\n\t\t\t\ts.extraData[n] = sub.value;\n\t\t\t\tif (sub.type == \"image\") {\n\t\t\t\t\ts.extraData[n+'.x'] = form.clk_x;\n\t\t\t\t\ts.extraData[n+'.y'] = form.clk_y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar CLIENT_TIMEOUT_ABORT = 1;\n\t\tvar SERVER_ABORT = 2;\n\n\t\tfunction getDoc(frame) {\n\t\t\tvar doc = frame.contentWindow ? frame.contentWindow.document : frame.contentDocument ? frame.contentDocument : frame.document;\n\t\t\treturn doc;\n\t\t}\n\n\t\t// take a breath so that pending repaints get some cpu time before the upload starts\n\t\tfunction doSubmit() {\n\t\t\t// make sure form attrs are set\n\t\t\tvar t = $form.attr('target'), a = $form.attr('action');\n\n\t\t\t// update form attrs in IE friendly way\n\t\t\tform.setAttribute('target',id);\n\t\t\tif (!method) {\n\t\t\t\tform.setAttribute('method', 'POST');\n\t\t\t}\n\t\t\tif (a != s.url) {\n\t\t\t\tform.setAttribute('action', s.url);\n\t\t\t}\n\n\t\t\t// ie borks in some cases when setting encoding\n\t\t\tif (! s.skipEncodingOverride && (!method || /post/i.test(method))) {\n\t\t\t\t$form.attr({\n\t\t\t\t\tencoding: 'multipart/form-data',\n\t\t\t\t\tenctype:  'multipart/form-data'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// support timout\n\t\t\tif (s.timeout) {\n\t\t\t\ttimeoutHandle = setTimeout(function() { timedOut = true; cb(CLIENT_TIMEOUT_ABORT); }, s.timeout);\n\t\t\t}\n\n\t\t\t// look for server aborts\n\t\t\tfunction checkState() {\n\t\t\t\ttry {\n\t\t\t\t\tvar state = getDoc(io).readyState;\n\t\t\t\t\tlog('state = ' + state);\n\t\t\t\t\tif (state.toLowerCase() == 'uninitialized')\n\t\t\t\t\t\tsetTimeout(checkState,50);\n\t\t\t\t}\n\t\t\t\tcatch(e) {\n\t\t\t\t\tlog('Server abort: ' , e, ' (', e.name, ')');\n\t\t\t\t\tcb(SERVER_ABORT);\n\t\t\t\t\ttimeoutHandle && clearTimeout(timeoutHandle);\n\t\t\t\t\ttimeoutHandle = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// add \"extra\" data to form if provided in options\n\t\t\tvar extraInputs = [];\n\t\t\ttry {\n\t\t\t\tif (s.extraData) {\n\t\t\t\t\tfor (var n in s.extraData) {\n\t\t\t\t\t\textraInputs.push(\n\t\t\t\t\t\t\t$('<input type=\"hidden\" name=\"'+n+'\" />').attr('value',s.extraData[n])\n\t\t\t\t\t\t\t\t.appendTo(form)[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!s.iframeTarget) {\n\t\t\t\t\t// add iframe to doc and submit the form\n\t\t\t\t\t$io.appendTo('body');\n\t                io.attachEvent ? io.attachEvent('onload', cb) : io.addEventListener('load', cb, false);\n\t\t\t\t}\n\t\t\t\tsetTimeout(checkState,15);\n\t\t\t\tform.submit();\n\t\t\t}\n\t\t\tfinally {\n\t\t\t\t// reset attrs and remove \"extra\" input elements\n\t\t\t\tform.setAttribute('action',a);\n\t\t\t\tif(t) {\n\t\t\t\t\tform.setAttribute('target', t);\n\t\t\t\t} else {\n\t\t\t\t\t$form.removeAttr('target');\n\t\t\t\t}\n\t\t\t\t$(extraInputs).remove();\n\t\t\t}\n\t\t}\n\n\t\tif (s.forceSync) {\n\t\t\tdoSubmit();\n\t\t}\n\t\telse {\n\t\t\tsetTimeout(doSubmit, 10); // this lets dom updates render\n\t\t}\n\n\t\tvar data, doc, domCheckCount = 50, callbackProcessed;\n\n\t\tfunction cb(e) {\n\t\t\tif (xhr.aborted || callbackProcessed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdoc = getDoc(io);\n\t\t\t}\n\t\t\tcatch(ex) {\n\t\t\t\tlog('cannot access response document: ', ex);\n\t\t\t\te = SERVER_ABORT;\n\t\t\t}\n\t\t\tif (e === CLIENT_TIMEOUT_ABORT && xhr) {\n\t\t\t\txhr.abort('timeout');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (e == SERVER_ABORT && xhr) {\n\t\t\t\txhr.abort('server abort');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!doc || doc.location.href == s.iframeSrc) {\n\t\t\t\t// response not received yet\n\t\t\t\tif (!timedOut)\n\t\t\t\t\treturn;\n\t\t\t}\n            io.detachEvent ? io.detachEvent('onload', cb) : io.removeEventListener('load', cb, false);\n\n\t\t\tvar status = 'success', errMsg;\n\t\t\ttry {\n\t\t\t\tif (timedOut) {\n\t\t\t\t\tthrow 'timeout';\n\t\t\t\t}\n\n\t\t\t\tvar isXml = s.dataType == 'xml' || doc.XMLDocument || $.isXMLDoc(doc);\n\t\t\t\tlog('isXml='+isXml);\n\t\t\t\tif (!isXml && window.opera && (doc.body == null || doc.body.innerHTML == '')) {\n\t\t\t\t\tif (--domCheckCount) {\n\t\t\t\t\t\t// in some browsers (Opera) the iframe DOM is not always traversable when\n\t\t\t\t\t\t// the onload callback fires, so we loop a bit to accommodate\n\t\t\t\t\t\tlog('requeing onLoad callback, DOM not available');\n\t\t\t\t\t\tsetTimeout(cb, 250);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// let this fall through because server response could be an empty document\n\t\t\t\t\t//log('Could not access iframe DOM after mutiple tries.');\n\t\t\t\t\t//throw 'DOMException: not available';\n\t\t\t\t}\n\n\t\t\t\t//log('response detected');\n                var docRoot = doc.body ? doc.body : doc.documentElement;\n                xhr.responseText = docRoot ? docRoot.innerHTML : null;\n\t\t\t\txhr.responseXML = doc.XMLDocument ? doc.XMLDocument : doc;\n\t\t\t\tif (isXml)\n\t\t\t\t\ts.dataType = 'xml';\n\t\t\t\txhr.getResponseHeader = function(header){\n\t\t\t\t\tvar headers = {'content-type': s.dataType};\n\t\t\t\t\treturn headers[header];\n\t\t\t\t};\n                // support for XHR 'status' & 'statusText' emulation :\n                if (docRoot) {\n                    xhr.status = Number( docRoot.getAttribute('status') ) || xhr.status;\n                    xhr.statusText = docRoot.getAttribute('statusText') || xhr.statusText;\n                }\n\n\t\t\t\tvar dt = (s.dataType || '').toLowerCase();\n\t\t\t\tvar scr = /(json|script|text)/.test(dt);\n\t\t\t\tif (scr || s.textarea) {\n\t\t\t\t\t// see if user embedded response in textarea\n\t\t\t\t\tvar ta = doc.getElementsByTagName('textarea')[0];\n\t\t\t\t\tif (ta) {\n\t\t\t\t\t\txhr.responseText = ta.value;\n                        // support for XHR 'status' & 'statusText' emulation :\n                        xhr.status = Number( ta.getAttribute('status') ) || xhr.status;\n                        xhr.statusText = ta.getAttribute('statusText') || xhr.statusText;\n\t\t\t\t\t}\n\t\t\t\t\telse if (scr) {\n\t\t\t\t\t\t// account for browsers injecting pre around json response\n\t\t\t\t\t\tvar pre = doc.getElementsByTagName('pre')[0];\n\t\t\t\t\t\tvar b = doc.getElementsByTagName('body')[0];\n\t\t\t\t\t\tif (pre) {\n\t\t\t\t\t\t\txhr.responseText = pre.textContent ? pre.textContent : pre.innerText;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (b) {\n\t\t\t\t\t\t\txhr.responseText = b.textContent ? b.textContent : b.innerText;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (dt == 'xml' && !xhr.responseXML && xhr.responseText != null) {\n\t\t\t\t\txhr.responseXML = toXml(xhr.responseText);\n\t\t\t\t}\n\n                try {\n                    data = httpData(xhr, dt, s);\n                }\n                catch (e) {\n                    status = 'parsererror';\n                    xhr.error = errMsg = (e || status);\n                }\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tlog('error caught: ',e);\n\t\t\t\tstatus = 'error';\n                xhr.error = errMsg = (e || status);\n\t\t\t}\n\n\t\t\tif (xhr.aborted) {\n\t\t\t\tlog('upload aborted');\n\t\t\t\tstatus = null;\n\t\t\t}\n\n            if (xhr.status) { // we've set xhr.status\n                status = (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) ? 'success' : 'error';\n            }\n\n\t\t\t// ordering of these callbacks/triggers is odd, but that's how $.ajax does it\n\t\t\tif (status === 'success') {\n\t\t\t\ts.success && s.success.call(s.context, data, 'success', xhr);\n\t\t\t\tg && $.event.trigger(\"ajaxSuccess\", [xhr, s]);\n\t\t\t}\n            else if (status) {\n\t\t\t\tif (errMsg == undefined)\n\t\t\t\t\terrMsg = xhr.statusText;\n\t\t\t\ts.error && s.error.call(s.context, xhr, status, errMsg);\n\t\t\t\tg && $.event.trigger(\"ajaxError\", [xhr, s, errMsg]);\n            }\n\n\t\t\tg && $.event.trigger(\"ajaxComplete\", [xhr, s]);\n\n\t\t\tif (g && ! --$.active) {\n\t\t\t\t$.event.trigger(\"ajaxStop\");\n\t\t\t}\n\n\t\t\ts.complete && s.complete.call(s.context, xhr, status);\n\n\t\t\tcallbackProcessed = true;\n\t\t\tif (s.timeout)\n\t\t\t\tclearTimeout(timeoutHandle);\n\n\t\t\t// clean up\n\t\t\tsetTimeout(function() {\n\t\t\t\tif (!s.iframeTarget)\n\t\t\t\t\t$io.remove();\n\t\t\t\txhr.responseXML = null;\n\t\t\t}, 100);\n\t\t}\n\n\t\tvar toXml = $.parseXML || function(s, doc) { // use parseXML if available (jQuery 1.5+)\n\t\t\tif (window.ActiveXObject) {\n\t\t\t\tdoc = new ActiveXObject('Microsoft.XMLDOM');\n\t\t\t\tdoc.async = 'false';\n\t\t\t\tdoc.loadXML(s);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdoc = (new DOMParser()).parseFromString(s, 'text/xml');\n\t\t\t}\n\t\t\treturn (doc && doc.documentElement && doc.documentElement.nodeName != 'parsererror') ? doc : null;\n\t\t};\n\t\tvar parseJSON = $.parseJSON || function(s) {\n\t\t\treturn window['eval']('(' + s + ')');\n\t\t};\n\n\t\tvar httpData = function( xhr, type, s ) { // mostly lifted from jq1.4.4\n\n\t\t\tvar ct = xhr.getResponseHeader('content-type') || '',\n\t\t\t\txml = type === 'xml' || !type && ct.indexOf('xml') >= 0,\n\t\t\t\tdata = xml ? xhr.responseXML : xhr.responseText;\n\n\t\t\tif (xml && data.documentElement.nodeName === 'parsererror') {\n\t\t\t\t$.error && $.error('parsererror');\n\t\t\t}\n\t\t\tif (s && s.dataFilter) {\n\t\t\t\tdata = s.dataFilter(data, type);\n\t\t\t}\n\t\t\tif (typeof data === 'string') {\n\t\t\t\tif (type === 'json' || !type && ct.indexOf('json') >= 0) {\n\t\t\t\t\tdata = parseJSON(data);\n\t\t\t\t} else if (type === \"script\" || !type && ct.indexOf(\"javascript\") >= 0) {\n\t\t\t\t\t$.globalEval(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn data;\n\t\t};\n\t}\n};\n\n/**\n * ajaxForm() provides a mechanism for fully automating form submission.\n *\n * The advantages of using this method instead of ajaxSubmit() are:\n *\n * 1: This method will include coordinates for <input type=\"image\" /> elements (if the element\n *\tis used to submit the form).\n * 2. This method will include the submit element's name/value data (for the element that was\n *\tused to submit the form).\n * 3. This method binds the submit() method to the form for you.\n *\n * The options argument for ajaxForm works exactly as it does for ajaxSubmit.  ajaxForm merely\n * passes the options argument along after properly binding events for submit elements and\n * the form itself.\n */\n$.fn.ajaxForm = function(options) {\n\t// in jQuery 1.3+ we can fix mistakes with the ready state\n\tif (this.length === 0) {\n\t\tvar o = { s: this.selector, c: this.context };\n\t\tif (!$.isReady && o.s) {\n\t\t\tlog('DOM not ready, queuing ajaxForm');\n\t\t\t$(function() {\n\t\t\t\t$(o.s,o.c).ajaxForm(options);\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\t\t// is your DOM ready?  http://docs.jquery.com/Tutorials:Introducing_$(document).ready()\n\t\tlog('terminating; zero elements found by selector' + ($.isReady ? '' : ' (DOM not ready)'));\n\t\treturn this;\n\t}\n\n\treturn this.ajaxFormUnbind().bind('submit.form-plugin', function(e) {\n\t\tif (!e.isDefaultPrevented()) { // if event has been canceled, don't proceed\n\t\t\te.preventDefault();\n\t\t\t$(this).ajaxSubmit(options);\n\t\t}\n\t}).bind('click.form-plugin', function(e) {\n\t\tvar target = e.target;\n\t\tvar $el = $(target);\n\t\tif (!($el.is(\":submit,input:image\"))) {\n\t\t\t// is this a child element of the submit el?  (ex: a span within a button)\n\t\t\tvar t = $el.closest(':submit');\n\t\t\tif (t.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttarget = t[0];\n\t\t}\n\t\tvar form = this;\n\t\tform.clk = target;\n\t\tif (target.type == 'image') {\n\t\t\tif (e.offsetX != undefined) {\n\t\t\t\tform.clk_x = e.offsetX;\n\t\t\t\tform.clk_y = e.offsetY;\n\t\t\t} else if (typeof $.fn.offset == 'function') { // try to use dimensions plugin\n\t\t\t\tvar offset = $el.offset();\n\t\t\t\tform.clk_x = e.pageX - offset.left;\n\t\t\t\tform.clk_y = e.pageY - offset.top;\n\t\t\t} else {\n\t\t\t\tform.clk_x = e.pageX - target.offsetLeft;\n\t\t\t\tform.clk_y = e.pageY - target.offsetTop;\n\t\t\t}\n\t\t}\n\t\t// clear form vars\n\t\tsetTimeout(function() { form.clk = form.clk_x = form.clk_y = null; }, 100);\n\t});\n};\n\n// ajaxFormUnbind unbinds the event handlers that were bound by ajaxForm\n$.fn.ajaxFormUnbind = function() {\n\treturn this.unbind('submit.form-plugin click.form-plugin');\n};\n\n/**\n * formToArray() gathers form element data into an array of objects that can\n * be passed to any of the following ajax functions: $.get, $.post, or load.\n * Each object in the array has both a 'name' and 'value' property.  An example of\n * an array for a simple login form might be:\n *\n * [ { name: 'username', value: 'jresig' }, { name: 'password', value: 'secret' } ]\n *\n * It is this array that is passed to pre-submit callback functions provided to the\n * ajaxSubmit() and ajaxForm() methods.\n */\n$.fn.formToArray = function(semantic) {\n\tvar a = [];\n\tif (this.length === 0) {\n\t\treturn a;\n\t}\n\n\tvar form = this[0];\n\tvar els = semantic ? form.getElementsByTagName('*') : form.elements;\n\tif (!els) {\n\t\treturn a;\n\t}\n\n\tvar i,j,n,v,el,max,jmax;\n\tfor(i=0, max=els.length; i < max; i++) {\n\t\tel = els[i];\n\t\tn = el.name;\n\t\tif (!n) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (semantic && form.clk && el.type == \"image\") {\n\t\t\t// handle image inputs on the fly when semantic == true\n\t\t\tif(!el.disabled && form.clk == el) {\n\t\t\t\ta.push({name: n, value: $(el).val()});\n\t\t\t\ta.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tv = $.fieldValue(el, true);\n\t\tif (v && v.constructor == Array) {\n\t\t\tfor(j=0, jmax=v.length; j < jmax; j++) {\n\t\t\t\ta.push({name: n, value: v[j]});\n\t\t\t}\n\t\t}\n\t\telse if (v !== null && typeof v != 'undefined') {\n\t\t\ta.push({name: n, value: v});\n\t\t}\n\t}\n\n\tif (!semantic && form.clk) {\n\t\t// input type=='image' are not found in elements array! handle it here\n\t\tvar $input = $(form.clk), input = $input[0];\n\t\tn = input.name;\n\t\tif (n && !input.disabled && input.type == 'image') {\n\t\t\ta.push({name: n, value: $input.val()});\n\t\t\ta.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});\n\t\t}\n\t}\n\treturn a;\n};\n\n/**\n * Serializes form data into a 'submittable' string. This method will return a string\n * in the format: name1=value1&amp;name2=value2\n */\n$.fn.formSerialize = function(semantic) {\n\t//hand off to jQuery.param for proper encoding\n\treturn $.param(this.formToArray(semantic));\n};\n\n/**\n * Serializes all field elements in the jQuery object into a query string.\n * This method will return a string in the format: name1=value1&amp;name2=value2\n */\n$.fn.fieldSerialize = function(successful) {\n\tvar a = [];\n\tthis.each(function() {\n\t\tvar n = this.name;\n\t\tif (!n) {\n\t\t\treturn;\n\t\t}\n\t\tvar v = $.fieldValue(this, successful);\n\t\tif (v && v.constructor == Array) {\n\t\t\tfor (var i=0,max=v.length; i < max; i++) {\n\t\t\t\ta.push({name: n, value: v[i]});\n\t\t\t}\n\t\t}\n\t\telse if (v !== null && typeof v != 'undefined') {\n\t\t\ta.push({name: this.name, value: v});\n\t\t}\n\t});\n\t//hand off to jQuery.param for proper encoding\n\treturn $.param(a);\n};\n\n/**\n * Returns the value(s) of the element in the matched set.  For example, consider the following form:\n *\n *  <form><fieldset>\n *\t  <input name=\"A\" type=\"text\" />\n *\t  <input name=\"A\" type=\"text\" />\n *\t  <input name=\"B\" type=\"checkbox\" value=\"B1\" />\n *\t  <input name=\"B\" type=\"checkbox\" value=\"B2\"/>\n *\t  <input name=\"C\" type=\"radio\" value=\"C1\" />\n *\t  <input name=\"C\" type=\"radio\" value=\"C2\" />\n *  </fieldset></form>\n *\n *  var v = $(':text').fieldValue();\n *  // if no values are entered into the text inputs\n *  v == ['','']\n *  // if values entered into the text inputs are 'foo' and 'bar'\n *  v == ['foo','bar']\n *\n *  var v = $(':checkbox').fieldValue();\n *  // if neither checkbox is checked\n *  v === undefined\n *  // if both checkboxes are checked\n *  v == ['B1', 'B2']\n *\n *  var v = $(':radio').fieldValue();\n *  // if neither radio is checked\n *  v === undefined\n *  // if first radio is checked\n *  v == ['C1']\n *\n * The successful argument controls whether or not the field element must be 'successful'\n * (per http://www.w3.org/TR/html4/interact/forms.html#successful-controls).\n * The default value of the successful argument is true.  If this value is false the value(s)\n * for each element is returned.\n *\n * Note: This method *always* returns an array.  If no valid value can be determined the\n *\t   array will be empty, otherwise it will contain one or more values.\n */\n$.fn.fieldValue = function(successful) {\n\tfor (var val=[], i=0, max=this.length; i < max; i++) {\n\t\tvar el = this[i];\n\t\tvar v = $.fieldValue(el, successful);\n\t\tif (v === null || typeof v == 'undefined' || (v.constructor == Array && !v.length)) {\n\t\t\tcontinue;\n\t\t}\n\t\tv.constructor == Array ? $.merge(val, v) : val.push(v);\n\t}\n\treturn val;\n};\n\n/**\n * Returns the value of the field element.\n */\n$.fieldValue = function(el, successful) {\n\tvar n = el.name, t = el.type, tag = el.tagName.toLowerCase();\n\tif (successful === undefined) {\n\t\tsuccessful = true;\n\t}\n\n\tif (successful && (!n || el.disabled || t == 'reset' || t == 'button' ||\n\t\t(t == 'checkbox' || t == 'radio') && !el.checked ||\n\t\t(t == 'submit' || t == 'image') && el.form && el.form.clk != el ||\n\t\ttag == 'select' && el.selectedIndex == -1)) {\n\t\t\treturn null;\n\t}\n\n\tif (tag == 'select') {\n\t\tvar index = el.selectedIndex;\n\t\tif (index < 0) {\n\t\t\treturn null;\n\t\t}\n\t\tvar a = [], ops = el.options;\n\t\tvar one = (t == 'select-one');\n\t\tvar max = (one ? index+1 : ops.length);\n\t\tfor(var i=(one ? index : 0); i < max; i++) {\n\t\t\tvar op = ops[i];\n\t\t\tif (op.selected) {\n\t\t\t\tvar v = op.value;\n\t\t\t\tif (!v) { // extra pain for IE...\n\t\t\t\t\tv = (op.attributes && op.attributes['value'] && !(op.attributes['value'].specified)) ? op.text : op.value;\n\t\t\t\t}\n\t\t\t\tif (one) {\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\ta.push(v);\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t}\n\treturn $(el).val();\n};\n\n/**\n * Clears the form data.  Takes the following actions on the form's input fields:\n *  - input text fields will have their 'value' property set to the empty string\n *  - select elements will have their 'selectedIndex' property set to -1\n *  - checkbox and radio inputs will have their 'checked' property set to false\n *  - inputs of type submit, button, reset, and hidden will *not* be effected\n *  - button elements will *not* be effected\n */\n$.fn.clearForm = function(includeHidden) {\n\treturn this.each(function() {\n\t\t$('input,select,textarea', this).clearFields(includeHidden);\n\t});\n};\n\n/**\n * Clears the selected form elements.\n */\n$.fn.clearFields = $.fn.clearInputs = function(includeHidden) {\n\tvar re = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; // 'hidden' is not in this list\n\treturn this.each(function() {\n\t\tvar t = this.type, tag = this.tagName.toLowerCase();\n\t\tif (re.test(t) || tag == 'textarea' || (includeHidden && /hidden/.test(t)) ) {\n\t\t\tthis.value = '';\n\t\t}\n\t\telse if (t == 'checkbox' || t == 'radio') {\n\t\t\tthis.checked = false;\n\t\t}\n\t\telse if (tag == 'select') {\n\t\t\tthis.selectedIndex = -1;\n\t\t}\n\t});\n};\n\n/**\n * Resets the form data.  Causes all form elements to be reset to their original value.\n */\n$.fn.resetForm = function() {\n\treturn this.each(function() {\n\t\t// guard against an input with the name of 'reset'\n\t\t// note that IE reports the reset function as an 'object'\n\t\tif (typeof this.reset == 'function' || (typeof this.reset == 'object' && !this.reset.nodeType)) {\n\t\t\tthis.reset();\n\t\t}\n\t});\n};\n\n/**\n * Enables or disables any matching elements.\n */\n$.fn.enable = function(b) {\n\tif (b === undefined) {\n\t\tb = true;\n\t}\n\treturn this.each(function() {\n\t\tthis.disabled = !b;\n\t});\n};\n\n/**\n * Checks/unchecks any matching checkboxes or radio buttons and\n * selects/deselects and matching option elements.\n */\n$.fn.selected = function(select) {\n\tif (select === undefined) {\n\t\tselect = true;\n\t}\n\treturn this.each(function() {\n\t\tvar t = this.type;\n\t\tif (t == 'checkbox' || t == 'radio') {\n\t\t\tthis.checked = select;\n\t\t}\n\t\telse if (this.tagName.toLowerCase() == 'option') {\n\t\t\tvar $sel = $(this).parent('select');\n\t\t\tif (select && $sel[0] && $sel[0].type == 'select-one') {\n\t\t\t\t// deselect all other options\n\t\t\t\t$sel.find('option').selected(false);\n\t\t\t}\n\t\t\tthis.selected = select;\n\t\t}\n\t});\n};\n\n// expose debug var\n$.fn.ajaxSubmit.debug = false;\n\n// helper fn for console logging\nfunction log() {\n\tif (!$.fn.ajaxSubmit.debug)\n\t\treturn;\n\tvar msg = '[jquery.form] ' + Array.prototype.join.call(arguments,'');\n\tif (window.console && window.console.log) {\n\t\twindow.console.log(msg);\n\t}\n\telse if (window.opera && window.opera.postError) {\n\t\twindow.opera.postError(msg);\n\t}\n};\n\n})(jQuery);\n","/*\n * Metadata - jQuery plugin for parsing metadata from elements\n *\n * Copyright (c) 2006 John Resig, Yehuda Katz, J�örn Zaefferer, Paul McLanahan\n *\n * Dual licensed under the MIT and GPL licenses:\n *   http://www.opensource.org/licenses/mit-license.php\n *   http://www.gnu.org/licenses/gpl.html\n *\n * Revision: $Id: jquery.metadata.js 4187 2007-12-16 17:15:27Z joern.zaefferer $\n *\n */\n\n/**\n * Sets the type of metadata to use. Metadata is encoded in JSON, and each property\n * in the JSON will become a property of the element itself.\n *\n * There are three supported types of metadata storage:\n *\n *   attr:  Inside an attribute. The name parameter indicates *which* attribute.\n *          \n *   class: Inside the class attribute, wrapped in curly braces: { }\n *   \n *   elem:  Inside a child element (e.g. a script tag). The\n *          name parameter indicates *which* element.\n *          \n * The metadata for an element is loaded the first time the element is accessed via jQuery.\n *\n * As a result, you can define the metadata type, use $(expr) to load the metadata into the elements\n * matched by expr, then redefine the metadata type and run another $(expr) for other elements.\n * \n * @name $.metadata.setType\n *\n * @example <p id=\"one\" class=\"some_class {item_id: 1, item_label: 'Label'}\">This is a p</p>\n * @before $.metadata.setType(\"class\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from the class attribute\n * \n * @example <p id=\"one\" class=\"some_class\" data=\"{item_id: 1, item_label: 'Label'}\">This is a p</p>\n * @before $.metadata.setType(\"attr\", \"data\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from a \"data\" attribute\n * \n * @example <p id=\"one\" class=\"some_class\"><script>{item_id: 1, item_label: 'Label'}</script>This is a p</p>\n * @before $.metadata.setType(\"elem\", \"script\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from a nested script element\n * \n * @param String type The encoding type\n * @param String name The name of the attribute to be used to get metadata (optional)\n * @cat Plugins/Metadata\n * @descr Sets the type of encoding to be used when loading metadata for the first time\n * @type undefined\n * @see metadata()\n */\n\n(function($) {\n\n$.extend({\n\tmetadata : {\n\t\tdefaults : {\n\t\t\ttype: 'class',\n\t\t\tname: 'metadata',\n\t\t\tcre: /({.*})/,\n\t\t\tsingle: 'metadata'\n\t\t},\n\t\tsetType: function( type, name ){\n\t\t\tthis.defaults.type = type;\n\t\t\tthis.defaults.name = name;\n\t\t},\n\t\tget: function( elem, opts ){\n\t\t\tvar settings = $.extend({},this.defaults,opts);\n\t\t\t// check for empty string in single property\n\t\t\tif ( !settings.single.length ) settings.single = 'metadata';\n\t\t\t\n\t\t\tvar data = $.data(elem, settings.single);\n\t\t\t// returned cached data if it already exists\n\t\t\tif ( data ) return data;\n\t\t\t\n\t\t\tdata = \"{}\";\n\t\t\t\n\t\t\tif ( settings.type == \"class\" ) {\n\t\t\t\tvar m = settings.cre.exec( elem.className );\n\t\t\t\tif ( m )\n\t\t\t\t\tdata = m[1];\n\t\t\t} else if ( settings.type == \"elem\" ) {\n\t\t\t\tif( !elem.getElementsByTagName )\n\t\t\t\t\treturn undefined;\n\t\t\t\tvar e = elem.getElementsByTagName(settings.name);\n\t\t\t\tif ( e.length )\n\t\t\t\t\tdata = $.trim(e[0].innerHTML);\n\t\t\t} else if ( elem.getAttribute != undefined ) {\n\t\t\t\tvar attr = elem.getAttribute( settings.name );\n\t\t\t\tif ( attr )\n\t\t\t\t\tdata = attr;\n\t\t\t}\n\t\t\t\n\t\t\tif ( data.indexOf( '{' ) <0 )\n\t\t\tdata = \"{\" + data + \"}\";\n\t\t\t\n\t\t\tdata = eval(\"(\" + data + \")\");\n\t\t\t\n\t\t\t$.data( elem, settings.single, data );\n\t\t\treturn data;\n\t\t}\n\t}\n});\n\n/**\n * Returns the metadata object for the first member of the jQuery object.\n *\n * @name metadata\n * @descr Returns element's metadata object\n * @param Object opts An object contianing settings to override the defaults\n * @type jQuery\n * @cat Plugins/Metadata\n */\n$.fn.metadata = function( opts ){\n\treturn $.metadata.get( this[0], opts );\n};\n\n})(jQuery);","/*!\n * MockJax - jQuery Plugin to Mock Ajax requests\n *\n * Version:  1.4.0\n * Released: 2011-02-04\n * Source:   http://github.com/appendto/jquery-mockjax\n * Docs:     http://enterprisejquery.com/2010/07/mock-your-ajax-requests-with-mockjax-for-rapid-development\n * Plugin:   mockjax\n * Author:   Jonathan Sharp (http://jdsharp.com)\n * License:  MIT,GPL\n * \n * Copyright (c) 2010 appendTo LLC.\n * Dual licensed under the MIT or GPL licenses.\n * http://appendto.com/open-source-licenses\n */\n(function($) {\n\tvar _ajax = $.ajax,\n\t\tmockHandlers = [];\n\t\n\tfunction parseXML(xml) {\n\t\tif ( window['DOMParser'] == undefined && window.ActiveXObject ) {\n\t\t\tDOMParser = function() { };\n\t\t\tDOMParser.prototype.parseFromString = function( xmlString ) {\n\t\t\t\tvar doc = new ActiveXObject('Microsoft.XMLDOM');\n\t\t        doc.async = 'false';\n\t\t        doc.loadXML( xmlString );\n\t\t\t\treturn doc;\n\t\t\t};\n\t\t}\n\t\t\n\t\ttry {\n\t\t\tvar xmlDoc \t= ( new DOMParser() ).parseFromString( xml, 'text/xml' );\n\t\t\tif ( $.isXMLDoc( xmlDoc ) ) {\n\t\t\t\tvar err = $('parsererror', xmlDoc);\n\t\t\t\tif ( err.length == 1 ) {\n\t\t\t\t\tthrow('Error: ' + $(xmlDoc).text() );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow('Unable to parse XML');\n\t\t\t}\n\t\t} catch( e ) {\n\t\t\tvar msg = ( e.name == undefined ? e : e.name + ': ' + e.message );\n\t\t\t$(document).trigger('xmlParseError', [ msg ]);\n\t\t\treturn undefined;\n\t\t}\n\t\treturn xmlDoc;\n\t}\n\t\n\t$.extend({\n\t\tajax: function(origSettings) {\n\t\t\tvar s = jQuery.extend(true, {}, jQuery.ajaxSettings, origSettings),\n\t\t\t    mock = false;\n\t\t\t// Iterate over our mock handlers (in registration order) until we find\n\t\t\t// one that is willing to intercept the request\n\t\t\t$.each(mockHandlers, function(k, v) {\n\t\t\t\tif ( !mockHandlers[k] ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar m = null;\n\t\t\t\t// If the mock was registered with a function, let the function decide if we \n\t\t\t\t// want to mock this request\n\t\t\t\tif ( $.isFunction(mockHandlers[k]) ) {\n\t\t\t\t\tm = mockHandlers[k](s);\n\t\t\t\t} else {\n\t\t\t\t\tm = mockHandlers[k];\n\t\t\t\t\t// Inspect the URL of the request and check if the mock handler's url \n\t\t\t\t\t// matches the url for this ajax request\n\t\t\t\t\tif ( $.isFunction(m.url.test) ) {\n\t\t\t\t\t\t// The user provided a regex for the url, test it\n\t\t\t\t\t\tif ( !m.url.test( s.url ) ) {\n\t\t\t\t\t\t\tm = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Look for a simple wildcard '*' or a direct URL match\n\t\t\t\t\t\tvar star = m.url.indexOf('*');\n\t\t\t\t\t\tif ( ( m.url != '*' && m.url != s.url && star == -1 ) ||\n\t\t\t\t\t\t\t( star > -1 && m.url.substr(0, star) != s.url.substr(0, star) ) ) {\n\t\t\t\t\t\t\t // The url we tested did not match the wildcard *\n\t\t\t\t\t\t\t m = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( m ) {\n\t\t\t\t\t\t// Inspect the data submitted in the request (either POST body or GET query string)\n\t\t\t\t\t\tif ( m.data && s.data ) {\n\t\t\t\t\t\t\tvar identical = false;\n\t\t\t\t\t\t\t// Deep inspect the identity of the objects\n\t\t\t\t\t\t\t(function ident(mock, live) {\n\t\t\t\t\t\t\t\t// Test for situations where the data is a querystring (not an object)\n\t\t\t\t\t\t\t\tif (typeof live === 'string') {\n\t\t\t\t\t\t\t\t\t// Querystring may be a regex\n\t\t\t\t\t\t\t\t\tidentical = $.isFunction( mock.test ) ? mock.test(live) : mock == live;\n\t\t\t\t\t\t\t\t\treturn identical;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$.each(mock, function(k, v) {\n\t\t\t\t\t\t\t\t\tif ( live[k] === undefined ) {\n\t\t\t\t\t\t\t\t\t\tidentical = false;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tidentical = true;\n\t\t\t\t\t\t\t\t\t\tif ( typeof live[k] == 'object' ) {\n\t\t\t\t\t\t\t\t\t\t\treturn ident(mock[k], live[k]);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tif ( $.isFunction( mock[k].test ) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tidentical = mock[k].test(live[k]);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tidentical = ( mock[k] == live[k] );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn identical;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})(m.data, s.data);\n\t\t\t\t\t\t\t// They're not identical, do not mock this request\n\t\t\t\t\t\t\tif ( identical == false ) {\n\t\t\t\t\t\t\t\tm = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Inspect the request type\n\t\t\t\t\t\tif ( m && m.type && m.type != s.type ) {\n\t\t\t\t\t\t\t// The request type doesn't match (GET vs. POST)\n\t\t\t\t\t\t\tm = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( m ) {\n\t\t\t\t\tmock = true;\n\n\t\t\t\t\t// Handle console logging\n\t\t\t\t\tvar c = $.extend({}, $.mockjaxSettings, m);\n\t\t\t\t\tif ( c.log && $.isFunction(c.log) ) {\n\t\t\t\t\t\tc.log('MOCK ' + s.type.toUpperCase() + ': ' + s.url, $.extend({}, s));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar jsre = /=\\?(&|$)/, jsc = (new Date()).getTime();\n\n\t\t\t\t\t// Handle JSONP Parameter Callbacks, we need to replicate some of the jQuery core here\n\t\t\t\t\t// because there isn't an easy hook for the cross domain script tag of jsonp\n\t\t\t\t\tif ( s.dataType === \"jsonp\" ) {\n\t\t\t\t\t\tif ( s.type.toUpperCase() === \"GET\" ) {\n\t\t\t\t\t\t\tif ( !jsre.test( s.url ) ) {\n\t\t\t\t\t\t\t\ts.url += (rquery.test( s.url ) ? \"&\" : \"?\") + (s.jsonp || \"callback\") + \"=?\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if ( !s.data || !jsre.test(s.data) ) {\n\t\t\t\t\t\t\ts.data = (s.data ? s.data + \"&\" : \"\") + (s.jsonp || \"callback\") + \"=?\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts.dataType = \"json\";\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t// Build temporary JSONP function\n\t\t\t\t\tif ( s.dataType === \"json\" && (s.data && jsre.test(s.data) || jsre.test(s.url)) ) {\n\t\t\t\t\t\tjsonp = s.jsonpCallback || (\"jsonp\" + jsc++);\n\t\t\t\n\t\t\t\t\t\t// Replace the =? sequence both in the query string and the data\n\t\t\t\t\t\tif ( s.data ) {\n\t\t\t\t\t\t\ts.data = (s.data + \"\").replace(jsre, \"=\" + jsonp + \"$1\");\n\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t\ts.url = s.url.replace(jsre, \"=\" + jsonp + \"$1\");\n\t\t\t\n\t\t\t\t\t\t// We need to make sure\n\t\t\t\t\t\t// that a JSONP style response is executed properly\n\t\t\t\t\t\ts.dataType = \"script\";\n\t\t\t\n\t\t\t\t\t\t// Handle JSONP-style loading\n\t\t\t\t\t\twindow[ jsonp ] = window[ jsonp ] || function( tmp ) {\n\t\t\t\t\t\t\tdata = tmp;\n\t\t\t\t\t\t\tsuccess();\n\t\t\t\t\t\t\tcomplete();\n\t\t\t\t\t\t\t// Garbage collect\n\t\t\t\t\t\t\twindow[ jsonp ] = undefined;\n\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tdelete window[ jsonp ];\n\t\t\t\t\t\t\t} catch(e) {}\n\t\t\t\n\t\t\t\t\t\t\tif ( head ) {\n\t\t\t\t\t\t\t\thead.removeChild( script );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar rurl = /^(\\w+:)?\\/\\/([^\\/?#]+)/,\n\t\t\t\t\t\tparts = rurl.exec( s.url ),\n\t\t\t\t\t\tremote = parts && (parts[1] && parts[1] !== location.protocol || parts[2] !== location.host);\n\t\t\t\t\t\n\t\t\t\t\t// Test if we are going to create a script tag (if so, intercept & mock)\n\t\t\t\t\tif ( s.dataType === \"script\" && s.type.toUpperCase() === \"GET\" && remote ) {\n\t\t\t\t\t\t// Synthesize the mock request for adding a script tag\n\t\t\t\t\t\tvar callbackContext = origSettings && origSettings.context || s;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfunction success() {\n\t\t\t\t\t\t\t// If a local callback was specified, fire it and pass it the data\n\t\t\t\t\t\t\tif ( s.success ) {\n\t\t\t\t\t\t\t\ts.success.call( callbackContext, ( m.response ? m.response.toString() : m.responseText || ''), status, {} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t// Fire the global callback\n\t\t\t\t\t\t\tif ( s.global ) {\n\t\t\t\t\t\t\t\ttrigger( \"ajaxSuccess\", [{}, s] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\tfunction complete() {\n\t\t\t\t\t\t\t// Process result\n\t\t\t\t\t\t\tif ( s.complete ) {\n\t\t\t\t\t\t\t\ts.complete.call( callbackContext, {} , status );\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t// The request was completed\n\t\t\t\t\t\t\tif ( s.global ) {\n\t\t\t\t\t\t\t\ttrigger( \"ajaxComplete\", [{}, s] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t// Handle the global AJAX counter\n\t\t\t\t\t\t\tif ( s.global && ! --jQuery.active ) {\n\t\t\t\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tfunction trigger(type, args) {\n\t\t\t\t\t\t\t(s.context ? jQuery(s.context) : jQuery.event).trigger(type, args);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( m.response && $.isFunction(m.response) ) {\n\t\t\t\t\t\t\tm.response(origSettings);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.globalEval(m.responseText);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsuccess();\n\t\t\t\t\t\tcomplete();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tmock = _ajax.call($, $.extend(true, {}, origSettings, {\n\t\t\t\t\t\t// Mock the XHR object\n\t\t\t\t\t\txhr: function() {\n\t\t\t\t\t\t\t// Extend with our default mockjax settings\n\t\t\t\t\t\t\tm = $.extend({}, $.mockjaxSettings, m);\n\n\t\t\t\t\t\t\tif ( m.contentType ) {\n\t\t\t\t\t\t\t\tm.headers['content-type'] = m.contentType;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Return our mock xhr object\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstatus: m.status,\n\t\t\t\t\t\t\t\treadyState: 1,\n\t\t\t\t\t\t\t\topen: function() { },\n\t\t\t\t\t\t\t\tsend: function() {\n\t\t\t\t\t\t\t\t\t// This is a substitute for < 1.4 which lacks $.proxy\n\t\t\t\t\t\t\t\t\tvar process = (function(that) {\n\t\t\t\t\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t\t\t\t\treturn (function() {\n\t\t\t\t\t\t\t\t\t\t\t\t// The request has returned\n\t\t\t\t\t\t\t\t\t\t\t \tthis.status \t\t= m.status;\n\t\t\t\t\t\t\t\t\t\t\t\tthis.readyState \t= 4;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t// We have an executable function, call it to give \n\t\t\t\t\t\t\t\t\t\t\t\t// the mock handler a chance to update it's data\n\t\t\t\t\t\t\t\t\t\t\t\tif ( $.isFunction(m.response) ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tm.response(origSettings);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t// Copy over our mock to our xhr object before passing control back to \n\t\t\t\t\t\t\t\t\t\t\t\t// jQuery's onreadystatechange callback\n\t\t\t\t\t\t\t\t\t\t\t\tif ( s.dataType == 'json' && ( typeof m.responseText == 'object' ) ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.responseText = JSON.stringify(m.responseText);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ( s.dataType == 'xml' ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( typeof m.responseXML == 'string' ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.responseXML = parseXML(m.responseXML);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.responseXML = m.responseXML;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.responseText = m.responseText;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t// jQuery < 1.4 doesn't have onreadystate change for xhr\n\t\t\t\t\t\t\t\t\t\t\t\tif ( $.isFunction(this.onreadystatechange) ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.onreadystatechange( m.isTimeout ? 'timeout' : undefined );\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}).apply(that);\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t})(this);\n\n\t\t\t\t\t\t\t\t\tif ( m.proxy ) {\n\t\t\t\t\t\t\t\t\t\t// We're proxying this request and loading in an external file instead\n\t\t\t\t\t\t\t\t\t\t_ajax({\n\t\t\t\t\t\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\t\t\t\t\t\turl: m.proxy,\n\t\t\t\t\t\t\t\t\t\t\ttype: m.proxyType,\n\t\t\t\t\t\t\t\t\t\t\tdata: m.data,\n\t\t\t\t\t\t\t\t\t\t\tdataType: s.dataType,\n\t\t\t\t\t\t\t\t\t\t\tcomplete: function(xhr, txt) {\n\t\t\t\t\t\t\t\t\t\t\t\tm.responseXML = xhr.responseXML;\n\t\t\t\t\t\t\t\t\t\t\t\tm.responseText = xhr.responseText;\n\t\t\t\t\t\t\t\t\t\t\t\tthis.responseTimer = setTimeout(process, m.responseTime || 0);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// type == 'POST' || 'GET' || 'DELETE'\n\t\t\t\t\t\t\t\t\t\tif ( s.async === false ) {\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Blocking delay\n\t\t\t\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthis.responseTimer = setTimeout(process, m.responseTime || 50);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tabort: function() {\n\t\t\t\t\t\t\t\t\tclearTimeout(this.responseTimer);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsetRequestHeader: function() { },\n\t\t\t\t\t\t\t\tgetResponseHeader: function(header) {\n\t\t\t\t\t\t\t\t\t// 'Last-modified', 'Etag', 'content-type' are all checked by jQuery\n\t\t\t\t\t\t\t\t\tif ( m.headers && m.headers[header] ) {\n\t\t\t\t\t\t\t\t\t\t// Return arbitrary headers\n\t\t\t\t\t\t\t\t\t\treturn m.headers[header];\n\t\t\t\t\t\t\t\t\t} else if ( header.toLowerCase() == 'last-modified' ) {\n\t\t\t\t\t\t\t\t\t\treturn m.lastModified || (new Date()).toString();\n\t\t\t\t\t\t\t\t\t} else if ( header.toLowerCase() == 'etag' ) {\n\t\t\t\t\t\t\t\t\t\treturn m.etag || '';\n\t\t\t\t\t\t\t\t\t} else if ( header.toLowerCase() == 'content-type' ) {\n\t\t\t\t\t\t\t\t\t\treturn m.contentType || 'text/plain';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\t\t\t\t\tvar headers = '';\n\t\t\t\t\t\t\t\t\t$.each(m.headers, function(k, v) {\n\t\t\t\t\t\t\t\t\t\theaders += k + ': ' + v + \"\\n\";\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\treturn headers;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// We don't have a mock request, trigger a normal request\n\t\t\tif ( !mock ) {\n\t\t\t\treturn _ajax.apply($, arguments);\n\t\t\t} else {\n\t\t\t\treturn mock;\n\t\t\t}\n\t\t}\n\t});\n\n\t$.mockjaxSettings = {\n\t\t//url:        null,\n\t\t//type:       'GET',\n\t\tlog:          function(msg) {\n\t\t              \twindow['console'] && window.console.log && window.console.log(msg);\n\t\t              },\n\t\tstatus:       200,\n\t\tresponseTime: 500,\n\t\tisTimeout:    false,\n\t\tcontentType:  'text/plain',\n\t\tresponse:     '', \n\t\tresponseText: '',\n\t\tresponseXML:  '',\n\t\tproxy:        '',\n\t\tproxyType:    'GET',\n\t\t\n\t\tlastModified: null,\n\t\tetag:         '',\n\t\theaders: {\n\t\t\tetag: 'IJF@H#@923uf8023hFO@I#H#',\n\t\t\t'content-type' : 'text/plain'\n\t\t}\n\t};\n\n\t$.mockjax = function(settings) {\n\t\tvar i = mockHandlers.length;\n\t\tmockHandlers[i] = settings;\n\t\treturn i;\n\t};\n\t$.mockjaxClear = function(i) {\n\t\tif ( arguments.length == 1 ) {\n\t\t\tmockHandlers[i] = null;\n\t\t} else {\n\t\t\tmockHandlers = [];\n\t\t}\n\t};\n})(jQuery);","(function(a){a.uniform={options:{selectClass:\"selector\",radioClass:\"radio\",checkboxClass:\"checker\",fileClass:\"uploader\",filenameClass:\"filename\",fileBtnClass:\"action\",fileDefaultText:\"No file selected\",fileBtnText:\"Choose File\",checkedClass:\"checked\",focusClass:\"focus\",disabledClass:\"disabled\",buttonClass:\"button\",activeClass:\"active\",hoverClass:\"hover\",useID:true,idPrefix:\"uniform\",resetSelector:false,autoHide:true},elements:[]};if(a.browser.msie&&a.browser.version<7){a.support.selectOpacity=false}else{a.support.selectOpacity=true}a.fn.uniform=function(k){k=a.extend(a.uniform.options,k);var d=this;if(k.resetSelector!=false){a(k.resetSelector).mouseup(function(){function l(){a.uniform.update(d)}setTimeout(l,10)})}function j(l){$el=a(l);$el.addClass($el.attr(\"type\"));b(l)}function g(l){a(l).addClass(\"uniform\");b(l)}function i(o){var m=a(o);var p=a(\"<div>\"),l=a(\"<span>\");p.addClass(k.buttonClass);if(k.useID&&m.attr(\"id\")!=\"\"){p.attr(\"id\",k.idPrefix+\"-\"+m.attr(\"id\"))}var n;if(m.is(\"a\")||m.is(\"button\")){n=m.text()}else{if(m.is(\":submit\")||m.is(\":reset\")||m.is(\"input[type=button]\")){n=m.attr(\"value\")}}n=n==\"\"?m.is(\":reset\")?\"Reset\":\"Submit\":n;l.html(n);m.css(\"opacity\",0);m.wrap(p);m.wrap(l);p=m.closest(\"div\");l=m.closest(\"span\");if(m.is(\":disabled\")){p.addClass(k.disabledClass)}p.bind({\"mouseenter.uniform\":function(){p.addClass(k.hoverClass)},\"mouseleave.uniform\":function(){p.removeClass(k.hoverClass);p.removeClass(k.activeClass)},\"mousedown.uniform touchbegin.uniform\":function(){p.addClass(k.activeClass)},\"mouseup.uniform touchend.uniform\":function(){p.removeClass(k.activeClass)},\"click.uniform touchend.uniform\":function(r){if(a(r.target).is(\"span\")||a(r.target).is(\"div\")){if(o[0].dispatchEvent){var q=document.createEvent(\"MouseEvents\");q.initEvent(\"click\",true,true);o[0].dispatchEvent(q)}else{o[0].click()}}}});o.bind({\"focus.uniform\":function(){p.addClass(k.focusClass)},\"blur.uniform\":function(){p.removeClass(k.focusClass)}});a.uniform.noSelect(p);b(o)}function e(o){var m=a(o);var p=a(\"<div />\"),l=a(\"<span />\");if(!m.css(\"display\")==\"none\"&&k.autoHide){p.hide()}p.addClass(k.selectClass);if(k.useID&&o.attr(\"id\")!=\"\"){p.attr(\"id\",k.idPrefix+\"-\"+o.attr(\"id\"))}var n=o.find(\":selected:first\");if(n.length==0){n=o.find(\"option:first\")}l.html(n.html());o.css(\"opacity\",0);o.wrap(p);o.before(l);p=o.parent(\"div\");l=o.siblings(\"span\");o.bind({\"change.uniform\":function(){l.text(o.find(\":selected\").html());p.removeClass(k.activeClass)},\"focus.uniform\":function(){p.addClass(k.focusClass)},\"blur.uniform\":function(){p.removeClass(k.focusClass);p.removeClass(k.activeClass)},\"mousedown.uniform touchbegin.uniform\":function(){p.addClass(k.activeClass)},\"mouseup.uniform touchend.uniform\":function(){p.removeClass(k.activeClass)},\"click.uniform touchend.uniform\":function(){p.removeClass(k.activeClass)},\"mouseenter.uniform\":function(){p.addClass(k.hoverClass)},\"mouseleave.uniform\":function(){p.removeClass(k.hoverClass);p.removeClass(k.activeClass)},\"keyup.uniform\":function(){l.text(o.find(\":selected\").html())}});if(a(o).attr(\"disabled\")){p.addClass(k.disabledClass)}a.uniform.noSelect(l);b(o)}function f(n){var m=a(n);var o=a(\"<div />\"),l=a(\"<span />\");if(!m.css(\"display\")==\"none\"&&k.autoHide){o.hide()}o.addClass(k.checkboxClass);if(k.useID&&n.attr(\"id\")!=\"\"){o.attr(\"id\",k.idPrefix+\"-\"+n.attr(\"id\"))}a(n).wrap(o);a(n).wrap(l);l=n.parent();o=l.parent();a(n).css(\"opacity\",0).bind({\"focus.uniform\":function(){o.addClass(k.focusClass)},\"blur.uniform\":function(){o.removeClass(k.focusClass)},\"click.uniform touchend.uniform\":function(){if(!a(n).attr(\"checked\")){l.removeClass(k.checkedClass)}else{l.addClass(k.checkedClass)}},\"mousedown.uniform touchbegin.uniform\":function(){o.addClass(k.activeClass)},\"mouseup.uniform touchend.uniform\":function(){o.removeClass(k.activeClass)},\"mouseenter.uniform\":function(){o.addClass(k.hoverClass)},\"mouseleave.uniform\":function(){o.removeClass(k.hoverClass);o.removeClass(k.activeClass)}});if(a(n).attr(\"checked\")){l.addClass(k.checkedClass)}if(a(n).attr(\"disabled\")){o.addClass(k.disabledClass)}b(n)}function c(n){var m=a(n);var o=a(\"<div />\"),l=a(\"<span />\");if(!m.css(\"display\")==\"none\"&&k.autoHide){o.hide()}o.addClass(k.radioClass);if(k.useID&&n.attr(\"id\")!=\"\"){o.attr(\"id\",k.idPrefix+\"-\"+n.attr(\"id\"))}a(n).wrap(o);a(n).wrap(l);l=n.parent();o=l.parent();a(n).css(\"opacity\",0).bind({\"focus.uniform\":function(){o.addClass(k.focusClass)},\"blur.uniform\":function(){o.removeClass(k.focusClass)},\"click.uniform touchend.uniform\":function(){if(!a(n).attr(\"checked\")){l.removeClass(k.checkedClass)}else{var p=k.radioClass.split(\" \")[0];a(\".\"+p+\" span.\"+k.checkedClass+\":has([name='\"+a(n).attr(\"name\")+\"'])\").removeClass(k.checkedClass);l.addClass(k.checkedClass)}},\"mousedown.uniform touchend.uniform\":function(){if(!a(n).is(\":disabled\")){o.addClass(k.activeClass)}},\"mouseup.uniform touchbegin.uniform\":function(){o.removeClass(k.activeClass)},\"mouseenter.uniform touchend.uniform\":function(){o.addClass(k.hoverClass)},\"mouseleave.uniform\":function(){o.removeClass(k.hoverClass);o.removeClass(k.activeClass)}});if(a(n).attr(\"checked\")){l.addClass(k.checkedClass)}if(a(n).attr(\"disabled\")){o.addClass(k.disabledClass)}b(n)}function h(q){var o=a(q);var r=a(\"<div />\"),p=a(\"<span>\"+k.fileDefaultText+\"</span>\"),m=a(\"<span>\"+k.fileBtnText+\"</span>\");if(!o.css(\"display\")==\"none\"&&k.autoHide){r.hide()}r.addClass(k.fileClass);p.addClass(k.filenameClass);m.addClass(k.fileBtnClass);if(k.useID&&o.attr(\"id\")!=\"\"){r.attr(\"id\",k.idPrefix+\"-\"+o.attr(\"id\"))}o.wrap(r);o.after(m);o.after(p);r=o.closest(\"div\");p=o.siblings(\".\"+k.filenameClass);m=o.siblings(\".\"+k.fileBtnClass);if(!o.attr(\"size\")){var l=r.width();o.attr(\"size\",l/10)}var n=function(){var s=o.val();if(s===\"\"){s=k.fileDefaultText}else{s=s.split(/[\\/\\\\]+/);s=s[(s.length-1)]}p.text(s)};n();o.css(\"opacity\",0).bind({\"focus.uniform\":function(){r.addClass(k.focusClass)},\"blur.uniform\":function(){r.removeClass(k.focusClass)},\"mousedown.uniform\":function(){if(!a(q).is(\":disabled\")){r.addClass(k.activeClass)}},\"mouseup.uniform\":function(){r.removeClass(k.activeClass)},\"mouseenter.uniform\":function(){r.addClass(k.hoverClass)},\"mouseleave.uniform\":function(){r.removeClass(k.hoverClass);r.removeClass(k.activeClass)}});if(a.browser.msie){o.bind(\"click.uniform.ie7\",function(){setTimeout(n,0)})}else{o.bind(\"change.uniform\",n)}if(o.attr(\"disabled\")){r.addClass(k.disabledClass)}a.uniform.noSelect(p);a.uniform.noSelect(m);b(q)}a.uniform.restore=function(l){if(l==undefined){l=a(a.uniform.elements)}a(l).each(function(){if(a(this).is(\":checkbox\")){a(this).unwrap().unwrap()}else{if(a(this).is(\"select\")){a(this).siblings(\"span\").remove();a(this).unwrap()}else{if(a(this).is(\":radio\")){a(this).unwrap().unwrap()}else{if(a(this).is(\":file\")){a(this).siblings(\"span\").remove();a(this).unwrap()}else{if(a(this).is(\"button, :submit, :reset, a, input[type='button']\")){a(this).unwrap().unwrap()}}}}}a(this).unbind(\".uniform\");a(this).css(\"opacity\",\"1\");var m=a.inArray(a(l),a.uniform.elements);a.uniform.elements.splice(m,1)})};function b(l){l=a(l).get();if(l.length>1){a.each(l,function(m,n){a.uniform.elements.push(n)})}else{a.uniform.elements.push(l)}}a.uniform.noSelect=function(l){function m(){return false}a(l).each(function(){this.onselectstart=this.ondragstart=m;a(this).mousedown(m).css({MozUserSelect:\"none\"})})};a.uniform.update=function(l){if(l==undefined){l=a(a.uniform.elements)}l=a(l);l.each(function(){var n=a(this);if(n.is(\"select\")){var m=n.siblings(\"span\");var p=n.parent(\"div\");p.removeClass(k.hoverClass+\" \"+k.focusClass+\" \"+k.activeClass);m.html(n.find(\":selected\").html());if(n.is(\":disabled\")){p.addClass(k.disabledClass)}else{p.removeClass(k.disabledClass)}}else{if(n.is(\":checkbox\")){var m=n.closest(\"span\");var p=n.closest(\"div\");p.removeClass(k.hoverClass+\" \"+k.focusClass+\" \"+k.activeClass);m.removeClass(k.checkedClass);if(n.is(\":checked\")){m.addClass(k.checkedClass)}if(n.is(\":disabled\")){p.addClass(k.disabledClass)}else{p.removeClass(k.disabledClass)}}else{if(n.is(\":radio\")){var m=n.closest(\"span\");var p=n.closest(\"div\");p.removeClass(k.hoverClass+\" \"+k.focusClass+\" \"+k.activeClass);m.removeClass(k.checkedClass);if(n.is(\":checked\")){m.addClass(k.checkedClass)}if(n.is(\":disabled\")){p.addClass(k.disabledClass)}else{p.removeClass(k.disabledClass)}}else{if(n.is(\":file\")){var p=n.parent(\"div\");var o=n.siblings(k.filenameClass);btnTag=n.siblings(k.fileBtnClass);p.removeClass(k.hoverClass+\" \"+k.focusClass+\" \"+k.activeClass);o.text(n.val());if(n.is(\":disabled\")){p.addClass(k.disabledClass)}else{p.removeClass(k.disabledClass)}}else{if(n.is(\":submit\")||n.is(\":reset\")||n.is(\"button\")||n.is(\"a\")||l.is(\"input[type=button]\")){var p=n.closest(\"div\");p.removeClass(k.hoverClass+\" \"+k.focusClass+\" \"+k.activeClass);if(n.is(\":disabled\")){p.addClass(k.disabledClass)}else{p.removeClass(k.disabledClass)}}}}}}})};return this.each(function(){if(a.support.selectOpacity){var l=a(this);if(l.is(\"select\")){if(l.attr(\"multiple\")!=true){if(l.attr(\"size\")==undefined||l.attr(\"size\")<=1){e(l)}}}else{if(l.is(\":checkbox\")){f(l)}else{if(l.is(\":radio\")){c(l)}else{if(l.is(\":file\")){h(l)}else{if(l.is(\":text, :password, input[type='email']\")){j(l)}else{if(l.is(\"textarea\")){g(l)}else{if(l.is(\"a\")||l.is(\":submit\")||l.is(\":reset\")||l.is(\"button\")||l.is(\"input[type=button]\")){i(l)}}}}}}}}})}})(jQuery);","(function(a){var b=new Array;var c=new Array;a.fn.doAutosize=function(b){var c=a(this).data(\"minwidth\"),d=a(this).data(\"maxwidth\"),e=\"\",f=a(this),g=a(\"#\"+a(this).data(\"tester_id\"));if(e===(e=f.val())){return}var h=e.replace(/&/g,\"&\").replace(/\\s/g,\" \").replace(/</g,\"<\").replace(/>/g,\">\");g.html(h);var i=g.width(),j=i+b.comfortZone>=c?i+b.comfortZone:c,k=f.width(),l=j<k&&j>=c||j>c&&j<d;if(l){f.width(j)}};a.fn.resetAutosize=function(b){var c=a(this).data(\"minwidth\")||b.minInputWidth||a(this).width(),d=a(this).data(\"maxwidth\")||b.maxInputWidth||a(this).closest(\".tagsinput\").width()-b.inputPadding,e=\"\",f=a(this),g=a(\"<tester/>\").css({position:\"absolute\",top:-9999,left:-9999,width:\"auto\",fontSize:f.css(\"fontSize\"),fontFamily:f.css(\"fontFamily\"),fontWeight:f.css(\"fontWeight\"),letterSpacing:f.css(\"letterSpacing\"),whiteSpace:\"nowrap\"}),h=a(this).attr(\"id\")+\"_autosize_tester\";if(!a(\"#\"+h).length>0){g.attr(\"id\",h);g.appendTo(\"body\")}f.data(\"minwidth\",c);f.data(\"maxwidth\",d);f.data(\"tester_id\",h);f.css(\"width\",c)};a.fn.addTag=function(d,e){e=jQuery.extend({focus:false,callback:true},e);this.each(function(){var f=a(this).attr(\"id\");var g=a(this).val().split(b[f]);if(g[0]==\"\"){g=new Array}d=jQuery.trim(d);if(e.unique){var h=a(g).tagExist(d);if(h==true){a(\"#\"+f+\"_tag\").addClass(\"not_valid\")}}else{var h=false}if(d!=\"\"&&h!=true){a(\"<span>\").addClass(\"tag\").append(a(\"<span>\").text(d).append(\"  \"),a(\"<a>\",{href:\"#\",title:\"Removing tag\",text:\"x\"}).click(function(){return a(\"#\"+f).removeTag(escape(d))})).insertBefore(\"#\"+f+\"_addTag\");g.push(d);a(\"#\"+f+\"_tag\").val(\"\");if(e.focus){a(\"#\"+f+\"_tag\").focus()}else{a(\"#\"+f+\"_tag\").blur()}a.fn.tagsInput.updateTagsField(this,g);if(e.callback&&c[f]&&c[f][\"onAddTag\"]){var i=c[f][\"onAddTag\"];i.call(this,d)}if(c[f]&&c[f][\"onChange\"]){var j=g.length;var i=c[f][\"onChange\"];i.call(this,a(this),g[j-1])}}});return false};a.fn.removeTag=function(d){d=unescape(d);this.each(function(){var e=a(this).attr(\"id\");var f=a(this).val().split(b[e]);a(\"#\"+e+\"_tagsinput .tag\").remove();str=\"\";for(i=0;i<f.length;i++){if(f[i]!=d){str=str+b[e]+f[i]}}a.fn.tagsInput.importTags(this,str);if(c[e]&&c[e][\"onRemoveTag\"]){var g=c[e][\"onRemoveTag\"];g.call(this,d)}});return false};a.fn.tagExist=function(b){return jQuery.inArray(b,a(this))>=0};a.fn.importTags=function(b){id=a(this).attr(\"id\");a(\"#\"+id+\"_tagsinput .tag\").remove();a.fn.tagsInput.importTags(this,b)};a.fn.tagsInput=function(d){var e=jQuery.extend({interactive:true,defaultText:\"add a tag\",minChars:0,width:\"300px\",height:\"100px\",autocomplete:{selectFirst:false},hide:true,delimiter:\",\",unique:true,removeWithBackspace:true,placeholderColor:\"#666666\",autosize:true,comfortZone:20,inputPadding:6*2},d);this.each(function(){if(e.hide){a(this).hide()}var d=a(this).attr(\"id\");if(!d||b[a(this).attr(\"id\")]){d=a(this).attr(\"id\",\"tags\"+(new Date).getTime()).attr(\"id\")}var f=jQuery.extend({pid:d,real_input:\"#\"+d,holder:\"#\"+d+\"_tagsinput\",input_wrapper:\"#\"+d+\"_addTag\",fake_input:\"#\"+d+\"_tag\"},e);b[d]=f.delimiter;if(e.onAddTag||e.onRemoveTag||e.onChange){c[d]=new Array;c[d][\"onAddTag\"]=e.onAddTag;c[d][\"onRemoveTag\"]=e.onRemoveTag;c[d][\"onChange\"]=e.onChange}var g='<div id=\"'+d+'_tagsinput\" class=\"tagsinput\"><div id=\"'+d+'_addTag\">';if(e.interactive){g=g+'<input id=\"'+d+'_tag\" value=\"\" data-default=\"'+e.defaultText+'\" />'}g=g+'</div><div class=\"tags_clear\"></div></div>';a(g).insertAfter(this);a(f.holder).css(\"width\",e.width);a(f.holder).css(\"height\",e.height);if(a(f.real_input).val()!=\"\"){a.fn.tagsInput.importTags(a(f.real_input),a(f.real_input).val())}if(e.interactive){a(f.fake_input).val(a(f.fake_input).attr(\"data-default\"));a(f.fake_input).css(\"color\",e.placeholderColor);a(f.fake_input).resetAutosize(e);a(f.holder).bind(\"click\",f,function(b){a(b.data.fake_input).focus()});a(f.fake_input).bind(\"focus\",f,function(b){if(a(b.data.fake_input).val()==a(b.data.fake_input).attr(\"data-default\")){a(b.data.fake_input).val(\"\")}a(b.data.fake_input).css(\"color\",\"#000000\")});if(e.autocomplete_url!=undefined){autocomplete_options={source:e.autocomplete_url};for(attrname in e.autocomplete){autocomplete_options[attrname]=e.autocomplete[attrname]}if(jQuery.Autocompleter!==undefined){a(f.fake_input).autocomplete(e.autocomplete_url,e.autocomplete);a(f.fake_input).bind(\"result\",f,function(b,c,f){if(c){a(\"#\"+d).addTag(c[0]+\"\",{focus:true,unique:e.unique})}})}else if(jQuery.ui.autocomplete!==undefined){a(f.fake_input).autocomplete(autocomplete_options);a(f.fake_input).bind(\"autocompleteselect\",f,function(b,c){a(b.data.real_input).addTag(c.item.value,{focus:true,unique:e.unique});return false})}}else{a(f.fake_input).bind(\"blur\",f,function(b){var c=a(this).attr(\"data-default\");if(a(b.data.fake_input).val()!=\"\"&&a(b.data.fake_input).val()!=c){if(b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length))a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:true,unique:e.unique})}else{a(b.data.fake_input).val(a(b.data.fake_input).attr(\"data-default\"));a(b.data.fake_input).css(\"color\",e.placeholderColor)}return false})}a(f.fake_input).bind(\"keypress\",f,function(b){if(b.which==b.data.delimiter.charCodeAt(0)||b.which==13){b.preventDefault();if(b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length))a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:true,unique:e.unique});a(b.data.fake_input).resetAutosize(e);return false}else if(b.data.autosize){a(b.data.fake_input).doAutosize(e)}});f.removeWithBackspace&&a(f.fake_input).bind(\"keydown\",function(b){if(b.keyCode==8&&a(this).val()==\"\"){b.preventDefault();var c=a(this).closest(\".tagsinput\").find(\".tag:last\").text();var d=a(this).attr(\"id\").replace(/_tag$/,\"\");c=c.replace(/[\\s]+x$/,\"\");a(\"#\"+d).removeTag(escape(c));a(this).trigger(\"focus\")}});a(f.fake_input).blur();if(f.unique){a(f.fake_input).keydown(function(b){if(b.keyCode==8||String.fromCharCode(b.which).match(/\\w+|[áéíóúÁÉÍÓÚñÑ,/]+/)){a(this).removeClass(\"not_valid\")}})}}});return this};a.fn.tagsInput.updateTagsField=function(c,d){var e=a(c).attr(\"id\");a(c).val(d.join(b[e]))};a.fn.tagsInput.importTags=function(d,e){a(d).val(\"\");var f=a(d).attr(\"id\");var g=e.split(b[f]);for(i=0;i<g.length;i++){a(d).addTag(g[i],{focus:false,callback:false})}if(c[f]&&c[f][\"onChange\"]){var h=c[f][\"onChange\"];h.call(d,d,g[i])}}})(jQuery);","/*\r\n ### jQuery Star Rating Plugin v3.14 - 2012-01-26 ###\r\n * Home: http://www.fyneworks.com/jquery/star-rating/\r\n * Code: http://code.google.com/p/jquery-star-rating-plugin/\r\n *\r\n\t* Dual licensed under the MIT and GPL licenses:\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *   http://www.gnu.org/licenses/gpl.html\r\n ###\r\n*/\r\neval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}(';5(1W.1z)(7($){5($.21.1Y)1X{1u.1Q(\"1P\",M,t)}1O(e){};$.n.3=7(i){5(4.S==0)l 4;5(H Q[0]==\\'1s\\'){5(4.S>1){8 j=Q;l 4.11(7(){$.n.3.G($(4),j)})};$.n.3[Q[0]].G(4,$.20(Q).1T(1)||[]);l 4};8 i=$.U({},$.n.3.1k,i||{});$.n.3.O++;4.1K(\\'.k-3-1j\\').p(\\'k-3-1j\\').11(7(){8 a,9=$(4);8 b=(4.28||\\'26-3\\').1g(/\\\\[|\\\\]/g,\\'10\\').1g(/^\\\\10+|\\\\10+$/g,\\'\\');8 c=$(4.1N||1u.1B);8 d=c.6(\\'3\\');5(!d||d.1d!=$.n.3.O)d={B:0,1d:$.n.3.O};8 e=d[b];5(e)a=e.6(\\'3\\');5(e&&a)a.B++;C{a=$.U({},i||{},($.1c?9.1c():($.1C?9.6():u))||{},{B:0,F:[],v:[]});a.w=d.B++;e=$(\\'<23 14=\"k-3-1I\"/>\\');9.1M(e);e.p(\\'3-18-19-1a\\');5(9.T(\\'J\\')||9.12(\\'J\\'))a.m=t;5(9.12(\\'Y\\'))a.Y=t;e.1o(a.D=$(\\'<L 14=\"3-D\"><a 13=\"\\'+a.D+\\'\">\\'+a.1e+\\'</a></L>\\').1f(7(){$(4).3(\\'R\\');$(4).p(\\'k-3-P\\')}).1h(7(){$(4).3(\\'x\\');$(4).E(\\'k-3-P\\')}).1i(7(){$(4).3(\\'r\\')}).6(\\'3\\',a))};8 f=$(\\'<L 14=\"k-3 q-\\'+a.w+\\'\"><a 13=\"\\'+(4.13||4.1l)+\\'\">\\'+4.1l+\\'</a></L>\\');e.1o(f);5(4.17)f.T(\\'17\\',4.17);5(4.1m)f.p(4.1m);5(a.1Z)a.s=2;5(H a.s==\\'1n\\'&&a.s>0){8 g=($.n.Z?f.Z():0)||a.1p;8 h=(a.B%a.s),W=1D.1E(g/a.s);f.Z(W).1F(\\'a\\').1G({\\'1H-1A\\':\\'-\\'+(h*W)+\\'1J\\'})};5(a.m)f.p(\\'k-3-1q\\');C f.p(\\'k-3-1L\\').1f(7(){$(4).3(\\'1r\\');$(4).3(\\'I\\')}).1h(7(){$(4).3(\\'x\\');$(4).3(\\'z\\')}).1i(7(){$(4).3(\\'r\\')});5(4.N)a.o=f;5(4.1R==\"A\"){5($(4).12(\\'1S\\'))a.o=f};9.1t();9.1U(7(){$(4).3(\\'r\\')});f.6(\\'3.9\\',9.6(\\'3.k\\',f));a.F[a.F.S]=f[0];a.v[a.v.S]=9[0];a.q=d[b]=e;a.1V=c;9.6(\\'3\\',a);e.6(\\'3\\',a);f.6(\\'3\\',a);c.6(\\'3\\',d)});$(\\'.3-18-19-1a\\').3(\\'x\\').E(\\'3-18-19-1a\\');l 4};$.U($.n.3,{O:0,I:7(){8 a=4.6(\\'3\\');5(!a)l 4;5(!a.I)l 4;8 b=$(4).6(\\'3.9\\')||$(4.V==\\'15\\'?4:u);5(a.I)a.I.G(b[0],[b.K(),$(\\'a\\',b.6(\\'3.k\\'))[0]])},z:7(){8 a=4.6(\\'3\\');5(!a)l 4;5(!a.z)l 4;8 b=$(4).6(\\'3.9\\')||$(4.V==\\'15\\'?4:u);5(a.z)a.z.G(b[0],[b.K(),$(\\'a\\',b.6(\\'3.k\\'))[0]])},1r:7(){8 a=4.6(\\'3\\');5(!a)l 4;5(a.m)l;4.3(\\'R\\');4.1v().1w().X(\\'.q-\\'+a.w).p(\\'k-3-P\\')},R:7(){8 a=4.6(\\'3\\');5(!a)l 4;5(a.m)l;a.q.22().X(\\'.q-\\'+a.w).E(\\'k-3-1x\\').E(\\'k-3-P\\')},x:7(){8 a=4.6(\\'3\\');5(!a)l 4;4.3(\\'R\\');5(a.o){a.o.6(\\'3.9\\').T(\\'N\\',\\'N\\');a.o.1v().1w().X(\\'.q-\\'+a.w).p(\\'k-3-1x\\')}C $(a.v).1y(\\'N\\');a.D[a.m||a.Y?\\'1t\\':\\'24\\']();4.25()[a.m?\\'p\\':\\'E\\'](\\'k-3-1q\\')},r:7(a,b){8 c=4.6(\\'3\\');5(!c)l 4;5(c.m)l;c.o=u;5(H a!=\\'y\\'){5(H a==\\'1n\\')l $(c.F[a]).3(\\'r\\',y,b);5(H a==\\'1s\\')$.11(c.F,7(){5($(4).6(\\'3.9\\').K()==a)$(4).3(\\'r\\',y,b)})}C c.o=4[0].V==\\'15\\'?4.6(\\'3.k\\'):(4.27(\\'.q-\\'+c.w)?4:u);4.6(\\'3\\',c);4.3(\\'x\\');8 d=$(c.o?c.o.6(\\'3.9\\'):u);5((b||b==y)&&c.1b)c.1b.G(d[0],[d.K(),$(\\'a\\',c.o)[0]])},m:7(a,b){8 c=4.6(\\'3\\');5(!c)l 4;c.m=a||a==y?t:M;5(b)$(c.v).T(\"J\",\"J\");C $(c.v).1y(\"J\");4.6(\\'3\\',c);4.3(\\'x\\')},29:7(){4.3(\\'m\\',t,t)},2a:7(){4.3(\\'m\\',M,M)}});$.n.3.1k={D:\\'2b 2c\\',1e:\\'\\',s:0,1p:16};$(7(){$(\\'9[2d=2e].k\\').3()})})(1z);',62,139,'|||rating|this|if|data|function|var|input|||||||||||star|return|readOnly|fn|current|addClass|rater|select|split|true|null|inputs|serial|draw|undefined|blur||count|else|cancel|removeClass|stars|apply|typeof|focus|disabled|val|div|false|checked|calls|hover|arguments|drain|length|attr|extend|tagName|spw|filter|required|width|_|each|hasClass|title|class|INPUT||id|to|be|drawn|callback|metadata|call|cancelValue|mouseover|replace|mouseout|click|applied|options|value|className|number|append|starWidth|readonly|fill|string|hide|document|prevAll|andSelf|on|removeAttr|jQuery|left|body|meta|Math|floor|find|css|margin|control|px|not|live|before|form|catch|BackgroundImageCache|execCommand|nodeName|selected|slice|change|context|window|try|msie|half|makeArray|browser|children|span|show|siblings|unnamed|is|name|disable|enable|Cancel|Rating|type|radio'.split('|'),0,{}))","/**\n * Farbtastic Color Picker 1.2\n * © 2008 Steven Wittens\n *\n * This program is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 2 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n */\n\njQuery.fn.farbtastic = function (callback) {\n  $.farbtastic(this, callback);\n  return this;\n};\n\njQuery.farbtastic = function (container, callback) {\n  var container = $(container).get(0);\n  return container.farbtastic || (container.farbtastic = new jQuery._farbtastic(container, callback));\n}\n\njQuery._farbtastic = function (container, callback) {\n  // Store farbtastic object\n  var fb = this;\n\n  // Insert markup\n  $(container).html('<div class=\"farbtastic\"><div class=\"color\"></div><div class=\"wheel\"></div><div class=\"overlay\"></div><div class=\"h-marker marker\"></div><div class=\"sl-marker marker\"></div></div>');\n  var e = $('.farbtastic', container);\n  fb.wheel = $('.wheel', container).get(0);\n  // Dimensions\n  fb.radius = 84;\n  fb.square = 100;\n  fb.width = 194;\n\n  // Fix background PNGs in IE6\n  if (navigator.appVersion.match(/MSIE [0-6]\\./)) {\n    $('*', e).each(function () {\n      if (this.currentStyle.backgroundImage != 'none') {\n        var image = this.currentStyle.backgroundImage;\n        image = this.currentStyle.backgroundImage.substring(5, image.length - 2);\n        $(this).css({\n          'backgroundImage': 'none',\n          'filter': \"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='\" + image + \"')\"\n        });\n      }\n    });\n  }\n\n  /**\n   * Link to the given element(s) or callback.\n   */\n  fb.linkTo = function (callback) {\n    // Unbind previous nodes\n    if (typeof fb.callback == 'object') {\n      $(fb.callback).unbind('keyup', fb.updateValue);\n    }\n\n    // Reset color\n    fb.color = null;\n\n    // Bind callback or elements\n    if (typeof callback == 'function') {\n      fb.callback = callback;\n    }\n    else if (typeof callback == 'object' || typeof callback == 'string') {\n      fb.callback = $(callback);\n      fb.callback.bind('keyup', fb.updateValue);\n      if (fb.callback.get(0).value) {\n        fb.setColor(fb.callback.get(0).value);\n      }\n    }\n    return this;\n  }\n  fb.updateValue = function (event) {\n    if (this.value && this.value != fb.color) {\n      fb.setColor(this.value);\n    }\n  }\n\n  /**\n   * Change color with HTML syntax #123456\n   */\n  fb.setColor = function (color) {\n    var unpack = fb.unpack(color);\n    if (fb.color != color && unpack) {\n      fb.color = color;\n      fb.rgb = unpack;\n      fb.hsl = fb.RGBToHSL(fb.rgb);\n      fb.updateDisplay();\n    }\n    return this;\n  }\n\n  /**\n   * Change color with HSL triplet [0..1, 0..1, 0..1]\n   */\n  fb.setHSL = function (hsl) {\n    fb.hsl = hsl;\n    fb.rgb = fb.HSLToRGB(hsl);\n    fb.color = fb.pack(fb.rgb);\n    fb.updateDisplay();\n    return this;\n  }\n\n  /////////////////////////////////////////////////////\n\n  /**\n   * Retrieve the coordinates of the given event relative to the center\n   * of the widget.\n   */\n  fb.widgetCoords = function (event) {\n    var x, y;\n    var el = event.target || event.srcElement;\n    var reference = fb.wheel;\n\n    if (typeof event.offsetX != 'undefined') {\n      // Use offset coordinates and find common offsetParent\n      var pos = { x: event.offsetX, y: event.offsetY };\n\n      // Send the coordinates upwards through the offsetParent chain.\n      var e = el;\n      while (e) {\n        e.mouseX = pos.x;\n        e.mouseY = pos.y;\n        pos.x += e.offsetLeft;\n        pos.y += e.offsetTop;\n        e = e.offsetParent;\n      }\n\n      // Look for the coordinates starting from the wheel widget.\n      var e = reference;\n      var offset = { x: 0, y: 0 }\n      while (e) {\n        if (typeof e.mouseX != 'undefined') {\n          x = e.mouseX - offset.x;\n          y = e.mouseY - offset.y;\n          break;\n        }\n        offset.x += e.offsetLeft;\n        offset.y += e.offsetTop;\n        e = e.offsetParent;\n      }\n\n      // Reset stored coordinates\n      e = el;\n      while (e) {\n        e.mouseX = undefined;\n        e.mouseY = undefined;\n        e = e.offsetParent;\n      }\n    }\n    else {\n      // Use absolute coordinates\n      var pos = fb.absolutePosition(reference);\n      x = (event.pageX || 0*(event.clientX + $('html').get(0).scrollLeft)) - pos.x;\n      y = (event.pageY || 0*(event.clientY + $('html').get(0).scrollTop)) - pos.y;\n    }\n    // Subtract distance to middle\n    return { x: x - fb.width / 2, y: y - fb.width / 2 };\n  }\n\n  /**\n   * Mousedown handler\n   */\n  fb.mousedown = function (event) {\n    // Capture mouse\n    if (!document.dragging) {\n      $(document).bind('mousemove', fb.mousemove).bind('mouseup', fb.mouseup);\n      document.dragging = true;\n    }\n\n    // Check which area is being dragged\n    var pos = fb.widgetCoords(event);\n    fb.circleDrag = Math.max(Math.abs(pos.x), Math.abs(pos.y)) * 2 > fb.square;\n\n    // Process\n    fb.mousemove(event);\n    return false;\n  }\n\n  /**\n   * Mousemove handler\n   */\n  fb.mousemove = function (event) {\n    // Get coordinates relative to color picker center\n    var pos = fb.widgetCoords(event);\n\n    // Set new HSL parameters\n    if (fb.circleDrag) {\n      var hue = Math.atan2(pos.x, -pos.y) / 6.28;\n      if (hue < 0) hue += 1;\n      fb.setHSL([hue, fb.hsl[1], fb.hsl[2]]);\n    }\n    else {\n      var sat = Math.max(0, Math.min(1, -(pos.x / fb.square) + .5));\n      var lum = Math.max(0, Math.min(1, -(pos.y / fb.square) + .5));\n      fb.setHSL([fb.hsl[0], sat, lum]);\n    }\n    return false;\n  }\n\n  /**\n   * Mouseup handler\n   */\n  fb.mouseup = function () {\n    // Uncapture mouse\n    $(document).unbind('mousemove', fb.mousemove);\n    $(document).unbind('mouseup', fb.mouseup);\n    document.dragging = false;\n  }\n\n  /**\n   * Update the markers and styles\n   */\n  fb.updateDisplay = function () {\n    // Markers\n    var angle = fb.hsl[0] * 6.28;\n    $('.h-marker', e).css({\n      left: Math.round(Math.sin(angle) * fb.radius + fb.width / 2) + 'px',\n      top: Math.round(-Math.cos(angle) * fb.radius + fb.width / 2) + 'px'\n    });\n\n    $('.sl-marker', e).css({\n      left: Math.round(fb.square * (.5 - fb.hsl[1]) + fb.width / 2) + 'px',\n      top: Math.round(fb.square * (.5 - fb.hsl[2]) + fb.width / 2) + 'px'\n    });\n\n    // Saturation/Luminance gradient\n    $('.color', e).css('backgroundColor', fb.pack(fb.HSLToRGB([fb.hsl[0], 1, 0.5])));\n\n    // Linked elements or callback\n    if (typeof fb.callback == 'object') {\n      // Set background/foreground color\n      $(fb.callback).css({\n        backgroundColor: fb.color,\n        color: fb.hsl[2] > 0.5 ? '#000' : '#fff'\n      });\n\n      // Change linked value\n      $(fb.callback).each(function() {\n        if (this.value && this.value != fb.color) {\n          this.value = fb.color;\n        }\n      });\n    }\n    else if (typeof fb.callback == 'function') {\n      fb.callback.call(fb, fb.color);\n    }\n  }\n\n  /**\n   * Get absolute position of element\n   */\n  fb.absolutePosition = function (el) {\n    var r = { x: el.offsetLeft, y: el.offsetTop };\n    // Resolve relative to offsetParent\n    if (el.offsetParent) {\n      var tmp = fb.absolutePosition(el.offsetParent);\n      r.x += tmp.x;\n      r.y += tmp.y;\n    }\n    return r;\n  };\n\n  /* Various color utility functions */\n  fb.pack = function (rgb) {\n    var r = Math.round(rgb[0] * 255);\n    var g = Math.round(rgb[1] * 255);\n    var b = Math.round(rgb[2] * 255);\n    return '#' + (r < 16 ? '0' : '') + r.toString(16) +\n           (g < 16 ? '0' : '') + g.toString(16) +\n           (b < 16 ? '0' : '') + b.toString(16);\n  }\n\n  fb.unpack = function (color) {\n    if (color.length == 7) {\n      return [parseInt('0x' + color.substring(1, 3)) / 255,\n        parseInt('0x' + color.substring(3, 5)) / 255,\n        parseInt('0x' + color.substring(5, 7)) / 255];\n    }\n    else if (color.length == 4) {\n      return [parseInt('0x' + color.substring(1, 2)) / 15,\n        parseInt('0x' + color.substring(2, 3)) / 15,\n        parseInt('0x' + color.substring(3, 4)) / 15];\n    }\n  }\n\n  fb.HSLToRGB = function (hsl) {\n    var m1, m2, r, g, b;\n    var h = hsl[0], s = hsl[1], l = hsl[2];\n    m2 = (l <= 0.5) ? l * (s + 1) : l + s - l*s;\n    m1 = l * 2 - m2;\n    return [this.hueToRGB(m1, m2, h+0.33333),\n        this.hueToRGB(m1, m2, h),\n        this.hueToRGB(m1, m2, h-0.33333)];\n  }\n\n  fb.hueToRGB = function (m1, m2, h) {\n    h = (h < 0) ? h + 1 : ((h > 1) ? h - 1 : h);\n    if (h * 6 < 1) return m1 + (m2 - m1) * h * 6;\n    if (h * 2 < 1) return m2;\n    if (h * 3 < 2) return m1 + (m2 - m1) * (0.66666 - h) * 6;\n    return m1;\n  }\n\n  fb.RGBToHSL = function (rgb) {\n    var min, max, delta, h, s, l;\n    var r = rgb[0], g = rgb[1], b = rgb[2];\n    min = Math.min(r, Math.min(g, b));\n    max = Math.max(r, Math.max(g, b));\n    delta = max - min;\n    l = (min + max) / 2;\n    s = 0;\n    if (l > 0 && l < 1) {\n      s = delta / (l < 0.5 ? (2 * l) : (2 - 2 * l));\n    }\n    h = 0;\n    if (delta > 0) {\n      if (max == r && max != g) h += (g - b) / delta;\n      if (max == g && max != b) h += (2 + (b - r) / delta);\n      if (max == b && max != r) h += (4 + (r - g) / delta);\n      h /= 6;\n    }\n    return [h, s, l];\n  }\n\n  // Install mousedown handler (the others are set on the document on-demand)\n  $('*', e).mousedown(fb.mousedown);\n\n    // Init color\n  fb.setColor('#000000');\n\n  // Set linked elements/callback\n  if (callback) {\n    fb.linkTo(callback);\n  }\n}","/* http://keith-wood.name/timeEntry.html\r\n   Time entry for jQuery v1.4.9.\r\n   Written by Keith Wood (kbwood{at}iinet.com.au) June 2007.\r\n   Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and \r\n   MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses. \r\n   Please attribute the author if you use it. */\r\n(function($){function TimeEntry(){this._disabledInputs=[];this.regional=[];this.regional['']={show24Hours:false,separator:':',ampmPrefix:'',ampmNames:['AM','PM'],spinnerTexts:['Now','Previous field','Next field','Increment','Decrement']};this._defaults={appendText:'',showSeconds:false,timeSteps:[1,1,1],initialField:0,useMouseWheel:true,defaultTime:null,minTime:null,maxTime:null,spinnerImage:'images/photon/spinnerDefault.png',spinnerSize:[20,20,8],spinnerBigImage:'',spinnerBigSize:[40,40,16],spinnerIncDecOnly:false,spinnerRepeat:[500,250],beforeShow:null,beforeSetTime:null};$.extend(this._defaults,this.regional[''])}var m='timeEntry';$.extend(TimeEntry.prototype,{markerClassName:'hasTimeEntry',setDefaults:function(a){extendRemove(this._defaults,a||{});return this},_connectTimeEntry:function(b,c){var d=$(b);if(d.hasClass(this.markerClassName)){return}var e={};e.options=$.extend({},c);e._selectedHour=0;e._selectedMinute=0;e._selectedSecond=0;e._field=0;e.input=$(b);$.data(b,m,e);var f=this._get(e,'spinnerImage');var g=this._get(e,'spinnerText');var h=this._get(e,'spinnerSize');var i=this._get(e,'appendText');var j=(!f?null:$('<span class=\"timeEntry_control\" style=\"display: inline-block; '+'background: url(\\''+f+'\\') 0 0 no-repeat; '+'width: '+h[0]+'px; height: '+h[1]+'px;'+($.browser.mozilla&&$.browser.version<'1.9'?' padding-left: '+h[0]+'px; padding-bottom: '+(h[1]-18)+'px;':'')+'\"></span>'));d.wrap('<span class=\"timeEntry_wrap\"></span>').after(i?'<span class=\"timeEntry_append\">'+i+'</span>':'').after(j||'');d.addClass(this.markerClassName).bind('focus.timeEntry',this._doFocus).bind('blur.timeEntry',this._doBlur).bind('click.timeEntry',this._doClick).bind('keydown.timeEntry',this._doKeyDown).bind('keypress.timeEntry',this._doKeyPress);if($.browser.mozilla){d.bind('input.timeEntry',function(a){$.timeEntry._parseTime(e)})}if($.browser.msie){d.bind('paste.timeEntry',function(a){setTimeout(function(){$.timeEntry._parseTime(e)},1)})}if(this._get(e,'useMouseWheel')&&$.fn.mousewheel){d.mousewheel(this._doMouseWheel)}if(j){j.mousedown(this._handleSpinner).mouseup(this._endSpinner).mouseover(this._expandSpinner).mouseout(this._endSpinner).mousemove(this._describeSpinner)}},_enableTimeEntry:function(a){this._enableDisable(a,false)},_disableTimeEntry:function(a){this._enableDisable(a,true)},_enableDisable:function(b,c){var d=$.data(b,m);if(!d){return}b.disabled=c;if(b.nextSibling&&b.nextSibling.nodeName.toLowerCase()=='span'){$.timeEntry._changeSpinner(d,b.nextSibling,(c?5:-1))}$.timeEntry._disabledInputs=$.map($.timeEntry._disabledInputs,function(a){return(a==b?null:a)});if(c){$.timeEntry._disabledInputs.push(b)}},_isDisabledTimeEntry:function(a){return $.inArray(a,this._disabledInputs)>-1},_changeTimeEntry:function(a,b,c){var d=$.data(a,m);if(d){if(typeof b=='string'){var e=b;b={};b[e]=c}var f=this._extractTime(d);extendRemove(d.options,b||{});if(f){this._setTime(d,new Date(0,0,0,f[0],f[1],f[2]))}}$.data(a,m,d)},_destroyTimeEntry:function(b){$input=$(b);if(!$input.hasClass(this.markerClassName)){return}$input.removeClass(this.markerClassName).unbind('.timeEntry');if($.fn.mousewheel){$input.unmousewheel()}this._disabledInputs=$.map(this._disabledInputs,function(a){return(a==b?null:a)});$input.parent().replaceWith($input);$.removeData(b,m)},_setTimeTimeEntry:function(a,b){var c=$.data(a,m);if(c){if(b===null||b===''){c.input.val('')}else{this._setTime(c,b?(typeof b=='object'?new Date(b.getTime()):b):null)}}},_getTimeTimeEntry:function(a){var b=$.data(a,m);var c=(b?this._extractTime(b):null);return(!c?null:new Date(0,0,0,c[0],c[1],c[2]))},_getOffsetTimeEntry:function(a){var b=$.data(a,m);var c=(b?this._extractTime(b):null);return(!c?0:(c[0]*3600+c[1]*60+c[2])*1000)},_doFocus:function(a){var b=(a.nodeName&&a.nodeName.toLowerCase()=='input'?a:this);if($.timeEntry._lastInput==b||$.timeEntry._isDisabledTimeEntry(b)){$.timeEntry._focussed=false;return}var c=$.data(b,m);$.timeEntry._focussed=true;$.timeEntry._lastInput=b;$.timeEntry._blurredInput=null;var d=$.timeEntry._get(c,'beforeShow');extendRemove(c.options,(d?d.apply(b,[b]):{}));$.data(b,m,c);$.timeEntry._parseTime(c);setTimeout(function(){$.timeEntry._showField(c)},10)},_doBlur:function(a){$.timeEntry._blurredInput=$.timeEntry._lastInput;$.timeEntry._lastInput=null},_doClick:function(b){var c=b.target;var d=$.data(c,m);if(!$.timeEntry._focussed){var e=$.timeEntry._get(d,'separator').length+2;d._field=0;if(c.selectionStart!=null){for(var f=0;f<=Math.max(1,d._secondField,d._ampmField);f++){var g=(f!=d._ampmField?(f*e)+2:(d._ampmField*e)+$.timeEntry._get(d,'ampmPrefix').length+$.timeEntry._get(d,'ampmNames')[0].length);d._field=f;if(c.selectionStart<g){break}}}else if(c.createTextRange){var h=$(b.srcElement);var i=c.createTextRange();var j=function(a){return{thin:2,medium:4,thick:6}[a]||a};var k=b.clientX+document.documentElement.scrollLeft-(h.offset().left+parseInt(j(h.css('border-left-width')),10))-i.offsetLeft;for(var f=0;f<=Math.max(1,d._secondField,d._ampmField);f++){var g=(f!=d._ampmField?(f*e)+2:(d._ampmField*e)+$.timeEntry._get(d,'ampmPrefix').length+$.timeEntry._get(d,'ampmNames')[0].length);i.collapse();i.moveEnd('character',g);d._field=f;if(k<i.boundingWidth){break}}}}$.data(c,m,d);$.timeEntry._showField(d);$.timeEntry._focussed=false},_doKeyDown:function(a){if(a.keyCode>=48){return true}var b=$.data(a.target,m);switch(a.keyCode){case 9:return(a.shiftKey?$.timeEntry._changeField(b,-1,true):$.timeEntry._changeField(b,+1,true));case 35:if(a.ctrlKey){$.timeEntry._setValue(b,'')}else{b._field=Math.max(1,b._secondField,b._ampmField);$.timeEntry._adjustField(b,0)}break;case 36:if(a.ctrlKey){$.timeEntry._setTime(b)}else{b._field=0;$.timeEntry._adjustField(b,0)}break;case 37:$.timeEntry._changeField(b,-1,false);break;case 38:$.timeEntry._adjustField(b,+1);break;case 39:$.timeEntry._changeField(b,+1,false);break;case 40:$.timeEntry._adjustField(b,-1);break;case 46:$.timeEntry._setValue(b,'');break}return false},_doKeyPress:function(a){var b=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);if(b<' '){return true}var c=$.data(a.target,m);$.timeEntry._handleKeyPress(c,b);return false},_doMouseWheel:function(a,b){if($.timeEntry._isDisabledTimeEntry(a.target)){return}b=($.browser.opera?-b/Math.abs(b):($.browser.safari?b/Math.abs(b):b));var c=$.data(a.target,m);c.input.focus();if(!c.input.val()){$.timeEntry._parseTime(c)}$.timeEntry._adjustField(c,b);a.preventDefault()},_expandSpinner:function(b){var c=$.timeEntry._getSpinnerTarget(b);var d=$.data($.timeEntry._getInput(c),m);if($.timeEntry._isDisabledTimeEntry(d.input[0])){return}var e=$.timeEntry._get(d,'spinnerBigImage');if(e){d._expanded=true;var f=$(c).offset();var g=null;$(c).parents().each(function(){var a=$(this);if(a.css('position')=='relative'||a.css('position')=='absolute'){g=a.offset()}return!g});var h=$.timeEntry._get(d,'spinnerSize');var i=$.timeEntry._get(d,'spinnerBigSize');$('<div class=\"timeEntry_expand\" style=\"position: absolute; left: '+(f.left-(i[0]-h[0])/2-(g?g.left:0))+'px; top: '+(f.top-(i[1]-h[1])/2-(g?g.top:0))+'px; width: '+i[0]+'px; height: '+i[1]+'px; background: transparent url('+e+') no-repeat 0px 0px; z-index: 10;\"></div>').mousedown($.timeEntry._handleSpinner).mouseup($.timeEntry._endSpinner).mouseout($.timeEntry._endExpand).mousemove($.timeEntry._describeSpinner).insertAfter(c)}},_getInput:function(a){return $(a).siblings('.'+$.timeEntry.markerClassName)[0]},_describeSpinner:function(a){var b=$.timeEntry._getSpinnerTarget(a);var c=$.data($.timeEntry._getInput(b),m);b.title=$.timeEntry._get(c,'spinnerTexts')[$.timeEntry._getSpinnerRegion(c,a)]},_handleSpinner:function(a){var b=$.timeEntry._getSpinnerTarget(a);var c=$.timeEntry._getInput(b);if($.timeEntry._isDisabledTimeEntry(c)){return}if(c==$.timeEntry._blurredInput){$.timeEntry._lastInput=c;$.timeEntry._blurredInput=null}var d=$.data(c,m);$.timeEntry._doFocus(c);var e=$.timeEntry._getSpinnerRegion(d,a);$.timeEntry._changeSpinner(d,b,e);$.timeEntry._actionSpinner(d,e);$.timeEntry._timer=null;$.timeEntry._handlingSpinner=true;var f=$.timeEntry._get(d,'spinnerRepeat');if(e>=3&&f[0]){$.timeEntry._timer=setTimeout(function(){$.timeEntry._repeatSpinner(d,e)},f[0]);$(b).one('mouseout',$.timeEntry._releaseSpinner).one('mouseup',$.timeEntry._releaseSpinner)}},_actionSpinner:function(a,b){if(!a.input.val()){$.timeEntry._parseTime(a)}switch(b){case 0:this._setTime(a);break;case 1:this._changeField(a,-1,false);break;case 2:this._changeField(a,+1,false);break;case 3:this._adjustField(a,+1);break;case 4:this._adjustField(a,-1);break}},_repeatSpinner:function(a,b){if(!$.timeEntry._timer){return}$.timeEntry._lastInput=$.timeEntry._blurredInput;this._actionSpinner(a,b);this._timer=setTimeout(function(){$.timeEntry._repeatSpinner(a,b)},this._get(a,'spinnerRepeat')[1])},_releaseSpinner:function(a){clearTimeout($.timeEntry._timer);$.timeEntry._timer=null},_endExpand:function(a){$.timeEntry._timer=null;var b=$.timeEntry._getSpinnerTarget(a);var c=$.timeEntry._getInput(b);var d=$.data(c,m);$(b).remove();d._expanded=false},_endSpinner:function(a){$.timeEntry._timer=null;var b=$.timeEntry._getSpinnerTarget(a);var c=$.timeEntry._getInput(b);var d=$.data(c,m);if(!$.timeEntry._isDisabledTimeEntry(c)){$.timeEntry._changeSpinner(d,b,-1)}if($.timeEntry._handlingSpinner){$.timeEntry._lastInput=$.timeEntry._blurredInput}if($.timeEntry._lastInput&&$.timeEntry._handlingSpinner){$.timeEntry._showField(d)}$.timeEntry._handlingSpinner=false},_getSpinnerTarget:function(a){return a.target||a.srcElement},_getSpinnerRegion:function(a,b){var c=this._getSpinnerTarget(b);var d=($.browser.opera||$.browser.safari?$.timeEntry._findPos(c):$(c).offset());var e=($.browser.safari?$.timeEntry._findScroll(c):[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]);var f=this._get(a,'spinnerIncDecOnly');var g=(f?99:b.clientX+e[0]-d.left-($.browser.msie?2:0));var h=b.clientY+e[1]-d.top-($.browser.msie?2:0);var i=this._get(a,(a._expanded?'spinnerBigSize':'spinnerSize'));var j=(f?99:i[0]-1-g);var k=i[1]-1-h;if(i[2]>0&&Math.abs(g-j)<=i[2]&&Math.abs(h-k)<=i[2]){return 0}var l=Math.min(g,h,j,k);return(l==g?1:(l==j?2:(l==h?3:4)))},_changeSpinner:function(a,b,c){$(b).css('background-position','-'+((c+1)*this._get(a,(a._expanded?'spinnerBigSize':'spinnerSize'))[0])+'px 0px')},_findPos:function(a){var b=curTop=0;if(a.offsetParent){b=a.offsetLeft;curTop=a.offsetTop;while(a=a.offsetParent){var c=b;b+=a.offsetLeft;if(b<0){b=c}curTop+=a.offsetTop}}return{left:b,top:curTop}},_findScroll:function(a){var b=false;$(a).parents().each(function(){b|=$(this).css('position')=='fixed'});if(b){return[0,0]}var c=a.scrollLeft;var d=a.scrollTop;while(a=a.parentNode){c+=a.scrollLeft||0;d+=a.scrollTop||0}return[c,d]},_get:function(a,b){return(a.options[b]!=null?a.options[b]:$.timeEntry._defaults[b])},_parseTime:function(a){var b=this._extractTime(a);var c=this._get(a,'showSeconds');if(b){a._selectedHour=b[0];a._selectedMinute=b[1];a._selectedSecond=b[2]}else{var d=this._constrainTime(a);a._selectedHour=d[0];a._selectedMinute=d[1];a._selectedSecond=(c?d[2]:0)}a._secondField=(c?2:-1);a._ampmField=(this._get(a,'show24Hours')?-1:(c?3:2));a._lastChr='';a._field=Math.max(0,Math.min(Math.max(1,a._secondField,a._ampmField),this._get(a,'initialField')));if(a.input.val()!=''){this._showTime(a)}},_extractTime:function(a,b){b=b||a.input.val();var c=this._get(a,'separator');var d=b.split(c);if(c==''&&b!=''){d[0]=b.substring(0,2);d[1]=b.substring(2,4);d[2]=b.substring(4,6)}var e=this._get(a,'ampmNames');var f=this._get(a,'show24Hours');if(d.length>=2){var g=!f&&(b.indexOf(e[0])>-1);var h=!f&&(b.indexOf(e[1])>-1);var i=parseInt(d[0],10);i=(isNaN(i)?0:i);i=((g||h)&&i==12?0:i)+(h?12:0);var j=parseInt(d[1],10);j=(isNaN(j)?0:j);var k=(d.length>=3?parseInt(d[2],10):0);k=(isNaN(k)||!this._get(a,'showSeconds')?0:k);return this._constrainTime(a,[i,j,k])}return null},_constrainTime:function(a,b){var c=(b!=null);if(!c){var d=this._determineTime(a,this._get(a,'defaultTime'))||new Date();b=[d.getHours(),d.getMinutes(),d.getSeconds()]}var e=false;var f=this._get(a,'timeSteps');for(var i=0;i<f.length;i++){if(e){b[i]=0}else if(f[i]>1){b[i]=Math.round(b[i]/f[i])*f[i];e=true}}return b},_showTime:function(a){var b=this._get(a,'show24Hours');var c=this._get(a,'separator');var d=(this._formatNumber(b?a._selectedHour:((a._selectedHour+11)%12)+1)+c+this._formatNumber(a._selectedMinute)+(this._get(a,'showSeconds')?c+this._formatNumber(a._selectedSecond):'')+(b?'':this._get(a,'ampmPrefix')+this._get(a,'ampmNames')[(a._selectedHour<12?0:1)]));this._setValue(a,d);this._showField(a)},_showField:function(a){var b=a.input[0];if(a.input.is(':hidden')||$.timeEntry._lastInput!=b){return}var c=this._get(a,'separator');var d=c.length+2;var e=(a._field!=a._ampmField?(a._field*d):(a._ampmField*d)-c.length+this._get(a,'ampmPrefix').length);var f=e+(a._field!=a._ampmField?2:this._get(a,'ampmNames')[0].length);if(b.setSelectionRange){b.setSelectionRange(e,f)}else if(b.createTextRange){var g=b.createTextRange();g.moveStart('character',e);g.moveEnd('character',f-a.input.val().length);g.select()}if(!b.disabled){b.focus()}},_formatNumber:function(a){return(a<10?'0':'')+a},_setValue:function(a,b){if(b!=a.input.val()){a.input.val(b).trigger('change')}},_changeField:function(a,b,c){var d=(a.input.val()==''||a._field==(b==-1?0:Math.max(1,a._secondField,a._ampmField)));if(!d){a._field+=b}this._showField(a);a._lastChr='';$.data(a.input[0],m,a);return(d&&c)},_adjustField:function(a,b){if(a.input.val()==''){b=0}var c=this._get(a,'timeSteps');this._setTime(a,new Date(0,0,0,a._selectedHour+(a._field==0?b*c[0]:0)+(a._field==a._ampmField?b*12:0),a._selectedMinute+(a._field==1?b*c[1]:0),a._selectedSecond+(a._field==a._secondField?b*c[2]:0)))},_setTime:function(a,b){b=this._determineTime(a,b);var c=this._constrainTime(a,b?[b.getHours(),b.getMinutes(),b.getSeconds()]:null);b=new Date(0,0,0,c[0],c[1],c[2]);var b=this._normaliseTime(b);var d=this._normaliseTime(this._determineTime(a,this._get(a,'minTime')));var e=this._normaliseTime(this._determineTime(a,this._get(a,'maxTime')));b=(d&&b<d?d:(e&&b>e?e:b));var f=this._get(a,'beforeSetTime');if(f){b=f.apply(a.input[0],[this._getTimeTimeEntry(a.input[0]),b,d,e])}a._selectedHour=b.getHours();a._selectedMinute=b.getMinutes();a._selectedSecond=b.getSeconds();this._showTime(a);$.data(a.input[0],m,a)},_normaliseTime:function(a){if(!a){return null}a.setFullYear(1900);a.setMonth(0);a.setDate(0);return a},_determineTime:function(i,j){var k=function(a){var b=new Date();b.setTime(b.getTime()+a*1000);return b};var l=function(a){var b=$.timeEntry._extractTime(i,a);var c=new Date();var d=(b?b[0]:c.getHours());var e=(b?b[1]:c.getMinutes());var f=(b?b[2]:c.getSeconds());if(!b){var g=/([+-]?[0-9]+)\\s*(s|S|m|M|h|H)?/g;var h=g.exec(a);while(h){switch(h[2]||'s'){case's':case'S':f+=parseInt(h[1],10);break;case'm':case'M':e+=parseInt(h[1],10);break;case'h':case'H':d+=parseInt(h[1],10);break}h=g.exec(a)}}c=new Date(0,0,10,d,e,f,0);if(/^!/.test(a)){if(c.getDate()>10){c=new Date(0,0,10,23,59,59)}else if(c.getDate()<10){c=new Date(0,0,10,0,0,0)}}return c};return(j?(typeof j=='string'?l(j):(typeof j=='number'?k(j):j)):null)},_handleKeyPress:function(a,b){if(b==this._get(a,'separator')){this._changeField(a,+1,false)}else if(b>='0'&&b<='9'){var c=parseInt(b,10);var d=parseInt(a._lastChr+b,10);var e=this._get(a,'show24Hours');var f=(a._field!=0?a._selectedHour:(e?(d<24?d:c):(d>=1&&d<=12?d:(c>0?c:a._selectedHour))%12+(a._selectedHour>=12?12:0)));var g=(a._field!=1?a._selectedMinute:(d<60?d:c));var h=(a._field!=a._secondField?a._selectedSecond:(d<60?d:c));var i=this._constrainTime(a,[f,g,h]);this._setTime(a,new Date(0,0,0,i[0],i[1],i[2]));a._lastChr=b}else if(!this._get(a,'show24Hours')){b=b.toLowerCase();var j=this._get(a,'ampmNames');if((b==j[0].substring(0,1).toLowerCase()&&a._selectedHour>=12)||(b==j[1].substring(0,1).toLowerCase()&&a._selectedHour<12)){var k=a._field;a._field=a._ampmField;this._adjustField(a,+1);a._field=k;this._showField(a)}}}});function extendRemove(a,b){$.extend(a,b);for(var c in b){if(b[c]==null){a[c]=null}}return a}var n=['getOffset','getTime','isDisabled'];$.fn.timeEntry=function(c){var d=Array.prototype.slice.call(arguments,1);if(typeof c=='string'&&$.inArray(c,n)>-1){return $.timeEntry['_'+c+'TimeEntry'].apply($.timeEntry,[this[0]].concat(d))}return this.each(function(){var a=this.nodeName.toLowerCase();if(a=='input'){if(typeof c=='string'){$.timeEntry['_'+c+'TimeEntry'].apply($.timeEntry,[this].concat(d))}else{var b=($.fn.metadata?$(this).metadata():{});$.timeEntry._connectTimeEntry(this,$.extend(b,c))}}})};$.timeEntry=new TimeEntry()})(jQuery);","/*\n * File:        jquery.dataTables.min.js\n * Version:     1.9.4\n * Author:      Allan Jardine (www.sprymedia.co.uk)\n * Info:        www.datatables.net\n * \n * Copyright 2008-2012 Allan Jardine, all rights reserved.\n *\n * This source file is free software, under either the GPL v2 license or a\n * BSD style license, available at:\n *   http://datatables.net/license_gpl2\n *   http://datatables.net/license_bsd\n * \n * This source file is distributed in the hope that it will be useful, but \n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY \n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n */\n(function(X,l,n){var L=function(h){var j=function(e){function o(a,b){var c=j.defaults.columns,d=a.aoColumns.length,c=h.extend({},j.models.oColumn,c,{sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,nTh:b?b:l.createElement(\"th\"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:\"\",aDataSort:c.aDataSort?c.aDataSort:[d],mData:c.mData?c.oDefaults:d});a.aoColumns.push(c);if(a.aoPreSearchCols[d]===n||null===a.aoPreSearchCols[d])a.aoPreSearchCols[d]=h.extend({},j.models.oSearch);else if(c=a.aoPreSearchCols[d],\nc.bRegex===n&&(c.bRegex=!0),c.bSmart===n&&(c.bSmart=!0),c.bCaseInsensitive===n)c.bCaseInsensitive=!0;m(a,d,null)}function m(a,b,c){var d=a.aoColumns[b];c!==n&&null!==c&&(c.mDataProp&&!c.mData&&(c.mData=c.mDataProp),c.sType!==n&&(d.sType=c.sType,d._bAutoType=!1),h.extend(d,c),p(d,c,\"sWidth\",\"sWidthOrig\"),c.iDataSort!==n&&(d.aDataSort=[c.iDataSort]),p(d,c,\"aDataSort\"));var i=d.mRender?Q(d.mRender):null,f=Q(d.mData);d.fnGetData=function(a,b){var c=f(a,b);return d.mRender&&b&&\"\"!==b?i(c,b,a):c};d.fnSetData=\nL(d.mData);a.oFeatures.bSort||(d.bSortable=!1);!d.bSortable||-1==h.inArray(\"asc\",d.asSorting)&&-1==h.inArray(\"desc\",d.asSorting)?(d.sSortingClass=a.oClasses.sSortableNone,d.sSortingClassJUI=\"\"):-1==h.inArray(\"asc\",d.asSorting)&&-1==h.inArray(\"desc\",d.asSorting)?(d.sSortingClass=a.oClasses.sSortable,d.sSortingClassJUI=a.oClasses.sSortJUI):-1!=h.inArray(\"asc\",d.asSorting)&&-1==h.inArray(\"desc\",d.asSorting)?(d.sSortingClass=a.oClasses.sSortableAsc,d.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed):-1==\nh.inArray(\"asc\",d.asSorting)&&-1!=h.inArray(\"desc\",d.asSorting)&&(d.sSortingClass=a.oClasses.sSortableDesc,d.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed)}function k(a){if(!1===a.oFeatures.bAutoWidth)return!1;da(a);for(var b=0,c=a.aoColumns.length;b<c;b++)a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}function G(a,b){var c=r(a,\"bVisible\");return\"number\"===typeof c[b]?c[b]:null}function R(a,b){var c=r(a,\"bVisible\"),c=h.inArray(b,c);return-1!==c?c:null}function t(a){return r(a,\"bVisible\").length}\nfunction r(a,b){var c=[];h.map(a.aoColumns,function(a,i){a[b]&&c.push(i)});return c}function B(a){for(var b=j.ext.aTypes,c=b.length,d=0;d<c;d++){var i=b[d](a);if(null!==i)return i}return\"string\"}function u(a,b){for(var c=b.split(\",\"),d=[],i=0,f=a.aoColumns.length;i<f;i++)for(var g=0;g<f;g++)if(a.aoColumns[i].sName==c[g]){d.push(g);break}return d}function M(a){for(var b=\"\",c=0,d=a.aoColumns.length;c<d;c++)b+=a.aoColumns[c].sName+\",\";return b.length==d?\"\":b.slice(0,-1)}function ta(a,b,c,d){var i,f,\ng,e,w;if(b)for(i=b.length-1;0<=i;i--){var j=b[i].aTargets;h.isArray(j)||D(a,1,\"aTargets must be an array of targets, not a \"+typeof j);f=0;for(g=j.length;f<g;f++)if(\"number\"===typeof j[f]&&0<=j[f]){for(;a.aoColumns.length<=j[f];)o(a);d(j[f],b[i])}else if(\"number\"===typeof j[f]&&0>j[f])d(a.aoColumns.length+j[f],b[i]);else if(\"string\"===typeof j[f]){e=0;for(w=a.aoColumns.length;e<w;e++)(\"_all\"==j[f]||h(a.aoColumns[e].nTh).hasClass(j[f]))&&d(e,b[i])}}if(c){i=0;for(a=c.length;i<a;i++)d(i,c[i])}}function H(a,\nb){var c;c=h.isArray(b)?b.slice():h.extend(!0,{},b);var d=a.aoData.length,i=h.extend(!0,{},j.models.oRow);i._aData=c;a.aoData.push(i);for(var f,i=0,g=a.aoColumns.length;i<g;i++)c=a.aoColumns[i],\"function\"===typeof c.fnRender&&c.bUseRendered&&null!==c.mData?F(a,d,i,S(a,d,i)):F(a,d,i,v(a,d,i)),c._bAutoType&&\"string\"!=c.sType&&(f=v(a,d,i,\"type\"),null!==f&&\"\"!==f&&(f=B(f),null===c.sType?c.sType=f:c.sType!=f&&\"html\"!=c.sType&&(c.sType=\"string\")));a.aiDisplayMaster.push(d);a.oFeatures.bDeferRender||ea(a,\nd);return d}function ua(a){var b,c,d,i,f,g,e;if(a.bDeferLoading||null===a.sAjaxSource)for(b=a.nTBody.firstChild;b;){if(\"TR\"==b.nodeName.toUpperCase()){c=a.aoData.length;b._DT_RowIndex=c;a.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:b}));a.aiDisplayMaster.push(c);f=b.firstChild;for(d=0;f;){g=f.nodeName.toUpperCase();if(\"TD\"==g||\"TH\"==g)F(a,c,d,h.trim(f.innerHTML)),d++;f=f.nextSibling}}b=b.nextSibling}i=T(a);d=[];b=0;for(c=i.length;b<c;b++)for(f=i[b].firstChild;f;)g=f.nodeName.toUpperCase(),(\"TD\"==\ng||\"TH\"==g)&&d.push(f),f=f.nextSibling;c=0;for(i=a.aoColumns.length;c<i;c++){e=a.aoColumns[c];null===e.sTitle&&(e.sTitle=e.nTh.innerHTML);var w=e._bAutoType,o=\"function\"===typeof e.fnRender,k=null!==e.sClass,n=e.bVisible,m,p;if(w||o||k||!n){g=0;for(b=a.aoData.length;g<b;g++)f=a.aoData[g],m=d[g*i+c],w&&\"string\"!=e.sType&&(p=v(a,g,c,\"type\"),\"\"!==p&&(p=B(p),null===e.sType?e.sType=p:e.sType!=p&&\"html\"!=e.sType&&(e.sType=\"string\"))),e.mRender?m.innerHTML=v(a,g,c,\"display\"):e.mData!==c&&(m.innerHTML=v(a,\ng,c,\"display\")),o&&(p=S(a,g,c),m.innerHTML=p,e.bUseRendered&&F(a,g,c,p)),k&&(m.className+=\" \"+e.sClass),n?f._anHidden[c]=null:(f._anHidden[c]=m,m.parentNode.removeChild(m)),e.fnCreatedCell&&e.fnCreatedCell.call(a.oInstance,m,v(a,g,c,\"display\"),f._aData,g,c)}}if(0!==a.aoRowCreatedCallback.length){b=0;for(c=a.aoData.length;b<c;b++)f=a.aoData[b],A(a,\"aoRowCreatedCallback\",null,[f.nTr,f._aData,b])}}function I(a,b){return b._DT_RowIndex!==n?b._DT_RowIndex:null}function fa(a,b,c){for(var b=J(a,b),d=0,a=\na.aoColumns.length;d<a;d++)if(b[d]===c)return d;return-1}function Y(a,b,c,d){for(var i=[],f=0,g=d.length;f<g;f++)i.push(v(a,b,d[f],c));return i}function v(a,b,c,d){var i=a.aoColumns[c];if((c=i.fnGetData(a.aoData[b]._aData,d))===n)return a.iDrawError!=a.iDraw&&null===i.sDefaultContent&&(D(a,0,\"Requested unknown parameter \"+(\"function\"==typeof i.mData?\"{mData function}\":\"'\"+i.mData+\"'\")+\" from the data source for row \"+b),a.iDrawError=a.iDraw),i.sDefaultContent;if(null===c&&null!==i.sDefaultContent)c=\ni.sDefaultContent;else if(\"function\"===typeof c)return c();return\"display\"==d&&null===c?\"\":c}function F(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function Q(a){if(null===a)return function(){return null};if(\"function\"===typeof a)return function(b,d,i){return a(b,d,i)};if(\"string\"===typeof a&&(-1!==a.indexOf(\".\")||-1!==a.indexOf(\"[\"))){var b=function(a,d,i){var f=i.split(\".\"),g;if(\"\"!==i){var e=0;for(g=f.length;e<g;e++){if(i=f[e].match(U)){f[e]=f[e].replace(U,\"\");\"\"!==f[e]&&(a=a[f[e]]);\ng=[];f.splice(0,e+1);for(var f=f.join(\".\"),e=0,h=a.length;e<h;e++)g.push(b(a[e],d,f));a=i[0].substring(1,i[0].length-1);a=\"\"===a?g:g.join(a);break}if(null===a||a[f[e]]===n)return n;a=a[f[e]]}}return a};return function(c,d){return b(c,d,a)}}return function(b){return b[a]}}function L(a){if(null===a)return function(){};if(\"function\"===typeof a)return function(b,d){a(b,\"set\",d)};if(\"string\"===typeof a&&(-1!==a.indexOf(\".\")||-1!==a.indexOf(\"[\"))){var b=function(a,d,i){var i=i.split(\".\"),f,g,e=0;for(g=\ni.length-1;e<g;e++){if(f=i[e].match(U)){i[e]=i[e].replace(U,\"\");a[i[e]]=[];f=i.slice();f.splice(0,e+1);g=f.join(\".\");for(var h=0,j=d.length;h<j;h++)f={},b(f,d[h],g),a[i[e]].push(f);return}if(null===a[i[e]]||a[i[e]]===n)a[i[e]]={};a=a[i[e]]}a[i[i.length-1].replace(U,\"\")]=d};return function(c,d){return b(c,d,a)}}return function(b,d){b[a]=d}}function Z(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++)b.push(a.aoData[d]._aData);return b}function ga(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,\na.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);y(a)}function ha(a,b){for(var c=-1,d=0,i=a.length;d<i;d++)a[d]==b?c=d:a[d]>b&&a[d]--; -1!=c&&a.splice(c,1)}function S(a,b,c){var d=a.aoColumns[c];return d.fnRender({iDataRow:b,iDataColumn:c,oSettings:a,aData:a.aoData[b]._aData,mDataProp:d.mData},v(a,b,c,\"display\"))}function ea(a,b){var c=a.aoData[b],d;if(null===c.nTr){c.nTr=l.createElement(\"tr\");c.nTr._DT_RowIndex=b;c._aData.DT_RowId&&(c.nTr.id=c._aData.DT_RowId);c._aData.DT_RowClass&&\n(c.nTr.className=c._aData.DT_RowClass);for(var i=0,f=a.aoColumns.length;i<f;i++){var g=a.aoColumns[i];d=l.createElement(g.sCellType);d.innerHTML=\"function\"===typeof g.fnRender&&(!g.bUseRendered||null===g.mData)?S(a,b,i):v(a,b,i,\"display\");null!==g.sClass&&(d.className=g.sClass);g.bVisible?(c.nTr.appendChild(d),c._anHidden[i]=null):c._anHidden[i]=d;g.fnCreatedCell&&g.fnCreatedCell.call(a.oInstance,d,v(a,b,i,\"display\"),c._aData,b,i)}A(a,\"aoRowCreatedCallback\",null,[c.nTr,c._aData,b])}}function va(a){var b,\nc,d;if(0!==h(\"th, td\",a.nTHead).length){b=0;for(d=a.aoColumns.length;b<d;b++)if(c=a.aoColumns[b].nTh,c.setAttribute(\"role\",\"columnheader\"),a.aoColumns[b].bSortable&&(c.setAttribute(\"tabindex\",a.iTabIndex),c.setAttribute(\"aria-controls\",a.sTableId)),null!==a.aoColumns[b].sClass&&h(c).addClass(a.aoColumns[b].sClass),a.aoColumns[b].sTitle!=c.innerHTML)c.innerHTML=a.aoColumns[b].sTitle}else{var i=l.createElement(\"tr\");b=0;for(d=a.aoColumns.length;b<d;b++)c=a.aoColumns[b].nTh,c.innerHTML=a.aoColumns[b].sTitle,\nc.setAttribute(\"tabindex\",\"0\"),null!==a.aoColumns[b].sClass&&h(c).addClass(a.aoColumns[b].sClass),i.appendChild(c);h(a.nTHead).html(\"\")[0].appendChild(i);V(a.aoHeader,a.nTHead)}h(a.nTHead).children(\"tr\").attr(\"role\",\"row\");if(a.bJUI){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;i=l.createElement(\"div\");i.className=a.oClasses.sSortJUIWrapper;h(c).contents().appendTo(i);var f=l.createElement(\"span\");f.className=a.oClasses.sSortIcon;i.appendChild(f);c.appendChild(i)}}if(a.oFeatures.bSort)for(b=\n0;b<a.aoColumns.length;b++)!1!==a.aoColumns[b].bSortable?ia(a,a.aoColumns[b].nTh,b):h(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone);\"\"!==a.oClasses.sFooterTH&&h(a.nTFoot).children(\"tr\").children(\"th\").addClass(a.oClasses.sFooterTH);if(null!==a.nTFoot){c=N(a,null,a.aoFooter);b=0;for(d=a.aoColumns.length;b<d;b++)c[b]&&(a.aoColumns[b].nTf=c[b],a.aoColumns[b].sClass&&h(c[b]).addClass(a.aoColumns[b].sClass))}}function W(a,b,c){var d,i,f,g=[],e=[],h=a.aoColumns.length,j;c===n&&(c=!1);d=0;for(i=\nb.length;d<i;d++){g[d]=b[d].slice();g[d].nTr=b[d].nTr;for(f=h-1;0<=f;f--)!a.aoColumns[f].bVisible&&!c&&g[d].splice(f,1);e.push([])}d=0;for(i=g.length;d<i;d++){if(a=g[d].nTr)for(;f=a.firstChild;)a.removeChild(f);f=0;for(b=g[d].length;f<b;f++)if(j=h=1,e[d][f]===n){a.appendChild(g[d][f].cell);for(e[d][f]=1;g[d+h]!==n&&g[d][f].cell==g[d+h][f].cell;)e[d+h][f]=1,h++;for(;g[d][f+j]!==n&&g[d][f].cell==g[d][f+j].cell;){for(c=0;c<h;c++)e[d+c][f+j]=1;j++}g[d][f].cell.rowSpan=h;g[d][f].cell.colSpan=j}}}function x(a){var b=\nA(a,\"aoPreDrawCallback\",\"preDraw\",[a]);if(-1!==h.inArray(!1,b))E(a,!1);else{var c,d,b=[],i=0,f=a.asStripeClasses.length;c=a.aoOpenRows.length;a.bDrawing=!0;a.iInitDisplayStart!==n&&-1!=a.iInitDisplayStart&&(a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart,a.iInitDisplayStart=-1,y(a));if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++;else if(a.oFeatures.bServerSide){if(!a.bDestroying&&!wa(a))return}else a.iDraw++;if(0!==a.aiDisplay.length){var g=\na._iDisplayStart;d=a._iDisplayEnd;a.oFeatures.bServerSide&&(g=0,d=a.aoData.length);for(;g<d;g++){var e=a.aoData[a.aiDisplay[g]];null===e.nTr&&ea(a,a.aiDisplay[g]);var j=e.nTr;if(0!==f){var o=a.asStripeClasses[i%f];e._sRowStripe!=o&&(h(j).removeClass(e._sRowStripe).addClass(o),e._sRowStripe=o)}A(a,\"aoRowCallback\",null,[j,a.aoData[a.aiDisplay[g]]._aData,i,g]);b.push(j);i++;if(0!==c)for(e=0;e<c;e++)if(j==a.aoOpenRows[e].nParent){b.push(a.aoOpenRows[e].nTr);break}}}else b[0]=l.createElement(\"tr\"),a.asStripeClasses[0]&&\n(b[0].className=a.asStripeClasses[0]),c=a.oLanguage,f=c.sZeroRecords,1==a.iDraw&&null!==a.sAjaxSource&&!a.oFeatures.bServerSide?f=c.sLoadingRecords:c.sEmptyTable&&0===a.fnRecordsTotal()&&(f=c.sEmptyTable),c=l.createElement(\"td\"),c.setAttribute(\"valign\",\"top\"),c.colSpan=t(a),c.className=a.oClasses.sRowEmpty,c.innerHTML=ja(a,f),b[i].appendChild(c);A(a,\"aoHeaderCallback\",\"header\",[h(a.nTHead).children(\"tr\")[0],Z(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);A(a,\"aoFooterCallback\",\"footer\",[h(a.nTFoot).children(\"tr\")[0],\nZ(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);i=l.createDocumentFragment();c=l.createDocumentFragment();if(a.nTBody){f=a.nTBody.parentNode;c.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered)for(;c=a.nTBody.firstChild;)a.nTBody.removeChild(c);c=0;for(d=b.length;c<d;c++)i.appendChild(b[c]);a.nTBody.appendChild(i);null!==f&&f.appendChild(a.nTBody)}A(a,\"aoDrawCallback\",\"draw\",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1;a.oFeatures.bServerSide&&(E(a,!1),\na._bInitComplete||$(a))}}function aa(a){a.oFeatures.bSort?O(a,a.oPreviousSearch):a.oFeatures.bFilter?K(a,a.oPreviousSearch):(y(a),x(a))}function xa(a){var b=h(\"<div></div>\")[0];a.nTable.parentNode.insertBefore(b,a.nTable);a.nTableWrapper=h('<div id=\"'+a.sTableId+'_wrapper\" class=\"'+a.oClasses.sWrapper+'\" role=\"grid\"></div>')[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var c=a.nTableWrapper,d=a.sDom.split(\"\"),i,f,g,e,w,o,k,m=0;m<d.length;m++){f=0;g=d[m];if(\"<\"==g){e=h(\"<div></div>\")[0];w=d[m+\n1];if(\"'\"==w||'\"'==w){o=\"\";for(k=2;d[m+k]!=w;)o+=d[m+k],k++;\"H\"==o?o=a.oClasses.sJUIHeader:\"F\"==o&&(o=a.oClasses.sJUIFooter);-1!=o.indexOf(\".\")?(w=o.split(\".\"),e.id=w[0].substr(1,w[0].length-1),e.className=w[1]):\"#\"==o.charAt(0)?e.id=o.substr(1,o.length-1):e.className=o;m+=k}c.appendChild(e);c=e}else if(\">\"==g)c=c.parentNode;else if(\"l\"==g&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange)i=ya(a),f=1;else if(\"f\"==g&&a.oFeatures.bFilter)i=za(a),f=1;else if(\"r\"==g&&a.oFeatures.bProcessing)i=Aa(a),f=\n1;else if(\"t\"==g)i=Ba(a),f=1;else if(\"i\"==g&&a.oFeatures.bInfo)i=Ca(a),f=1;else if(\"p\"==g&&a.oFeatures.bPaginate)i=Da(a),f=1;else if(0!==j.ext.aoFeatures.length){e=j.ext.aoFeatures;k=0;for(w=e.length;k<w;k++)if(g==e[k].cFeature){(i=e[k].fnInit(a))&&(f=1);break}}1==f&&null!==i&&(\"object\"!==typeof a.aanFeatures[g]&&(a.aanFeatures[g]=[]),a.aanFeatures[g].push(i),c.appendChild(i))}b.parentNode.replaceChild(a.nTableWrapper,b)}function V(a,b){var c=h(b).children(\"tr\"),d,i,f,g,e,j,o,k,m,p;a.splice(0,a.length);\nf=0;for(j=c.length;f<j;f++)a.push([]);f=0;for(j=c.length;f<j;f++){d=c[f];for(i=d.firstChild;i;){if(\"TD\"==i.nodeName.toUpperCase()||\"TH\"==i.nodeName.toUpperCase()){k=1*i.getAttribute(\"colspan\");m=1*i.getAttribute(\"rowspan\");k=!k||0===k||1===k?1:k;m=!m||0===m||1===m?1:m;g=0;for(e=a[f];e[g];)g++;o=g;p=1===k?!0:!1;for(e=0;e<k;e++)for(g=0;g<m;g++)a[f+g][o+e]={cell:i,unique:p},a[f+g].nTr=d}i=i.nextSibling}}}function N(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],V(c,b)));for(var b=0,i=c.length;b<i;b++)for(var f=\n0,g=c[b].length;f<g;f++)if(c[b][f].unique&&(!d[f]||!a.bSortCellsTop))d[f]=c[b][f].cell;return d}function wa(a){if(a.bAjaxDataGet){a.iDraw++;E(a,!0);var b=Ea(a);ka(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(b){Fa(a,b)},a);return!1}return!0}function Ea(a){var b=a.aoColumns.length,c=[],d,i,f,g;c.push({name:\"sEcho\",value:a.iDraw});c.push({name:\"iColumns\",value:b});c.push({name:\"sColumns\",value:M(a)});c.push({name:\"iDisplayStart\",value:a._iDisplayStart});c.push({name:\"iDisplayLength\",\nvalue:!1!==a.oFeatures.bPaginate?a._iDisplayLength:-1});for(f=0;f<b;f++)d=a.aoColumns[f].mData,c.push({name:\"mDataProp_\"+f,value:\"function\"===typeof d?\"function\":d});if(!1!==a.oFeatures.bFilter){c.push({name:\"sSearch\",value:a.oPreviousSearch.sSearch});c.push({name:\"bRegex\",value:a.oPreviousSearch.bRegex});for(f=0;f<b;f++)c.push({name:\"sSearch_\"+f,value:a.aoPreSearchCols[f].sSearch}),c.push({name:\"bRegex_\"+f,value:a.aoPreSearchCols[f].bRegex}),c.push({name:\"bSearchable_\"+f,value:a.aoColumns[f].bSearchable})}if(!1!==\na.oFeatures.bSort){var e=0;d=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(f=0;f<d.length;f++){i=a.aoColumns[d[f][0]].aDataSort;for(g=0;g<i.length;g++)c.push({name:\"iSortCol_\"+e,value:i[g]}),c.push({name:\"sSortDir_\"+e,value:d[f][1]}),e++}c.push({name:\"iSortingCols\",value:e});for(f=0;f<b;f++)c.push({name:\"bSortable_\"+f,value:a.aoColumns[f].bSortable})}return c}function ka(a,b){A(a,\"aoServerParams\",\"serverParams\",[b])}function Fa(a,b){if(b.sEcho!==n){if(1*b.sEcho<\na.iDraw)return;a.iDraw=1*b.sEcho}(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered))&&ga(a);a._iRecordsTotal=parseInt(b.iTotalRecords,10);a._iRecordsDisplay=parseInt(b.iTotalDisplayRecords,10);var c=M(a),c=b.sColumns!==n&&\"\"!==c&&b.sColumns!=c,d;c&&(d=u(a,b.sColumns));for(var i=Q(a.sAjaxDataProp)(b),f=0,g=i.length;f<g;f++)if(c){for(var e=[],h=0,j=a.aoColumns.length;h<j;h++)e.push(i[f][d[h]]);H(a,e)}else H(a,i[f]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;x(a);a.bAjaxDataGet=\n!0;E(a,!1)}function za(a){var b=a.oPreviousSearch,c=a.oLanguage.sSearch,c=-1!==c.indexOf(\"_INPUT_\")?c.replace(\"_INPUT_\",'<input type=\"text\" />'):\"\"===c?'<input type=\"text\" />':c+' <input type=\"text\" />',d=l.createElement(\"div\");d.className=a.oClasses.sFilter;d.innerHTML=\"<label>\"+c+\"</label>\";a.aanFeatures.f||(d.id=a.sTableId+\"_filter\");c=h('input[type=\"text\"]',d);d._DT_Input=c[0];c.val(b.sSearch.replace('\"',\"&quot;\"));c.bind(\"keyup.DT\",function(){for(var c=a.aanFeatures.f,d=this.value===\"\"?\"\":this.value,\ng=0,e=c.length;g<e;g++)c[g]!=h(this).parents(\"div.dataTables_filter\")[0]&&h(c[g]._DT_Input).val(d);d!=b.sSearch&&K(a,{sSearch:d,bRegex:b.bRegex,bSmart:b.bSmart,bCaseInsensitive:b.bCaseInsensitive})});c.attr(\"aria-controls\",a.sTableId).bind(\"keypress.DT\",function(a){if(a.keyCode==13)return false});return d}function K(a,b,c){var d=a.oPreviousSearch,i=a.aoPreSearchCols,f=function(a){d.sSearch=a.sSearch;d.bRegex=a.bRegex;d.bSmart=a.bSmart;d.bCaseInsensitive=a.bCaseInsensitive};if(a.oFeatures.bServerSide)f(b);\nelse{Ga(a,b.sSearch,c,b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<a.aoPreSearchCols.length;b++)Ha(a,i[b].sSearch,b,i[b].bRegex,i[b].bSmart,i[b].bCaseInsensitive);Ia(a)}a.bFiltered=!0;h(a.oInstance).trigger(\"filter\",a);a._iDisplayStart=0;y(a);x(a);la(a,0)}function Ia(a){for(var b=j.ext.afnFiltering,c=r(a,\"bSearchable\"),d=0,i=b.length;d<i;d++)for(var f=0,g=0,e=a.aiDisplay.length;g<e;g++){var h=a.aiDisplay[g-f];b[d](a,Y(a,h,\"filter\",c),h)||(a.aiDisplay.splice(g-f,1),f++)}}function Ha(a,b,c,\nd,i,f){if(\"\"!==b)for(var g=0,b=ma(b,d,i,f),d=a.aiDisplay.length-1;0<=d;d--)i=Ja(v(a,a.aiDisplay[d],c,\"filter\"),a.aoColumns[c].sType),b.test(i)||(a.aiDisplay.splice(d,1),g++)}function Ga(a,b,c,d,i,f){d=ma(b,d,i,f);i=a.oPreviousSearch;c||(c=0);0!==j.ext.afnFiltering.length&&(c=1);if(0>=b.length)a.aiDisplay.splice(0,a.aiDisplay.length),a.aiDisplay=a.aiDisplayMaster.slice();else if(a.aiDisplay.length==a.aiDisplayMaster.length||i.sSearch.length>b.length||1==c||0!==b.indexOf(i.sSearch)){a.aiDisplay.splice(0,\na.aiDisplay.length);la(a,1);for(b=0;b<a.aiDisplayMaster.length;b++)d.test(a.asDataSearch[b])&&a.aiDisplay.push(a.aiDisplayMaster[b])}else for(b=c=0;b<a.asDataSearch.length;b++)d.test(a.asDataSearch[b])||(a.aiDisplay.splice(b-c,1),c++)}function la(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch=[];for(var c=r(a,\"bSearchable\"),d=1===b?a.aiDisplayMaster:a.aiDisplay,i=0,f=d.length;i<f;i++)a.asDataSearch[i]=na(a,Y(a,d[i],\"filter\",c))}}function na(a,b){var c=b.join(\"  \");-1!==c.indexOf(\"&\")&&(c=h(\"<div>\").html(c).text());\nreturn c.replace(/[\\n\\r]/g,\" \")}function ma(a,b,c,d){if(c)return a=b?a.split(\" \"):oa(a).split(\" \"),a=\"^(?=.*?\"+a.join(\")(?=.*?\")+\").*$\",RegExp(a,d?\"i\":\"\");a=b?a:oa(a);return RegExp(a,d?\"i\":\"\")}function Ja(a,b){return\"function\"===typeof j.ext.ofnSearch[b]?j.ext.ofnSearch[b](a):null===a?\"\":\"html\"==b?a.replace(/[\\r\\n]/g,\" \").replace(/<.*?>/g,\"\"):\"string\"===typeof a?a.replace(/[\\r\\n]/g,\" \"):a}function oa(a){return a.replace(RegExp(\"(\\\\/|\\\\.|\\\\*|\\\\+|\\\\?|\\\\||\\\\(|\\\\)|\\\\[|\\\\]|\\\\{|\\\\}|\\\\\\\\|\\\\$|\\\\^|\\\\-)\",\"g\"),\n\"\\\\$1\")}function Ca(a){var b=l.createElement(\"div\");b.className=a.oClasses.sInfo;a.aanFeatures.i||(a.aoDrawCallback.push({fn:Ka,sName:\"information\"}),b.id=a.sTableId+\"_info\");a.nTable.setAttribute(\"aria-describedby\",a.sTableId+\"_info\");return b}function Ka(a){if(a.oFeatures.bInfo&&0!==a.aanFeatures.i.length){var b=a.oLanguage,c=a._iDisplayStart+1,d=a.fnDisplayEnd(),i=a.fnRecordsTotal(),f=a.fnRecordsDisplay(),g;g=0===f?b.sInfoEmpty:b.sInfo;f!=i&&(g+=\" \"+b.sInfoFiltered);g+=b.sInfoPostFix;g=ja(a,g);\nnull!==b.fnInfoCallback&&(g=b.fnInfoCallback.call(a.oInstance,a,c,d,i,f,g));a=a.aanFeatures.i;b=0;for(c=a.length;b<c;b++)h(a[b]).html(g)}}function ja(a,b){var c=a.fnFormatNumber(a._iDisplayStart+1),d=a.fnDisplayEnd(),d=a.fnFormatNumber(d),i=a.fnRecordsDisplay(),i=a.fnFormatNumber(i),f=a.fnRecordsTotal(),f=a.fnFormatNumber(f);a.oScroll.bInfinite&&(c=a.fnFormatNumber(1));return b.replace(/_START_/g,c).replace(/_END_/g,d).replace(/_TOTAL_/g,i).replace(/_MAX_/g,f)}function ba(a){var b,c,d=a.iInitDisplayStart;\nif(!1===a.bInitialised)setTimeout(function(){ba(a)},200);else{xa(a);va(a);W(a,a.aoHeader);a.nTFoot&&W(a,a.aoFooter);E(a,!0);a.oFeatures.bAutoWidth&&da(a);b=0;for(c=a.aoColumns.length;b<c;b++)null!==a.aoColumns[b].sWidth&&(a.aoColumns[b].nTh.style.width=q(a.aoColumns[b].sWidth));a.oFeatures.bSort?O(a):a.oFeatures.bFilter?K(a,a.oPreviousSearch):(a.aiDisplay=a.aiDisplayMaster.slice(),y(a),x(a));null!==a.sAjaxSource&&!a.oFeatures.bServerSide?(c=[],ka(a,c),a.fnServerData.call(a.oInstance,a.sAjaxSource,\nc,function(c){var f=a.sAjaxDataProp!==\"\"?Q(a.sAjaxDataProp)(c):c;for(b=0;b<f.length;b++)H(a,f[b]);a.iInitDisplayStart=d;if(a.oFeatures.bSort)O(a);else{a.aiDisplay=a.aiDisplayMaster.slice();y(a);x(a)}E(a,false);$(a,c)},a)):a.oFeatures.bServerSide||(E(a,!1),$(a))}}function $(a,b){a._bInitComplete=!0;A(a,\"aoInitComplete\",\"init\",[a,b])}function pa(a){var b=j.defaults.oLanguage;!a.sEmptyTable&&(a.sZeroRecords&&\"No data available in table\"===b.sEmptyTable)&&p(a,a,\"sZeroRecords\",\"sEmptyTable\");!a.sLoadingRecords&&\n(a.sZeroRecords&&\"Loading...\"===b.sLoadingRecords)&&p(a,a,\"sZeroRecords\",\"sLoadingRecords\")}function ya(a){if(a.oScroll.bInfinite)return null;var b='<select size=\"1\" '+('name=\"'+a.sTableId+'_length\"')+\">\",c,d,i=a.aLengthMenu;if(2==i.length&&\"object\"===typeof i[0]&&\"object\"===typeof i[1]){c=0;for(d=i[0].length;c<d;c++)b+='<option value=\"'+i[0][c]+'\">'+i[1][c]+\"</option>\"}else{c=0;for(d=i.length;c<d;c++)b+='<option value=\"'+i[c]+'\">'+i[c]+\"</option>\"}b+=\"</select>\";i=l.createElement(\"div\");a.aanFeatures.l||\n(i.id=a.sTableId+\"_length\");i.className=a.oClasses.sLength;i.innerHTML=\"<label>\"+a.oLanguage.sLengthMenu.replace(\"_MENU_\",b)+\"</label>\";h('select option[value=\"'+a._iDisplayLength+'\"]',i).attr(\"selected\",!0);h(\"select\",i).bind(\"change.DT\",function(){var b=h(this).val(),i=a.aanFeatures.l;c=0;for(d=i.length;c<d;c++)i[c]!=this.parentNode&&h(\"select\",i[c]).val(b);a._iDisplayLength=parseInt(b,10);y(a);if(a.fnDisplayEnd()==a.fnRecordsDisplay()){a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength;if(a._iDisplayStart<\n0)a._iDisplayStart=0}if(a._iDisplayLength==-1)a._iDisplayStart=0;x(a)});h(\"select\",i).attr(\"aria-controls\",a.sTableId);return i}function y(a){a._iDisplayEnd=!1===a.oFeatures.bPaginate?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||-1==a._iDisplayLength?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Da(a){if(a.oScroll.bInfinite)return null;var b=l.createElement(\"div\");b.className=a.oClasses.sPaging+a.sPaginationType;j.ext.oPagination[a.sPaginationType].fnInit(a,\nb,function(a){y(a);x(a)});a.aanFeatures.p||a.aoDrawCallback.push({fn:function(a){j.ext.oPagination[a.sPaginationType].fnUpdate(a,function(a){y(a);x(a)})},sName:\"pagination\"});return b}function qa(a,b){var c=a._iDisplayStart;if(\"number\"===typeof b)a._iDisplayStart=b*a._iDisplayLength,a._iDisplayStart>a.fnRecordsDisplay()&&(a._iDisplayStart=0);else if(\"first\"==b)a._iDisplayStart=0;else if(\"previous\"==b)a._iDisplayStart=0<=a._iDisplayLength?a._iDisplayStart-a._iDisplayLength:0,0>a._iDisplayStart&&(a._iDisplayStart=\n0);else if(\"next\"==b)0<=a._iDisplayLength?a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()&&(a._iDisplayStart+=a._iDisplayLength):a._iDisplayStart=0;else if(\"last\"==b)if(0<=a._iDisplayLength){var d=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(d-1)*a._iDisplayLength}else a._iDisplayStart=0;else D(a,0,\"Unknown paging action: \"+b);h(a.oInstance).trigger(\"page\",a);return c!=a._iDisplayStart}function Aa(a){var b=l.createElement(\"div\");a.aanFeatures.r||(b.id=a.sTableId+\n\"_processing\");b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,a.nTable);return b}function E(a,b){if(a.oFeatures.bProcessing)for(var c=a.aanFeatures.r,d=0,i=c.length;d<i;d++)c[d].style.visibility=b?\"visible\":\"hidden\";h(a.oInstance).trigger(\"processing\",[a,b])}function Ba(a){if(\"\"===a.oScroll.sX&&\"\"===a.oScroll.sY)return a.nTable;var b=l.createElement(\"div\"),c=l.createElement(\"div\"),d=l.createElement(\"div\"),i=l.createElement(\"div\"),f=l.createElement(\"div\"),\ng=l.createElement(\"div\"),e=a.nTable.cloneNode(!1),j=a.nTable.cloneNode(!1),o=a.nTable.getElementsByTagName(\"thead\")[0],k=0===a.nTable.getElementsByTagName(\"tfoot\").length?null:a.nTable.getElementsByTagName(\"tfoot\")[0],m=a.oClasses;c.appendChild(d);f.appendChild(g);i.appendChild(a.nTable);b.appendChild(c);b.appendChild(i);d.appendChild(e);e.appendChild(o);null!==k&&(b.appendChild(f),g.appendChild(j),j.appendChild(k));b.className=m.sScrollWrapper;c.className=m.sScrollHead;d.className=m.sScrollHeadInner;\ni.className=m.sScrollBody;f.className=m.sScrollFoot;g.className=m.sScrollFootInner;a.oScroll.bAutoCss&&(c.style.overflow=\"hidden\",c.style.position=\"relative\",f.style.overflow=\"hidden\",i.style.overflow=\"auto\");c.style.border=\"0\";c.style.width=\"100%\";f.style.border=\"0\";d.style.width=\"\"!==a.oScroll.sXInner?a.oScroll.sXInner:\"100%\";e.removeAttribute(\"id\");e.style.marginLeft=\"0\";a.nTable.style.marginLeft=\"0\";null!==k&&(j.removeAttribute(\"id\"),j.style.marginLeft=\"0\");d=h(a.nTable).children(\"caption\");0<\nd.length&&(d=d[0],\"top\"===d._captionSide?e.appendChild(d):\"bottom\"===d._captionSide&&k&&j.appendChild(d));\"\"!==a.oScroll.sX&&(c.style.width=q(a.oScroll.sX),i.style.width=q(a.oScroll.sX),null!==k&&(f.style.width=q(a.oScroll.sX)),h(i).scroll(function(){c.scrollLeft=this.scrollLeft;if(k!==null)f.scrollLeft=this.scrollLeft}));\"\"!==a.oScroll.sY&&(i.style.height=q(a.oScroll.sY));a.aoDrawCallback.push({fn:La,sName:\"scrolling\"});a.oScroll.bInfinite&&h(i).scroll(function(){if(!a.bDrawing&&h(this).scrollTop()!==\n0&&h(this).scrollTop()+h(this).height()>h(a.nTable).height()-a.oScroll.iLoadGap&&a.fnDisplayEnd()<a.fnRecordsDisplay()){qa(a,\"next\");y(a);x(a)}});a.nScrollHead=c;a.nScrollFoot=f;return b}function La(a){var b=a.nScrollHead.getElementsByTagName(\"div\")[0],c=b.getElementsByTagName(\"table\")[0],d=a.nTable.parentNode,i,f,g,e,j,o,k,m,p=[],n=[],l=null!==a.nTFoot?a.nScrollFoot.getElementsByTagName(\"div\")[0]:null,R=null!==a.nTFoot?l.getElementsByTagName(\"table\")[0]:null,r=a.oBrowser.bScrollOversize,s=function(a){k=\na.style;k.paddingTop=\"0\";k.paddingBottom=\"0\";k.borderTopWidth=\"0\";k.borderBottomWidth=\"0\";k.height=0};h(a.nTable).children(\"thead, tfoot\").remove();i=h(a.nTHead).clone()[0];a.nTable.insertBefore(i,a.nTable.childNodes[0]);g=a.nTHead.getElementsByTagName(\"tr\");e=i.getElementsByTagName(\"tr\");null!==a.nTFoot&&(j=h(a.nTFoot).clone()[0],a.nTable.insertBefore(j,a.nTable.childNodes[1]),o=a.nTFoot.getElementsByTagName(\"tr\"),j=j.getElementsByTagName(\"tr\"));\"\"===a.oScroll.sX&&(d.style.width=\"100%\",b.parentNode.style.width=\n\"100%\");var t=N(a,i);i=0;for(f=t.length;i<f;i++)m=G(a,i),t[i].style.width=a.aoColumns[m].sWidth;null!==a.nTFoot&&C(function(a){a.style.width=\"\"},j);a.oScroll.bCollapse&&\"\"!==a.oScroll.sY&&(d.style.height=d.offsetHeight+a.nTHead.offsetHeight+\"px\");i=h(a.nTable).outerWidth();if(\"\"===a.oScroll.sX){if(a.nTable.style.width=\"100%\",r&&(h(\"tbody\",d).height()>d.offsetHeight||\"scroll\"==h(d).css(\"overflow-y\")))a.nTable.style.width=q(h(a.nTable).outerWidth()-a.oScroll.iBarWidth)}else\"\"!==a.oScroll.sXInner?a.nTable.style.width=\nq(a.oScroll.sXInner):i==h(d).width()&&h(d).height()<h(a.nTable).height()?(a.nTable.style.width=q(i-a.oScroll.iBarWidth),h(a.nTable).outerWidth()>i-a.oScroll.iBarWidth&&(a.nTable.style.width=q(i))):a.nTable.style.width=q(i);i=h(a.nTable).outerWidth();C(s,e);C(function(a){p.push(q(h(a).width()))},e);C(function(a,b){a.style.width=p[b]},g);h(e).height(0);null!==a.nTFoot&&(C(s,j),C(function(a){n.push(q(h(a).width()))},j),C(function(a,b){a.style.width=n[b]},o),h(j).height(0));C(function(a,b){a.innerHTML=\n\"\";a.style.width=p[b]},e);null!==a.nTFoot&&C(function(a,b){a.innerHTML=\"\";a.style.width=n[b]},j);if(h(a.nTable).outerWidth()<i){g=d.scrollHeight>d.offsetHeight||\"scroll\"==h(d).css(\"overflow-y\")?i+a.oScroll.iBarWidth:i;if(r&&(d.scrollHeight>d.offsetHeight||\"scroll\"==h(d).css(\"overflow-y\")))a.nTable.style.width=q(g-a.oScroll.iBarWidth);d.style.width=q(g);a.nScrollHead.style.width=q(g);null!==a.nTFoot&&(a.nScrollFoot.style.width=q(g));\"\"===a.oScroll.sX?D(a,1,\"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width.\"):\n\"\"!==a.oScroll.sXInner&&D(a,1,\"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation\")}else d.style.width=q(\"100%\"),a.nScrollHead.style.width=q(\"100%\"),null!==a.nTFoot&&(a.nScrollFoot.style.width=q(\"100%\"));\"\"===a.oScroll.sY&&r&&(d.style.height=q(a.nTable.offsetHeight+a.oScroll.iBarWidth));\"\"!==a.oScroll.sY&&a.oScroll.bCollapse&&(d.style.height=q(a.oScroll.sY),r=\"\"!==a.oScroll.sX&&a.nTable.offsetWidth>\nd.offsetWidth?a.oScroll.iBarWidth:0,a.nTable.offsetHeight<d.offsetHeight&&(d.style.height=q(a.nTable.offsetHeight+r)));r=h(a.nTable).outerWidth();c.style.width=q(r);b.style.width=q(r);c=h(a.nTable).height()>d.clientHeight||\"scroll\"==h(d).css(\"overflow-y\");b.style.paddingRight=c?a.oScroll.iBarWidth+\"px\":\"0px\";null!==a.nTFoot&&(R.style.width=q(r),l.style.width=q(r),l.style.paddingRight=c?a.oScroll.iBarWidth+\"px\":\"0px\");h(d).scroll();if(a.bSorted||a.bFiltered)d.scrollTop=0}function C(a,b,c){for(var d=\n0,i=0,f=b.length,g,e;i<f;){g=b[i].firstChild;for(e=c?c[i].firstChild:null;g;)1===g.nodeType&&(c?a(g,e,d):a(g,d),d++),g=g.nextSibling,e=c?e.nextSibling:null;i++}}function Ma(a,b){if(!a||null===a||\"\"===a)return 0;b||(b=l.body);var c,d=l.createElement(\"div\");d.style.width=q(a);b.appendChild(d);c=d.offsetWidth;b.removeChild(d);return c}function da(a){var b=0,c,d=0,i=a.aoColumns.length,f,e,j=h(\"th\",a.nTHead),o=a.nTable.getAttribute(\"width\");e=a.nTable.parentNode;for(f=0;f<i;f++)a.aoColumns[f].bVisible&&\n(d++,null!==a.aoColumns[f].sWidth&&(c=Ma(a.aoColumns[f].sWidthOrig,e),null!==c&&(a.aoColumns[f].sWidth=q(c)),b++));if(i==j.length&&0===b&&d==i&&\"\"===a.oScroll.sX&&\"\"===a.oScroll.sY)for(f=0;f<a.aoColumns.length;f++)c=h(j[f]).width(),null!==c&&(a.aoColumns[f].sWidth=q(c));else{b=a.nTable.cloneNode(!1);f=a.nTHead.cloneNode(!0);d=l.createElement(\"tbody\");c=l.createElement(\"tr\");b.removeAttribute(\"id\");b.appendChild(f);null!==a.nTFoot&&(b.appendChild(a.nTFoot.cloneNode(!0)),C(function(a){a.style.width=\n\"\"},b.getElementsByTagName(\"tr\")));b.appendChild(d);d.appendChild(c);d=h(\"thead th\",b);0===d.length&&(d=h(\"tbody tr:eq(0)>td\",b));j=N(a,f);for(f=d=0;f<i;f++){var k=a.aoColumns[f];k.bVisible&&null!==k.sWidthOrig&&\"\"!==k.sWidthOrig?j[f-d].style.width=q(k.sWidthOrig):k.bVisible?j[f-d].style.width=\"\":d++}for(f=0;f<i;f++)a.aoColumns[f].bVisible&&(d=Na(a,f),null!==d&&(d=d.cloneNode(!0),\"\"!==a.aoColumns[f].sContentPadding&&(d.innerHTML+=a.aoColumns[f].sContentPadding),c.appendChild(d)));e.appendChild(b);\n\"\"!==a.oScroll.sX&&\"\"!==a.oScroll.sXInner?b.style.width=q(a.oScroll.sXInner):\"\"!==a.oScroll.sX?(b.style.width=\"\",h(b).width()<e.offsetWidth&&(b.style.width=q(e.offsetWidth))):\"\"!==a.oScroll.sY?b.style.width=q(e.offsetWidth):o&&(b.style.width=q(o));b.style.visibility=\"hidden\";Oa(a,b);i=h(\"tbody tr:eq(0)\",b).children();0===i.length&&(i=N(a,h(\"thead\",b)[0]));if(\"\"!==a.oScroll.sX){for(f=d=e=0;f<a.aoColumns.length;f++)a.aoColumns[f].bVisible&&(e=null===a.aoColumns[f].sWidthOrig?e+h(i[d]).outerWidth():\ne+(parseInt(a.aoColumns[f].sWidth.replace(\"px\",\"\"),10)+(h(i[d]).outerWidth()-h(i[d]).width())),d++);b.style.width=q(e);a.nTable.style.width=q(e)}for(f=d=0;f<a.aoColumns.length;f++)a.aoColumns[f].bVisible&&(e=h(i[d]).width(),null!==e&&0<e&&(a.aoColumns[f].sWidth=q(e)),d++);i=h(b).css(\"width\");a.nTable.style.width=-1!==i.indexOf(\"%\")?i:q(h(b).outerWidth());b.parentNode.removeChild(b)}o&&(a.nTable.style.width=q(o))}function Oa(a,b){\"\"===a.oScroll.sX&&\"\"!==a.oScroll.sY?(h(b).width(),b.style.width=q(h(b).outerWidth()-\na.oScroll.iBarWidth)):\"\"!==a.oScroll.sX&&(b.style.width=q(h(b).outerWidth()))}function Na(a,b){var c=Pa(a,b);if(0>c)return null;if(null===a.aoData[c].nTr){var d=l.createElement(\"td\");d.innerHTML=v(a,c,b,\"\");return d}return J(a,c)[b]}function Pa(a,b){for(var c=-1,d=-1,i=0;i<a.aoData.length;i++){var e=v(a,i,b,\"display\")+\"\",e=e.replace(/<.*?>/g,\"\");e.length>c&&(c=e.length,d=i)}return d}function q(a){if(null===a)return\"0px\";if(\"number\"==typeof a)return 0>a?\"0px\":a+\"px\";var b=a.charCodeAt(a.length-1);\nreturn 48>b||57<b?a:a+\"px\"}function Qa(){var a=l.createElement(\"p\"),b=a.style;b.width=\"100%\";b.height=\"200px\";b.padding=\"0px\";var c=l.createElement(\"div\"),b=c.style;b.position=\"absolute\";b.top=\"0px\";b.left=\"0px\";b.visibility=\"hidden\";b.width=\"200px\";b.height=\"150px\";b.padding=\"0px\";b.overflow=\"hidden\";c.appendChild(a);l.body.appendChild(c);b=a.offsetWidth;c.style.overflow=\"scroll\";a=a.offsetWidth;b==a&&(a=c.clientWidth);l.body.removeChild(c);return b-a}function O(a,b){var c,d,i,e,g,k,o=[],m=[],p=\nj.ext.oSort,l=a.aoData,q=a.aoColumns,G=a.oLanguage.oAria;if(!a.oFeatures.bServerSide&&(0!==a.aaSorting.length||null!==a.aaSortingFixed)){o=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<o.length;c++)if(d=o[c][0],i=R(a,d),e=a.aoColumns[d].sSortDataType,j.ext.afnSortData[e])if(g=j.ext.afnSortData[e].call(a.oInstance,a,d,i),g.length===l.length){i=0;for(e=l.length;i<e;i++)F(a,i,d,g[i])}else D(a,0,\"Returned data sort array (col \"+d+\") is the wrong length\");c=\n0;for(d=a.aiDisplayMaster.length;c<d;c++)m[a.aiDisplayMaster[c]]=c;var r=o.length,s;c=0;for(d=l.length;c<d;c++)for(i=0;i<r;i++){s=q[o[i][0]].aDataSort;g=0;for(k=s.length;g<k;g++)e=q[s[g]].sType,e=p[(e?e:\"string\")+\"-pre\"],l[c]._aSortData[s[g]]=e?e(v(a,c,s[g],\"sort\")):v(a,c,s[g],\"sort\")}a.aiDisplayMaster.sort(function(a,b){var c,d,e,i,f;for(c=0;c<r;c++){f=q[o[c][0]].aDataSort;d=0;for(e=f.length;d<e;d++)if(i=q[f[d]].sType,i=p[(i?i:\"string\")+\"-\"+o[c][1]](l[a]._aSortData[f[d]],l[b]._aSortData[f[d]]),0!==\ni)return i}return p[\"numeric-asc\"](m[a],m[b])})}(b===n||b)&&!a.oFeatures.bDeferRender&&P(a);c=0;for(d=a.aoColumns.length;c<d;c++)e=q[c].sTitle.replace(/<.*?>/g,\"\"),i=q[c].nTh,i.removeAttribute(\"aria-sort\"),i.removeAttribute(\"aria-label\"),q[c].bSortable?0<o.length&&o[0][0]==c?(i.setAttribute(\"aria-sort\",\"asc\"==o[0][1]?\"ascending\":\"descending\"),i.setAttribute(\"aria-label\",e+(\"asc\"==(q[c].asSorting[o[0][2]+1]?q[c].asSorting[o[0][2]+1]:q[c].asSorting[0])?G.sSortAscending:G.sSortDescending))):i.setAttribute(\"aria-label\",\ne+(\"asc\"==q[c].asSorting[0]?G.sSortAscending:G.sSortDescending)):i.setAttribute(\"aria-label\",e);a.bSorted=!0;h(a.oInstance).trigger(\"sort\",a);a.oFeatures.bFilter?K(a,a.oPreviousSearch,1):(a.aiDisplay=a.aiDisplayMaster.slice(),a._iDisplayStart=0,y(a),x(a))}function ia(a,b,c,d){Ra(b,{},function(b){if(!1!==a.aoColumns[c].bSortable){var e=function(){var d,e;if(b.shiftKey){for(var f=!1,h=0;h<a.aaSorting.length;h++)if(a.aaSorting[h][0]==c){f=!0;d=a.aaSorting[h][0];e=a.aaSorting[h][2]+1;a.aoColumns[d].asSorting[e]?\n(a.aaSorting[h][1]=a.aoColumns[d].asSorting[e],a.aaSorting[h][2]=e):a.aaSorting.splice(h,1);break}!1===f&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else 1==a.aaSorting.length&&a.aaSorting[0][0]==c?(d=a.aaSorting[0][0],e=a.aaSorting[0][2]+1,a.aoColumns[d].asSorting[e]||(e=0),a.aaSorting[0][1]=a.aoColumns[d].asSorting[e],a.aaSorting[0][2]=e):(a.aaSorting.splice(0,a.aaSorting.length),a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0]));O(a)};a.oFeatures.bProcessing?(E(a,!0),setTimeout(function(){e();\na.oFeatures.bServerSide||E(a,!1)},0)):e();\"function\"==typeof d&&d(a)}})}function P(a){var b,c,d,e,f,g=a.aoColumns.length,j=a.oClasses;for(b=0;b<g;b++)a.aoColumns[b].bSortable&&h(a.aoColumns[b].nTh).removeClass(j.sSortAsc+\" \"+j.sSortDesc+\" \"+a.aoColumns[b].sSortingClass);c=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(b=0;b<a.aoColumns.length;b++)if(a.aoColumns[b].bSortable){f=a.aoColumns[b].sSortingClass;e=-1;for(d=0;d<c.length;d++)if(c[d][0]==b){f=\"asc\"==c[d][1]?\nj.sSortAsc:j.sSortDesc;e=d;break}h(a.aoColumns[b].nTh).addClass(f);a.bJUI&&(f=h(\"span.\"+j.sSortIcon,a.aoColumns[b].nTh),f.removeClass(j.sSortJUIAsc+\" \"+j.sSortJUIDesc+\" \"+j.sSortJUI+\" \"+j.sSortJUIAscAllowed+\" \"+j.sSortJUIDescAllowed),f.addClass(-1==e?a.aoColumns[b].sSortingClassJUI:\"asc\"==c[e][1]?j.sSortJUIAsc:j.sSortJUIDesc))}else h(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass);f=j.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){a=J(a);e=[];for(b=0;b<g;b++)e.push(\"\");b=0;\nfor(d=1;b<c.length;b++)j=parseInt(c[b][0],10),e[j]=f+d,3>d&&d++;f=RegExp(f+\"[123]\");var o;b=0;for(c=a.length;b<c;b++)j=b%g,d=a[b].className,o=e[j],j=d.replace(f,o),j!=d?a[b].className=h.trim(j):0<o.length&&-1==d.indexOf(o)&&(a[b].className=d+\" \"+o)}}function ra(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b,c;b=a.oScroll.bInfinite;var d={iCreate:(new Date).getTime(),iStart:b?0:a._iDisplayStart,iEnd:b?a._iDisplayLength:a._iDisplayEnd,iLength:a._iDisplayLength,aaSorting:h.extend(!0,[],a.aaSorting),\noSearch:h.extend(!0,{},a.oPreviousSearch),aoSearchCols:h.extend(!0,[],a.aoPreSearchCols),abVisCols:[]};b=0;for(c=a.aoColumns.length;b<c;b++)d.abVisCols.push(a.aoColumns[b].bVisible);A(a,\"aoStateSaveParams\",\"stateSaveParams\",[a,d]);a.fnStateSave.call(a.oInstance,a,d)}}function Sa(a,b){if(a.oFeatures.bStateSave){var c=a.fnStateLoad.call(a.oInstance,a);if(c){var d=A(a,\"aoStateLoadParams\",\"stateLoadParams\",[a,c]);if(-1===h.inArray(!1,d)){a.oLoadedState=h.extend(!0,{},c);a._iDisplayStart=c.iStart;a.iInitDisplayStart=\nc.iStart;a._iDisplayEnd=c.iEnd;a._iDisplayLength=c.iLength;a.aaSorting=c.aaSorting.slice();a.saved_aaSorting=c.aaSorting.slice();h.extend(a.oPreviousSearch,c.oSearch);h.extend(!0,a.aoPreSearchCols,c.aoSearchCols);b.saved_aoColumns=[];for(d=0;d<c.abVisCols.length;d++)b.saved_aoColumns[d]={},b.saved_aoColumns[d].bVisible=c.abVisCols[d];A(a,\"aoStateLoaded\",\"stateLoaded\",[a,c])}}}}function s(a){for(var b=0;b<j.settings.length;b++)if(j.settings[b].nTable===a)return j.settings[b];return null}function T(a){for(var b=\n[],a=a.aoData,c=0,d=a.length;c<d;c++)null!==a[c].nTr&&b.push(a[c].nTr);return b}function J(a,b){var c=[],d,e,f,g,h,j;e=0;var o=a.aoData.length;b!==n&&(e=b,o=b+1);for(f=e;f<o;f++)if(j=a.aoData[f],null!==j.nTr){e=[];for(d=j.nTr.firstChild;d;)g=d.nodeName.toLowerCase(),(\"td\"==g||\"th\"==g)&&e.push(d),d=d.nextSibling;g=d=0;for(h=a.aoColumns.length;g<h;g++)a.aoColumns[g].bVisible?c.push(e[g-d]):(c.push(j._anHidden[g]),d++)}return c}function D(a,b,c){a=null===a?\"DataTables warning: \"+c:\"DataTables warning (table id = '\"+\na.sTableId+\"'): \"+c;if(0===b)if(\"alert\"==j.ext.sErrMode)alert(a);else throw Error(a);else X.console&&console.log&&console.log(a)}function p(a,b,c,d){d===n&&(d=c);b[c]!==n&&(a[d]=b[c])}function Ta(a,b){var c,d;for(d in b)b.hasOwnProperty(d)&&(c=b[d],\"object\"===typeof e[d]&&null!==c&&!1===h.isArray(c)?h.extend(!0,a[d],c):a[d]=c);return a}function Ra(a,b,c){h(a).bind(\"click.DT\",b,function(b){a.blur();c(b)}).bind(\"keypress.DT\",b,function(a){13===a.which&&c(a)}).bind(\"selectstart.DT\",function(){return!1})}\nfunction z(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function A(a,b,c,d){for(var b=a[b],e=[],f=b.length-1;0<=f;f--)e.push(b[f].fn.apply(a.oInstance,d));null!==c&&h(a.oInstance).trigger(c,d);return e}function Ua(a){var b=h('<div style=\"position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden\"><div style=\"position:absolute; top:1px; left:1px; width:100px; overflow:scroll;\"><div id=\"DT_BrowserTest\" style=\"width:100%; height:10px;\"></div></div></div>')[0];l.body.appendChild(b);a.oBrowser.bScrollOversize=\n100===h(\"#DT_BrowserTest\",b)[0].offsetWidth?!0:!1;l.body.removeChild(b)}function Va(a){return function(){var b=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[a].apply(this,b)}}var U=/\\[.*?\\]$/,Wa=X.JSON?JSON.stringify:function(a){var b=typeof a;if(\"object\"!==b||null===a)return\"string\"===b&&(a='\"'+a+'\"'),a+\"\";var c,d,e=[],f=h.isArray(a);for(c in a)d=a[c],b=typeof d,\"string\"===b?d='\"'+d+'\"':\"object\"===b&&null!==d&&(d=Wa(d)),e.push((f?\"\":'\"'+c+'\":')+d);return(f?\n\"[\":\"{\")+e+(f?\"]\":\"}\")};this.$=function(a,b){var c,d,e=[],f;d=s(this[j.ext.iApiIndex]);var g=d.aoData,o=d.aiDisplay,k=d.aiDisplayMaster;b||(b={});b=h.extend({},{filter:\"none\",order:\"current\",page:\"all\"},b);if(\"current\"==b.page){c=d._iDisplayStart;for(d=d.fnDisplayEnd();c<d;c++)(f=g[o[c]].nTr)&&e.push(f)}else if(\"current\"==b.order&&\"none\"==b.filter){c=0;for(d=k.length;c<d;c++)(f=g[k[c]].nTr)&&e.push(f)}else if(\"current\"==b.order&&\"applied\"==b.filter){c=0;for(d=o.length;c<d;c++)(f=g[o[c]].nTr)&&e.push(f)}else if(\"original\"==\nb.order&&\"none\"==b.filter){c=0;for(d=g.length;c<d;c++)(f=g[c].nTr)&&e.push(f)}else if(\"original\"==b.order&&\"applied\"==b.filter){c=0;for(d=g.length;c<d;c++)f=g[c].nTr,-1!==h.inArray(c,o)&&f&&e.push(f)}else D(d,1,\"Unknown selection options\");e=h(e);c=e.filter(a);e=e.find(a);return h([].concat(h.makeArray(c),h.makeArray(e)))};this._=function(a,b){var c=[],d,e,f=this.$(a,b);d=0;for(e=f.length;d<e;d++)c.push(this.fnGetData(f[d]));return c};this.fnAddData=function(a,b){if(0===a.length)return[];var c=[],\nd,e=s(this[j.ext.iApiIndex]);if(\"object\"===typeof a[0]&&null!==a[0])for(var f=0;f<a.length;f++){d=H(e,a[f]);if(-1==d)return c;c.push(d)}else{d=H(e,a);if(-1==d)return c;c.push(d)}e.aiDisplay=e.aiDisplayMaster.slice();(b===n||b)&&aa(e);return c};this.fnAdjustColumnSizing=function(a){var b=s(this[j.ext.iApiIndex]);k(b);a===n||a?this.fnDraw(!1):(\"\"!==b.oScroll.sX||\"\"!==b.oScroll.sY)&&this.oApi._fnScrollDraw(b)};this.fnClearTable=function(a){var b=s(this[j.ext.iApiIndex]);ga(b);(a===n||a)&&x(b)};this.fnClose=\nfunction(a){for(var b=s(this[j.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr),b.aoOpenRows.splice(c,1),0;return 1};this.fnDeleteRow=function(a,b,c){var d=s(this[j.ext.iApiIndex]),e,f,a=\"object\"===typeof a?I(d,a):a,g=d.aoData.splice(a,1);e=0;for(f=d.aoData.length;e<f;e++)null!==d.aoData[e].nTr&&(d.aoData[e].nTr._DT_RowIndex=e);e=h.inArray(a,d.aiDisplay);d.asDataSearch.splice(e,1);ha(d.aiDisplayMaster,\na);ha(d.aiDisplay,a);\"function\"===typeof b&&b.call(this,d,g);d._iDisplayStart>=d.fnRecordsDisplay()&&(d._iDisplayStart-=d._iDisplayLength,0>d._iDisplayStart&&(d._iDisplayStart=0));if(c===n||c)y(d),x(d);return g};this.fnDestroy=function(a){var b=s(this[j.ext.iApiIndex]),c=b.nTableWrapper.parentNode,d=b.nTBody,i,f,a=a===n?!1:a;b.bDestroying=!0;A(b,\"aoDestroyCallback\",\"destroy\",[b]);if(!a){i=0;for(f=b.aoColumns.length;i<f;i++)!1===b.aoColumns[i].bVisible&&this.fnSetColumnVis(i,!0)}h(b.nTableWrapper).find(\"*\").andSelf().unbind(\".DT\");\nh(\"tbody>tr>td.\"+b.oClasses.sRowEmpty,b.nTable).parent().remove();b.nTable!=b.nTHead.parentNode&&(h(b.nTable).children(\"thead\").remove(),b.nTable.appendChild(b.nTHead));b.nTFoot&&b.nTable!=b.nTFoot.parentNode&&(h(b.nTable).children(\"tfoot\").remove(),b.nTable.appendChild(b.nTFoot));b.nTable.parentNode.removeChild(b.nTable);h(b.nTableWrapper).remove();b.aaSorting=[];b.aaSortingFixed=[];P(b);h(T(b)).removeClass(b.asStripeClasses.join(\" \"));h(\"th, td\",b.nTHead).removeClass([b.oClasses.sSortable,b.oClasses.sSortableAsc,\nb.oClasses.sSortableDesc,b.oClasses.sSortableNone].join(\" \"));b.bJUI&&(h(\"th span.\"+b.oClasses.sSortIcon+\", td span.\"+b.oClasses.sSortIcon,b.nTHead).remove(),h(\"th, td\",b.nTHead).each(function(){var a=h(\"div.\"+b.oClasses.sSortJUIWrapper,this),c=a.contents();h(this).append(c);a.remove()}));!a&&b.nTableReinsertBefore?c.insertBefore(b.nTable,b.nTableReinsertBefore):a||c.appendChild(b.nTable);i=0;for(f=b.aoData.length;i<f;i++)null!==b.aoData[i].nTr&&d.appendChild(b.aoData[i].nTr);!0===b.oFeatures.bAutoWidth&&\n(b.nTable.style.width=q(b.sDestroyWidth));if(f=b.asDestroyStripes.length){a=h(d).children(\"tr\");for(i=0;i<f;i++)a.filter(\":nth-child(\"+f+\"n + \"+i+\")\").addClass(b.asDestroyStripes[i])}i=0;for(f=j.settings.length;i<f;i++)j.settings[i]==b&&j.settings.splice(i,1);e=b=null};this.fnDraw=function(a){var b=s(this[j.ext.iApiIndex]);!1===a?(y(b),x(b)):aa(b)};this.fnFilter=function(a,b,c,d,e,f){var g=s(this[j.ext.iApiIndex]);if(g.oFeatures.bFilter){if(c===n||null===c)c=!1;if(d===n||null===d)d=!0;if(e===n||null===\ne)e=!0;if(f===n||null===f)f=!0;if(b===n||null===b){if(K(g,{sSearch:a+\"\",bRegex:c,bSmart:d,bCaseInsensitive:f},1),e&&g.aanFeatures.f){b=g.aanFeatures.f;c=0;for(d=b.length;c<d;c++)try{b[c]._DT_Input!=l.activeElement&&h(b[c]._DT_Input).val(a)}catch(o){h(b[c]._DT_Input).val(a)}}}else h.extend(g.aoPreSearchCols[b],{sSearch:a+\"\",bRegex:c,bSmart:d,bCaseInsensitive:f}),K(g,g.oPreviousSearch,1)}};this.fnGetData=function(a,b){var c=s(this[j.ext.iApiIndex]);if(a!==n){var d=a;if(\"object\"===typeof a){var e=a.nodeName.toLowerCase();\n\"tr\"===e?d=I(c,a):\"td\"===e&&(d=I(c,a.parentNode),b=fa(c,d,a))}return b!==n?v(c,d,b,\"\"):c.aoData[d]!==n?c.aoData[d]._aData:null}return Z(c)};this.fnGetNodes=function(a){var b=s(this[j.ext.iApiIndex]);return a!==n?b.aoData[a]!==n?b.aoData[a].nTr:null:T(b)};this.fnGetPosition=function(a){var b=s(this[j.ext.iApiIndex]),c=a.nodeName.toUpperCase();return\"TR\"==c?I(b,a):\"TD\"==c||\"TH\"==c?(c=I(b,a.parentNode),a=fa(b,c,a),[c,R(b,a),a]):null};this.fnIsOpen=function(a){for(var b=s(this[j.ext.iApiIndex]),c=0;c<\nb.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return!0;return!1};this.fnOpen=function(a,b,c){var d=s(this[j.ext.iApiIndex]),e=T(d);if(-1!==h.inArray(a,e)){this.fnClose(a);var e=l.createElement(\"tr\"),f=l.createElement(\"td\");e.appendChild(f);f.className=c;f.colSpan=t(d);\"string\"===typeof b?f.innerHTML=b:h(f).html(b);b=h(\"tr\",d.nTBody);-1!=h.inArray(a,b)&&h(e).insertAfter(a);d.aoOpenRows.push({nTr:e,nParent:a});return e}};this.fnPageChange=function(a,b){var c=s(this[j.ext.iApiIndex]);qa(c,a);\ny(c);(b===n||b)&&x(c)};this.fnSetColumnVis=function(a,b,c){var d=s(this[j.ext.iApiIndex]),e,f,g=d.aoColumns,h=d.aoData,o,m;if(g[a].bVisible!=b){if(b){for(e=f=0;e<a;e++)g[e].bVisible&&f++;m=f>=t(d);if(!m)for(e=a;e<g.length;e++)if(g[e].bVisible){o=e;break}e=0;for(f=h.length;e<f;e++)null!==h[e].nTr&&(m?h[e].nTr.appendChild(h[e]._anHidden[a]):h[e].nTr.insertBefore(h[e]._anHidden[a],J(d,e)[o]))}else{e=0;for(f=h.length;e<f;e++)null!==h[e].nTr&&(o=J(d,e)[a],h[e]._anHidden[a]=o,o.parentNode.removeChild(o))}g[a].bVisible=\nb;W(d,d.aoHeader);d.nTFoot&&W(d,d.aoFooter);e=0;for(f=d.aoOpenRows.length;e<f;e++)d.aoOpenRows[e].nTr.colSpan=t(d);if(c===n||c)k(d),x(d);ra(d)}};this.fnSettings=function(){return s(this[j.ext.iApiIndex])};this.fnSort=function(a){var b=s(this[j.ext.iApiIndex]);b.aaSorting=a;O(b)};this.fnSortListener=function(a,b,c){ia(s(this[j.ext.iApiIndex]),a,b,c)};this.fnUpdate=function(a,b,c,d,e){var f=s(this[j.ext.iApiIndex]),b=\"object\"===typeof b?I(f,b):b;if(h.isArray(a)&&c===n){f.aoData[b]._aData=a.slice();\nfor(c=0;c<f.aoColumns.length;c++)this.fnUpdate(v(f,b,c),b,c,!1,!1)}else if(h.isPlainObject(a)&&c===n){f.aoData[b]._aData=h.extend(!0,{},a);for(c=0;c<f.aoColumns.length;c++)this.fnUpdate(v(f,b,c),b,c,!1,!1)}else{F(f,b,c,a);var a=v(f,b,c,\"display\"),g=f.aoColumns[c];null!==g.fnRender&&(a=S(f,b,c),g.bUseRendered&&F(f,b,c,a));null!==f.aoData[b].nTr&&(J(f,b)[c].innerHTML=a)}c=h.inArray(b,f.aiDisplay);f.asDataSearch[c]=na(f,Y(f,b,\"filter\",r(f,\"bSearchable\")));(e===n||e)&&k(f);(d===n||d)&&aa(f);return 0};\nthis.fnVersionCheck=j.ext.fnVersionCheck;this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,\n_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,\n_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1E3*c);var c=X.location.pathname.split(\"/\"),a=a+\"_\"+c.pop().replace(/[\\/:]/g,\"\").toLowerCase(),g;null!==e?(g=\"function\"===typeof h.parseJSON?h.parseJSON(b):eval(\"(\"+b+\")\"),\nb=e(a,g,f.toGMTString(),c.join(\"/\")+\"/\")):b=a+\"=\"+encodeURIComponent(b)+\"; expires=\"+f.toGMTString()+\"; path=\"+c.join(\"/\")+\"/\";a=l.cookie.split(\";\");e=b.split(\";\")[0].length;f=[];if(4096<e+l.cookie.length+10){for(var j=0,o=a.length;j<o;j++)if(-1!=a[j].indexOf(d)){var k=a[j].split(\"=\");try{(g=eval(\"(\"+decodeURIComponent(k[1])+\")\"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}for(f.sort(function(a,b){return b.time-a.time});4096<e+l.cookie.length+10;){if(0===f.length)return;d=f.pop();l.cookie=\nd.name+\"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=\"+c.join(\"/\")+\"/\"}}l.cookie=b},_fnReadCookie:function(a){for(var b=X.location.pathname.split(\"/\"),a=a+\"_\"+b[b.length-1].replace(/[\\/:]/g,\"\").toLowerCase()+\"=\",b=l.cookie.split(\";\"),c=0;c<b.length;c++){for(var d=b[c];\" \"==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return decodeURIComponent(d.substring(a.length,d.length))}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,\n_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r};h.extend(j.ext.oApi,this.oApi);for(var sa in j.ext.oApi)sa&&(this[sa]=Va(sa));var ca=this;this.each(function(){var a=0,b,c,d;c=this.getAttribute(\"id\");var i=!1,f=!1;if(\"table\"!=this.nodeName.toLowerCase())D(null,0,\"Attempted to initialise DataTables on a node which is not a table: \"+\nthis.nodeName);else{a=0;for(b=j.settings.length;a<b;a++){if(j.settings[a].nTable==this){if(e===n||e.bRetrieve)return j.settings[a].oInstance;if(e.bDestroy){j.settings[a].oInstance.fnDestroy();break}else{D(j.settings[a],0,\"Cannot reinitialise DataTable.\\n\\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy\");return}}if(j.settings[a].sTableId==this.id){j.settings.splice(a,1);break}}if(null===c||\"\"===c)this.id=c=\"DataTables_Table_\"+j.ext._oExternConfig.iNextUnique++;\nvar g=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:c,sTableId:c});j.settings.push(g);g.oInstance=1===ca.length?ca:h(this).dataTable();e||(e={});e.oLanguage&&pa(e.oLanguage);e=Ta(h.extend(!0,{},j.defaults),e);p(g.oFeatures,e,\"bPaginate\");p(g.oFeatures,e,\"bLengthChange\");p(g.oFeatures,e,\"bFilter\");p(g.oFeatures,e,\"bSort\");p(g.oFeatures,e,\"bInfo\");p(g.oFeatures,e,\"bProcessing\");p(g.oFeatures,e,\"bAutoWidth\");p(g.oFeatures,e,\"bSortClasses\");\np(g.oFeatures,e,\"bServerSide\");p(g.oFeatures,e,\"bDeferRender\");p(g.oScroll,e,\"sScrollX\",\"sX\");p(g.oScroll,e,\"sScrollXInner\",\"sXInner\");p(g.oScroll,e,\"sScrollY\",\"sY\");p(g.oScroll,e,\"bScrollCollapse\",\"bCollapse\");p(g.oScroll,e,\"bScrollInfinite\",\"bInfinite\");p(g.oScroll,e,\"iScrollLoadGap\",\"iLoadGap\");p(g.oScroll,e,\"bScrollAutoCss\",\"bAutoCss\");p(g,e,\"asStripeClasses\");p(g,e,\"asStripClasses\",\"asStripeClasses\");p(g,e,\"fnServerData\");p(g,e,\"fnFormatNumber\");p(g,e,\"sServerMethod\");p(g,e,\"aaSorting\");p(g,\ne,\"aaSortingFixed\");p(g,e,\"aLengthMenu\");p(g,e,\"sPaginationType\");p(g,e,\"sAjaxSource\");p(g,e,\"sAjaxDataProp\");p(g,e,\"iCookieDuration\");p(g,e,\"sCookiePrefix\");p(g,e,\"sDom\");p(g,e,\"bSortCellsTop\");p(g,e,\"iTabIndex\");p(g,e,\"oSearch\",\"oPreviousSearch\");p(g,e,\"aoSearchCols\",\"aoPreSearchCols\");p(g,e,\"iDisplayLength\",\"_iDisplayLength\");p(g,e,\"bJQueryUI\",\"bJUI\");p(g,e,\"fnCookieCallback\");p(g,e,\"fnStateLoad\");p(g,e,\"fnStateSave\");p(g.oLanguage,e,\"fnInfoCallback\");z(g,\"aoDrawCallback\",e.fnDrawCallback,\"user\");\nz(g,\"aoServerParams\",e.fnServerParams,\"user\");z(g,\"aoStateSaveParams\",e.fnStateSaveParams,\"user\");z(g,\"aoStateLoadParams\",e.fnStateLoadParams,\"user\");z(g,\"aoStateLoaded\",e.fnStateLoaded,\"user\");z(g,\"aoRowCallback\",e.fnRowCallback,\"user\");z(g,\"aoRowCreatedCallback\",e.fnCreatedRow,\"user\");z(g,\"aoHeaderCallback\",e.fnHeaderCallback,\"user\");z(g,\"aoFooterCallback\",e.fnFooterCallback,\"user\");z(g,\"aoInitComplete\",e.fnInitComplete,\"user\");z(g,\"aoPreDrawCallback\",e.fnPreDrawCallback,\"user\");g.oFeatures.bServerSide&&\ng.oFeatures.bSort&&g.oFeatures.bSortClasses?z(g,\"aoDrawCallback\",P,\"server_side_sort_classes\"):g.oFeatures.bDeferRender&&z(g,\"aoDrawCallback\",P,\"defer_sort_classes\");e.bJQueryUI?(h.extend(g.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&\"lfrtip\"===j.defaults.sDom&&(g.sDom='<\"H\"lfr>t<\"F\"ip>')):h.extend(g.oClasses,j.ext.oStdClasses);h(this).addClass(g.oClasses.sTable);if(\"\"!==g.oScroll.sX||\"\"!==g.oScroll.sY)g.oScroll.iBarWidth=Qa();g.iInitDisplayStart===n&&(g.iInitDisplayStart=e.iDisplayStart,\ng._iDisplayStart=e.iDisplayStart);e.bStateSave&&(g.oFeatures.bStateSave=!0,Sa(g,e),z(g,\"aoDrawCallback\",ra,\"state_save\"));null!==e.iDeferLoading&&(g.bDeferLoading=!0,a=h.isArray(e.iDeferLoading),g._iRecordsDisplay=a?e.iDeferLoading[0]:e.iDeferLoading,g._iRecordsTotal=a?e.iDeferLoading[1]:e.iDeferLoading);null!==e.aaData&&(f=!0);\"\"!==e.oLanguage.sUrl?(g.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(g.oLanguage.sUrl,null,function(a){pa(a);h.extend(true,g.oLanguage,e.oLanguage,a);ba(g)}),i=!0):h.extend(!0,\ng.oLanguage,e.oLanguage);null===e.asStripeClasses&&(g.asStripeClasses=[g.oClasses.sStripeOdd,g.oClasses.sStripeEven]);b=g.asStripeClasses.length;g.asDestroyStripes=[];if(b){c=!1;d=h(this).children(\"tbody\").children(\"tr:lt(\"+b+\")\");for(a=0;a<b;a++)d.hasClass(g.asStripeClasses[a])&&(c=!0,g.asDestroyStripes.push(g.asStripeClasses[a]));c&&d.removeClass(g.asStripeClasses.join(\" \"))}c=[];a=this.getElementsByTagName(\"thead\");0!==a.length&&(V(g.aoHeader,a[0]),c=N(g));if(null===e.aoColumns){d=[];a=0;for(b=\nc.length;a<b;a++)d.push(null)}else d=e.aoColumns;a=0;for(b=d.length;a<b;a++)e.saved_aoColumns!==n&&e.saved_aoColumns.length==b&&(null===d[a]&&(d[a]={}),d[a].bVisible=e.saved_aoColumns[a].bVisible),o(g,c?c[a]:null);ta(g,e.aoColumnDefs,d,function(a,b){m(g,a,b)});a=0;for(b=g.aaSorting.length;a<b;a++){g.aaSorting[a][0]>=g.aoColumns.length&&(g.aaSorting[a][0]=0);var k=g.aoColumns[g.aaSorting[a][0]];g.aaSorting[a][2]===n&&(g.aaSorting[a][2]=0);e.aaSorting===n&&g.saved_aaSorting===n&&(g.aaSorting[a][1]=\nk.asSorting[0]);c=0;for(d=k.asSorting.length;c<d;c++)if(g.aaSorting[a][1]==k.asSorting[c]){g.aaSorting[a][2]=c;break}}P(g);Ua(g);a=h(this).children(\"caption\").each(function(){this._captionSide=h(this).css(\"caption-side\")});b=h(this).children(\"thead\");0===b.length&&(b=[l.createElement(\"thead\")],this.appendChild(b[0]));g.nTHead=b[0];b=h(this).children(\"tbody\");0===b.length&&(b=[l.createElement(\"tbody\")],this.appendChild(b[0]));g.nTBody=b[0];g.nTBody.setAttribute(\"role\",\"alert\");g.nTBody.setAttribute(\"aria-live\",\n\"polite\");g.nTBody.setAttribute(\"aria-relevant\",\"all\");b=h(this).children(\"tfoot\");if(0===b.length&&0<a.length&&(\"\"!==g.oScroll.sX||\"\"!==g.oScroll.sY))b=[l.createElement(\"tfoot\")],this.appendChild(b[0]);0<b.length&&(g.nTFoot=b[0],V(g.aoFooter,g.nTFoot));if(f)for(a=0;a<e.aaData.length;a++)H(g,e.aaData[a]);else ua(g);g.aiDisplay=g.aiDisplayMaster.slice();g.bInitialised=!0;!1===i&&ba(g)}});ca=null;return this};j.fnVersionCheck=function(e){for(var h=function(e,h){for(;e.length<h;)e+=\"0\";return e},m=j.ext.sVersion.split(\".\"),\ne=e.split(\".\"),k=\"\",n=\"\",l=0,t=e.length;l<t;l++)k+=h(m[l],3),n+=h(e[l],3);return parseInt(k,10)>=parseInt(n,10)};j.fnIsDataTable=function(e){for(var h=j.settings,m=0;m<h.length;m++)if(h[m].nTable===e||h[m].nScrollHead===e||h[m].nScrollFoot===e)return!0;return!1};j.fnTables=function(e){var o=[];jQuery.each(j.settings,function(j,k){(!e||!0===e&&h(k.nTable).is(\":visible\"))&&o.push(k.nTable)});return o};j.version=\"1.9.4\";j.settings=[];j.models={};j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],\naTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:\"alert\",_oExternConfig:{iNextUnique:0}};j.models.oSearch={bCaseInsensitive:!0,sSearch:\"\",bRegex:!1,bSmart:!0};j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:\"\"};j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,\nfnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:\"std\",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};j.defaults={aaData:null,aaSorting:[[0,\"asc\"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,\nbPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1E3>e)return e;for(var h=e+\"\",e=h.split(\"\"),j=\"\",h=h.length,k=0;k<h;k++)0===k%3&&0!==k&&(j=this.oLanguage.sInfoThousands+j),j=e[h-k-1]+j;return j},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,\nfnRowCallback:null,fnServerData:function(e,j,m,k){k.jqXHR=h.ajax({url:e,data:j,success:function(e){e.sError&&k.oApi._fnLog(k,0,e.sError);h(k.oInstance).trigger(\"xhr\",[k,e]);m(e)},dataType:\"json\",cache:!1,type:k.sServerMethod,error:function(e,h){\"parsererror\"==h&&k.oApi._fnLog(k,0,\"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.\")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j=\n\"function\"===typeof h.parseJSON?h.parseJSON(e):eval(\"(\"+e+\")\")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,h){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(h),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:\": activate to sort column ascending\",sSortDescending:\": activate to sort column descending\"},\noPaginate:{sFirst:\"First\",sLast:\"Last\",sNext:\"Next\",sPrevious:\"Previous\"},sEmptyTable:\"No data available in table\",sInfo:\"Showing _START_ to _END_ of _TOTAL_ entries\",sInfoEmpty:\"Showing 0 to 0 of 0 entries\",sInfoFiltered:\"(filtered from _MAX_ total entries)\",sInfoPostFix:\"\",sInfoThousands:\",\",sLengthMenu:\"Show _MENU_ entries\",sLoadingRecords:\"Loading...\",sProcessing:\"Processing...\",sSearch:\"Search:\",sUrl:\"\",sZeroRecords:\"No matching records found\"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:\"aaData\",\nsAjaxSource:null,sCookiePrefix:\"SpryMedia_DataTables_\",sDom:\"lfrtip\",sPaginationType:\"two_button\",sScrollX:\"\",sScrollXInner:\"\",sScrollY:\"\",sServerMethod:\"GET\"};j.defaults.columns={aDataSort:null,asSorting:[\"asc\",\"desc\"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:\"td\",sClass:\"\",sContentPadding:\"\",sDefaultContent:null,sName:\"\",sSortDataType:\"std\",sTitle:null,sType:null,sWidth:null};j.models.oSettings={oFeatures:{bAutoWidth:null,\nbDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,\nasStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:\"\",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:\"two_button\",iCookieDuration:0,sCookiePrefix:\"\",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],\noLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},\nfnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null};j.ext=h.extend(!0,{},j.models.ext);h.extend(j.ext.oStdClasses,\n{sTable:\"dataTable\",sPagePrevEnabled:\"paginate_enabled_previous\",sPagePrevDisabled:\"paginate_disabled_previous\",sPageNextEnabled:\"paginate_enabled_next\",sPageNextDisabled:\"paginate_disabled_next\",sPageJUINext:\"\",sPageJUIPrev:\"\",sPageButton:\"paginate_button\",sPageButtonActive:\"paginate_active\",sPageButtonStaticDisabled:\"paginate_button paginate_button_disabled\",sPageFirst:\"first\",sPagePrevious:\"previous\",sPageNext:\"next\",sPageLast:\"last\",sStripeOdd:\"odd\",sStripeEven:\"even\",sRowEmpty:\"dataTables_empty\",\nsWrapper:\"dataTables_wrapper\",sFilter:\"dataTables_filter\",sInfo:\"dataTables_info\",sPaging:\"dataTables_paginate paging_\",sLength:\"dataTables_length\",sProcessing:\"dataTables_processing\",sSortAsc:\"sorting_asc\",sSortDesc:\"sorting_desc\",sSortable:\"sorting\",sSortableAsc:\"sorting_asc_disabled\",sSortableDesc:\"sorting_desc_disabled\",sSortableNone:\"sorting_disabled\",sSortColumn:\"sorting_\",sSortJUIAsc:\"\",sSortJUIDesc:\"\",sSortJUI:\"\",sSortJUIAscAllowed:\"\",sSortJUIDescAllowed:\"\",sSortJUIWrapper:\"\",sSortIcon:\"\",\nsScrollWrapper:\"dataTables_scroll\",sScrollHead:\"dataTables_scrollHead\",sScrollHeadInner:\"dataTables_scrollHeadInner\",sScrollBody:\"dataTables_scrollBody\",sScrollFoot:\"dataTables_scrollFoot\",sScrollFootInner:\"dataTables_scrollFootInner\",sFooterTH:\"\",sJUIHeader:\"\",sJUIFooter:\"\"});h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:\"fg-button ui-button ui-state-default ui-corner-left\",sPagePrevDisabled:\"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled\",sPageNextEnabled:\"fg-button ui-button ui-state-default ui-corner-right\",\nsPageNextDisabled:\"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled\",sPageJUINext:\"ui-icon ui-icon-circle-arrow-e\",sPageJUIPrev:\"ui-icon ui-icon-circle-arrow-w\",sPageButton:\"fg-button ui-button ui-state-default\",sPageButtonActive:\"fg-button ui-button ui-state-default ui-state-disabled\",sPageButtonStaticDisabled:\"fg-button ui-button ui-state-default ui-state-disabled\",sPageFirst:\"first ui-corner-tl ui-corner-bl\",sPageLast:\"last ui-corner-tr ui-corner-br\",sPaging:\"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_\",\nsSortAsc:\"ui-state-default\",sSortDesc:\"ui-state-default\",sSortable:\"ui-state-default\",sSortableAsc:\"ui-state-default\",sSortableDesc:\"ui-state-default\",sSortableNone:\"ui-state-default\",sSortJUIAsc:\"css_right ui-icon ui-icon-triangle-1-n\",sSortJUIDesc:\"css_right ui-icon ui-icon-triangle-1-s\",sSortJUI:\"css_right ui-icon ui-icon-carat-2-n-s\",sSortJUIAscAllowed:\"css_right ui-icon ui-icon-carat-1-n\",sSortJUIDescAllowed:\"css_right ui-icon ui-icon-carat-1-s\",sSortJUIWrapper:\"DataTables_sort_wrapper\",sSortIcon:\"DataTables_sort_icon\",\nsScrollHead:\"dataTables_scrollHead ui-state-default\",sScrollFoot:\"dataTables_scrollFoot ui-state-default\",sFooterTH:\"ui-state-default\",sJUIHeader:\"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix\",sJUIFooter:\"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix\"});h.extend(j.ext.oPagination,{two_button:{fnInit:function(e,j,m){var k=e.oLanguage.oPaginate,n=function(h){e.oApi._fnPageChange(e,h.data.action)&&m(e)},k=!e.bJUI?'<a class=\"'+\ne.oClasses.sPagePrevDisabled+'\" tabindex=\"'+e.iTabIndex+'\" role=\"button\">'+k.sPrevious+'</a><a class=\"'+e.oClasses.sPageNextDisabled+'\" tabindex=\"'+e.iTabIndex+'\" role=\"button\">'+k.sNext+\"</a>\":'<a class=\"'+e.oClasses.sPagePrevDisabled+'\" tabindex=\"'+e.iTabIndex+'\" role=\"button\"><span class=\"'+e.oClasses.sPageJUIPrev+'\"></span></a><a class=\"'+e.oClasses.sPageNextDisabled+'\" tabindex=\"'+e.iTabIndex+'\" role=\"button\"><span class=\"'+e.oClasses.sPageJUINext+'\"></span></a>';h(j).append(k);var l=h(\"a\",j),\nk=l[0],l=l[1];e.oApi._fnBindAction(k,{action:\"previous\"},n);e.oApi._fnBindAction(l,{action:\"next\"},n);e.aanFeatures.p||(j.id=e.sTableId+\"_paginate\",k.id=e.sTableId+\"_previous\",l.id=e.sTableId+\"_next\",k.setAttribute(\"aria-controls\",e.sTableId),l.setAttribute(\"aria-controls\",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var h=e.oClasses,j=e.aanFeatures.p,k,l=0,n=j.length;l<n;l++)if(k=j[l].firstChild)k.className=0===e._iDisplayStart?h.sPagePrevDisabled:h.sPagePrevEnabled,k=k.nextSibling,\nk.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?h.sPageNextDisabled:h.sPageNextEnabled}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,j,m){var k=e.oLanguage.oPaginate,l=e.oClasses,n=function(h){e.oApi._fnPageChange(e,h.data.action)&&m(e)};h(j).append('<a  tabindex=\"'+e.iTabIndex+'\" class=\"'+l.sPageButton+\" \"+l.sPageFirst+'\">'+k.sFirst+'</a><a  tabindex=\"'+e.iTabIndex+'\" class=\"'+l.sPageButton+\" \"+l.sPagePrevious+'\">'+k.sPrevious+'</a><span></span><a tabindex=\"'+e.iTabIndex+'\" class=\"'+\nl.sPageButton+\" \"+l.sPageNext+'\">'+k.sNext+'</a><a tabindex=\"'+e.iTabIndex+'\" class=\"'+l.sPageButton+\" \"+l.sPageLast+'\">'+k.sLast+\"</a>\");var t=h(\"a\",j),k=t[0],l=t[1],r=t[2],t=t[3];e.oApi._fnBindAction(k,{action:\"first\"},n);e.oApi._fnBindAction(l,{action:\"previous\"},n);e.oApi._fnBindAction(r,{action:\"next\"},n);e.oApi._fnBindAction(t,{action:\"last\"},n);e.aanFeatures.p||(j.id=e.sTableId+\"_paginate\",k.id=e.sTableId+\"_first\",l.id=e.sTableId+\"_previous\",r.id=e.sTableId+\"_next\",t.id=e.sTableId+\"_last\")},\nfnUpdate:function(e,o){if(e.aanFeatures.p){var m=j.ext.oPagination.iFullNumbersShowPages,k=Math.floor(m/2),l=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),n=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,t=\"\",r,B=e.oClasses,u,M=e.aanFeatures.p,L=function(h){e.oApi._fnBindAction(this,{page:h+r-1},function(h){e.oApi._fnPageChange(e,h.data.page);o(e);h.preventDefault()})};-1===e._iDisplayLength?n=k=r=1:l<m?(r=1,k=l):n<=k?(r=1,k=m):n>=l-k?(r=l-m+1,k=l):(r=n-Math.ceil(m/2)+1,k=r+m-1);for(m=r;m<=k;m++)t+=\nn!==m?'<a tabindex=\"'+e.iTabIndex+'\" class=\"'+B.sPageButton+'\">'+e.fnFormatNumber(m)+\"</a>\":'<a tabindex=\"'+e.iTabIndex+'\" class=\"'+B.sPageButtonActive+'\">'+e.fnFormatNumber(m)+\"</a>\";m=0;for(k=M.length;m<k;m++)u=M[m],u.hasChildNodes()&&(h(\"span:eq(0)\",u).html(t).children(\"a\").each(L),u=u.getElementsByTagName(\"a\"),u=[u[0],u[1],u[u.length-2],u[u.length-1]],h(u).removeClass(B.sPageButton+\" \"+B.sPageButtonActive+\" \"+B.sPageButtonStaticDisabled),h([u[0],u[1]]).addClass(1==n?B.sPageButtonStaticDisabled:\nB.sPageButton),h([u[2],u[3]]).addClass(0===l||n===l||-1===e._iDisplayLength?B.sPageButtonStaticDisabled:B.sPageButton))}}}});h.extend(j.ext.oSort,{\"string-pre\":function(e){\"string\"!=typeof e&&(e=null!==e&&e.toString?e.toString():\"\");return e.toLowerCase()},\"string-asc\":function(e,h){return e<h?-1:e>h?1:0},\"string-desc\":function(e,h){return e<h?1:e>h?-1:0},\"html-pre\":function(e){return e.replace(/<.*?>/g,\"\").toLowerCase()},\"html-asc\":function(e,h){return e<h?-1:e>h?1:0},\"html-desc\":function(e,h){return e<\nh?1:e>h?-1:0},\"date-pre\":function(e){e=Date.parse(e);if(isNaN(e)||\"\"===e)e=Date.parse(\"01/01/1970 00:00:00\");return e},\"date-asc\":function(e,h){return e-h},\"date-desc\":function(e,h){return h-e},\"numeric-pre\":function(e){return\"-\"==e||\"\"===e?0:1*e},\"numeric-asc\":function(e,h){return e-h},\"numeric-desc\":function(e,h){return h-e}});h.extend(j.ext.aTypes,[function(e){if(\"number\"===typeof e)return\"numeric\";if(\"string\"!==typeof e)return null;var h,j=!1;h=e.charAt(0);if(-1==\"0123456789-\".indexOf(h))return null;\nfor(var k=1;k<e.length;k++){h=e.charAt(k);if(-1==\"0123456789.\".indexOf(h))return null;if(\".\"==h){if(j)return null;j=!0}}return\"numeric\"},function(e){var h=Date.parse(e);return null!==h&&!isNaN(h)||\"string\"===typeof e&&0===e.length?\"date\":null},function(e){return\"string\"===typeof e&&-1!=e.indexOf(\"<\")&&-1!=e.indexOf(\">\")?\"html\":null}]);h.fn.DataTable=j;h.fn.dataTable=j;h.fn.dataTableSettings=j.settings;h.fn.dataTableExt=j.ext};\"function\"===typeof define&&define.amd?define([\"jquery\"],L):jQuery&&!jQuery.fn.dataTable&&\nL(jQuery)})(window,document);\n","/*\r\n * jsTree 1.0-rc3\r\n * http://jstree.com/\r\n *\r\n * Copyright (c) 2010 Ivan Bozhanov (vakata.com)\r\n *\r\n * Licensed same as jquery - under the terms of either the MIT License or the GPL Version 2 License\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *   http://www.gnu.org/licenses/gpl.html\r\n *\r\n * $Date: 2011-02-09 01:17:14 +0200 (ср, 09 февр 2011) $\r\n * $Revision: 236 $\r\n */\r\n\r\n/*jslint browser: true, onevar: true, undef: true, bitwise: true, strict: true */\r\n/*global window : false, clearInterval: false, clearTimeout: false, document: false, setInterval: false, setTimeout: false, jQuery: false, navigator: false, XSLTProcessor: false, DOMParser: false, XMLSerializer: false*/\r\n\r\n\"use strict\";\r\n\r\n// top wrapper to prevent multiple inclusion (is this OK?)\r\n(function () { if(jQuery && jQuery.jstree) { return; }\r\n\tvar is_ie6 = false, is_ie7 = false, is_ff2 = false;\r\n\r\n/* \r\n * jsTree core\r\n */\r\n(function ($) {\r\n\t// Common functions not related to jsTree \r\n\t// decided to move them to a `vakata` \"namespace\"\r\n\t$.vakata = {};\r\n\t// CSS related functions\r\n\t$.vakata.css = {\r\n\t\tget_css : function(rule_name, delete_flag, sheet) {\r\n\t\t\trule_name = rule_name.toLowerCase();\r\n\t\t\tvar css_rules = sheet.cssRules || sheet.rules,\r\n\t\t\t\tj = 0;\r\n\t\t\tdo {\r\n\t\t\t\tif(css_rules.length && j > css_rules.length + 5) { return false; }\r\n\t\t\t\tif(css_rules[j].selectorText && css_rules[j].selectorText.toLowerCase() == rule_name) {\r\n\t\t\t\t\tif(delete_flag === true) {\r\n\t\t\t\t\t\tif(sheet.removeRule) { sheet.removeRule(j); }\r\n\t\t\t\t\t\tif(sheet.deleteRule) { sheet.deleteRule(j); }\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { return css_rules[j]; }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twhile (css_rules[++j]);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tadd_css : function(rule_name, sheet) {\r\n\t\t\tif($.jstree.css.get_css(rule_name, false, sheet)) { return false; }\r\n\t\t\tif(sheet.insertRule) { sheet.insertRule(rule_name + ' { }', 0); } else { sheet.addRule(rule_name, null, 0); }\r\n\t\t\treturn $.vakata.css.get_css(rule_name);\r\n\t\t},\r\n\t\tremove_css : function(rule_name, sheet) { \r\n\t\t\treturn $.vakata.css.get_css(rule_name, true, sheet); \r\n\t\t},\r\n\t\tadd_sheet : function(opts) {\r\n\t\t\tvar tmp = false, is_new = true;\r\n\t\t\tif(opts.str) {\r\n\t\t\t\tif(opts.title) { tmp = $(\"style[id='\" + opts.title + \"-stylesheet']\")[0]; }\r\n\t\t\t\tif(tmp) { is_new = false; }\r\n\t\t\t\telse {\r\n\t\t\t\t\ttmp = document.createElement(\"style\");\r\n\t\t\t\t\ttmp.setAttribute('type',\"text/css\");\r\n\t\t\t\t\tif(opts.title) { tmp.setAttribute(\"id\", opts.title + \"-stylesheet\"); }\r\n\t\t\t\t}\r\n\t\t\t\tif(tmp.styleSheet) {\r\n\t\t\t\t\tif(is_new) { \r\n\t\t\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(tmp); \r\n\t\t\t\t\t\ttmp.styleSheet.cssText = opts.str; \r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttmp.styleSheet.cssText = tmp.styleSheet.cssText + \" \" + opts.str; \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttmp.appendChild(document.createTextNode(opts.str));\r\n\t\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(tmp);\r\n\t\t\t\t}\r\n\t\t\t\treturn tmp.sheet || tmp.styleSheet;\r\n\t\t\t}\r\n\t\t\tif(opts.url) {\r\n\t\t\t\tif(document.createStyleSheet) {\r\n\t\t\t\t\ttry { tmp = document.createStyleSheet(opts.url); } catch (e) { }\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttmp\t\t\t= document.createElement('link');\r\n\t\t\t\t\ttmp.rel\t\t= 'stylesheet';\r\n\t\t\t\t\ttmp.type\t= 'text/css';\r\n\t\t\t\t\ttmp.media\t= \"all\";\r\n\t\t\t\t\ttmp.href\t= opts.url;\r\n\t\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(tmp);\r\n\t\t\t\t\treturn tmp.styleSheet;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// private variables \r\n\tvar instances = [],\t\t\t// instance array (used by $.jstree.reference/create/focused)\r\n\t\tfocused_instance = -1,\t// the index in the instance array of the currently focused instance\r\n\t\tplugins = {},\t\t\t// list of included plugins\r\n\t\tprepared_move = {};\t\t// for the move_node function\r\n\r\n\t// jQuery plugin wrapper (thanks to jquery UI widget function)\r\n\t$.fn.jstree = function (settings) {\r\n\t\tvar isMethodCall = (typeof settings == 'string'), // is this a method call like $().jstree(\"open_node\")\r\n\t\t\targs = Array.prototype.slice.call(arguments, 1), \r\n\t\t\treturnValue = this;\r\n\r\n\t\t// if a method call execute the method on all selected instances\r\n\t\tif(isMethodCall) {\r\n\t\t\tif(settings.substring(0, 1) == '_') { return returnValue; }\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar instance = instances[$.data(this, \"jstree_instance_id\")],\r\n\t\t\t\t\tmethodValue = (instance && $.isFunction(instance[settings])) ? instance[settings].apply(instance, args) : instance;\r\n\t\t\t\t\tif(typeof methodValue !== \"undefined\" && (settings.indexOf(\"is_\") === 0 || (methodValue !== true && methodValue !== false))) { returnValue = methodValue; return false; }\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.each(function() {\r\n\t\t\t\t// extend settings and allow for multiple hashes and $.data\r\n\t\t\t\tvar instance_id = $.data(this, \"jstree_instance_id\"),\r\n\t\t\t\t\ta = [],\r\n\t\t\t\t\tb = settings ? $.extend({}, true, settings) : {},\r\n\t\t\t\t\tc = $(this), \r\n\t\t\t\t\ts = false, \r\n\t\t\t\t\tt = [];\r\n\t\t\t\ta = a.concat(args);\r\n\t\t\t\tif(c.data(\"jstree\")) { a.push(c.data(\"jstree\")); }\r\n\t\t\t\tb = a.length ? $.extend.apply(null, [true, b].concat(a)) : b;\r\n\r\n\t\t\t\t// if an instance already exists, destroy it first\r\n\t\t\t\tif(typeof instance_id !== \"undefined\" && instances[instance_id]) { instances[instance_id].destroy(); }\r\n\t\t\t\t// push a new empty object to the instances array\r\n\t\t\t\tinstance_id = parseInt(instances.push({}),10) - 1;\r\n\t\t\t\t// store the jstree instance id to the container element\r\n\t\t\t\t$.data(this, \"jstree_instance_id\", instance_id);\r\n\t\t\t\t// clean up all plugins\r\n\t\t\t\tb.plugins = $.isArray(b.plugins) ? b.plugins : $.jstree.defaults.plugins.slice();\r\n\t\t\t\tb.plugins.unshift(\"core\");\r\n\t\t\t\t// only unique plugins\r\n\t\t\t\tb.plugins = b.plugins.sort().join(\",,\").replace(/(,|^)([^,]+)(,,\\2)+(,|$)/g,\"$1$2$4\").replace(/,,+/g,\",\").replace(/,$/,\"\").split(\",\");\r\n\r\n\t\t\t\t// extend defaults with passed data\r\n\t\t\t\ts = $.extend(true, {}, $.jstree.defaults, b);\r\n\t\t\t\ts.plugins = b.plugins;\r\n\t\t\t\t$.each(plugins, function (i, val) { \r\n\t\t\t\t\tif($.inArray(i, s.plugins) === -1) { s[i] = null; delete s[i]; } \r\n\t\t\t\t\telse { t.push(i); }\r\n\t\t\t\t});\r\n\t\t\t\ts.plugins = t;\r\n\r\n\t\t\t\t// push the new object to the instances array (at the same time set the default classes to the container) and init\r\n\t\t\t\tinstances[instance_id] = new $.jstree._instance(instance_id, $(this).addClass(\"jstree jstree-\" + instance_id), s); \r\n\t\t\t\t// init all activated plugins for this instance\r\n\t\t\t\t$.each(instances[instance_id]._get_settings().plugins, function (i, val) { instances[instance_id].data[val] = {}; });\r\n\t\t\t\t$.each(instances[instance_id]._get_settings().plugins, function (i, val) { if(plugins[val]) { plugins[val].__init.apply(instances[instance_id]); } });\r\n\t\t\t\t// initialize the instance\r\n\t\t\t\tsetTimeout(function() { if(instances[instance_id]) { instances[instance_id].init(); } }, 0);\r\n\t\t\t});\r\n\t\t}\r\n\t\t// return the jquery selection (or if it was a method call that returned a value - the returned value)\r\n\t\treturn returnValue;\r\n\t};\r\n\t// object to store exposed functions and objects\r\n\t$.jstree = {\r\n\t\tdefaults : {\r\n\t\t\tplugins : []\r\n\t\t},\r\n\t\t_focused : function () { return instances[focused_instance] || null; },\r\n\t\t_reference : function (needle) { \r\n\t\t\t// get by instance id\r\n\t\t\tif(instances[needle]) { return instances[needle]; }\r\n\t\t\t// get by DOM (if still no luck - return null\r\n\t\t\tvar o = $(needle); \r\n\t\t\tif(!o.length && typeof needle === \"string\") { o = $(\"#\" + needle); }\r\n\t\t\tif(!o.length) { return null; }\r\n\t\t\treturn instances[o.closest(\".jstree\").data(\"jstree_instance_id\")] || null; \r\n\t\t},\r\n\t\t_instance : function (index, container, settings) { \r\n\t\t\t// for plugins to store data in\r\n\t\t\tthis.data = { core : {} };\r\n\t\t\tthis.get_settings\t= function () { return $.extend(true, {}, settings); };\r\n\t\t\tthis._get_settings\t= function () { return settings; };\r\n\t\t\tthis.get_index\t\t= function () { return index; };\r\n\t\t\tthis.get_container\t= function () { return container; };\r\n\t\t\tthis.get_container_ul = function () { return container.children(\"ul:eq(0)\"); };\r\n\t\t\tthis._set_settings\t= function (s) { \r\n\t\t\t\tsettings = $.extend(true, {}, settings, s);\r\n\t\t\t};\r\n\t\t},\r\n\t\t_fn : { },\r\n\t\tplugin : function (pname, pdata) {\r\n\t\t\tpdata = $.extend({}, {\r\n\t\t\t\t__init\t\t: $.noop, \r\n\t\t\t\t__destroy\t: $.noop,\r\n\t\t\t\t_fn\t\t\t: {},\r\n\t\t\t\tdefaults\t: false\r\n\t\t\t}, pdata);\r\n\t\t\tplugins[pname] = pdata;\r\n\r\n\t\t\t$.jstree.defaults[pname] = pdata.defaults;\r\n\t\t\t$.each(pdata._fn, function (i, val) {\r\n\t\t\t\tval.plugin\t\t= pname;\r\n\t\t\t\tval.old\t\t\t= $.jstree._fn[i];\r\n\t\t\t\t$.jstree._fn[i] = function () {\r\n\t\t\t\t\tvar rslt,\r\n\t\t\t\t\t\tfunc = val,\r\n\t\t\t\t\t\targs = Array.prototype.slice.call(arguments),\r\n\t\t\t\t\t\tevnt = new $.Event(\"before.jstree\"),\r\n\t\t\t\t\t\trlbk = false;\r\n\r\n\t\t\t\t\tif(this.data.core.locked === true && i !== \"unlock\" && i !== \"is_locked\") { return; }\r\n\r\n\t\t\t\t\t// Check if function belongs to the included plugins of this instance\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tif(func && func.plugin && $.inArray(func.plugin, this._get_settings().plugins) !== -1) { break; }\r\n\t\t\t\t\t\tfunc = func.old;\r\n\t\t\t\t\t} while(func);\r\n\t\t\t\t\tif(!func) { return; }\r\n\r\n\t\t\t\t\t// context and function to trigger events, then finally call the function\r\n\t\t\t\t\tif(i.indexOf(\"_\") === 0) {\r\n\t\t\t\t\t\trslt = func.apply(this, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\trslt = this.get_container().triggerHandler(evnt, { \"func\" : i, \"inst\" : this, \"args\" : args, \"plugin\" : func.plugin });\r\n\t\t\t\t\t\tif(rslt === false) { return; }\r\n\t\t\t\t\t\tif(typeof rslt !== \"undefined\") { args = rslt; }\r\n\r\n\t\t\t\t\t\trslt = func.apply(\r\n\t\t\t\t\t\t\t$.extend({}, this, { \r\n\t\t\t\t\t\t\t\t__callback : function (data) { \r\n\t\t\t\t\t\t\t\t\tthis.get_container().triggerHandler( i + '.jstree', { \"inst\" : this, \"args\" : args, \"rslt\" : data, \"rlbk\" : rlbk });\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t__rollback : function () { \r\n\t\t\t\t\t\t\t\t\trlbk = this.get_rollback();\r\n\t\t\t\t\t\t\t\t\treturn rlbk;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t__call_old : function (replace_arguments) {\r\n\t\t\t\t\t\t\t\t\treturn func.old.apply(this, (replace_arguments ? Array.prototype.slice.call(arguments, 1) : args ) );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}), args);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// return the result\r\n\t\t\t\t\treturn rslt;\r\n\t\t\t\t};\r\n\t\t\t\t$.jstree._fn[i].old = val.old;\r\n\t\t\t\t$.jstree._fn[i].plugin = pname;\r\n\t\t\t});\r\n\t\t},\r\n\t\trollback : function (rb) {\r\n\t\t\tif(rb) {\r\n\t\t\t\tif(!$.isArray(rb)) { rb = [ rb ]; }\r\n\t\t\t\t$.each(rb, function (i, val) {\r\n\t\t\t\t\tinstances[val.i].set_rollback(val.h, val.d);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t// set the prototype for all instances\r\n\t$.jstree._fn = $.jstree._instance.prototype = {};\r\n\r\n\t// load the css when DOM is ready\r\n\t$(function() {\r\n\t\t// code is copied from jQuery ($.browser is deprecated + there is a bug in IE)\r\n\t\tvar u = navigator.userAgent.toLowerCase(),\r\n\t\t\tv = (u.match( /.+?(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/ ) || [0,'0'])[1],\r\n\t\t\tcss_string = '' + \r\n\t\t\t\t'.jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } ' + \r\n\t\t\t\t'.jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } ' + \r\n\t\t\t\t'.jstree-rtl li { margin-left:0; margin-right:18px; } ' + \r\n\t\t\t\t'.jstree > ul > li { margin-left:0px; } ' + \r\n\t\t\t\t'.jstree-rtl > ul > li { margin-right:0px; } ' + \r\n\t\t\t\t'.jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } ' + \r\n\t\t\t\t'.jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } ' + \r\n\t\t\t\t'.jstree a:focus { outline: none; } ' + \r\n\t\t\t\t'.jstree a > ins { height:16px; width:16px; } ' + \r\n\t\t\t\t'.jstree a > .jstree-icon { margin-right:3px; } ' + \r\n\t\t\t\t'.jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } ' + \r\n\t\t\t\t'li.jstree-open > ul { display:block; } ' + \r\n\t\t\t\t'li.jstree-closed > ul { display:none; } ';\r\n\t\t// Correct IE 6 (does not support the > CSS selector)\r\n\t\tif(/msie/.test(u) && parseInt(v, 10) == 6) { \r\n\t\t\tis_ie6 = true;\r\n\r\n\t\t\t// fix image flicker and lack of caching\r\n\t\t\ttry {\r\n\t\t\t\tdocument.execCommand(\"BackgroundImageCache\", false, true);\r\n\t\t\t} catch (err) { }\r\n\r\n\t\t\tcss_string += '' + \r\n\t\t\t\t'.jstree li { height:18px; margin-left:0; margin-right:0; } ' + \r\n\t\t\t\t'.jstree li li { margin-left:18px; } ' + \r\n\t\t\t\t'.jstree-rtl li li { margin-left:0px; margin-right:18px; } ' + \r\n\t\t\t\t'li.jstree-open ul { display:block; } ' + \r\n\t\t\t\t'li.jstree-closed ul { display:none !important; } ' + \r\n\t\t\t\t'.jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } ' + \r\n\t\t\t\t'.jstree li a ins { height:16px; width:16px; margin-right:3px; } ' + \r\n\t\t\t\t'.jstree-rtl li a ins { margin-right:0px; margin-left:3px; } ';\r\n\t\t}\r\n\t\t// Correct IE 7 (shifts anchor nodes onhover)\r\n\t\tif(/msie/.test(u) && parseInt(v, 10) == 7) { \r\n\t\t\tis_ie7 = true;\r\n\t\t\tcss_string += '.jstree li a { border-width:0 !important; padding:0px 2px !important; } ';\r\n\t\t}\r\n\t\t// correct ff2 lack of display:inline-block\r\n\t\tif(!/compatible/.test(u) && /mozilla/.test(u) && parseFloat(v, 10) < 1.9) {\r\n\t\t\tis_ff2 = true;\r\n\t\t\tcss_string += '' + \r\n\t\t\t\t'.jstree ins { display:-moz-inline-box; } ' + \r\n\t\t\t\t'.jstree li { line-height:12px; } ' + // WHY??\r\n\t\t\t\t'.jstree a { display:-moz-inline-box; } ' + \r\n\t\t\t\t'.jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ';\r\n\t\t\t\t/* this shouldn't be here as it is theme specific */\r\n\t\t}\r\n\t\t// the default stylesheet\r\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\r\n\t});\r\n\r\n\t// core functions (open, close, create, update, delete)\r\n\t$.jstree.plugin(\"core\", {\r\n\t\t__init : function () {\r\n\t\t\tthis.data.core.locked = false;\r\n\t\t\tthis.data.core.to_open = this.get_settings().core.initially_open;\r\n\t\t\tthis.data.core.to_load = this.get_settings().core.initially_load;\r\n\t\t},\r\n\t\tdefaults : { \r\n\t\t\thtml_titles\t: false,\r\n\t\t\tanimation\t: 50,\r\n\t\t\tinitially_open : [],\r\n\t\t\tinitially_load : [],\r\n\t\t\topen_parents : true,\r\n\t\t\tnotify_plugins : true,\r\n\t\t\trtl\t\t\t: false,\r\n\t\t\tload_open\t: false,\r\n\t\t\tstrings\t\t: {\r\n\t\t\t\tloading\t\t: \"Loading ...\",\r\n\t\t\t\tnew_node\t: \"New node\",\r\n\t\t\t\tmultiple_selection : \"Multiple selection\"\r\n\t\t\t}\r\n\t\t},\r\n\t\t_fn : { \r\n\t\t\tinit\t: function () { \r\n\t\t\t\tthis.set_focus(); \r\n\t\t\t\tif(this._get_settings().core.rtl) {\r\n\t\t\t\t\tthis.get_container().addClass(\"jstree-rtl\").css(\"direction\", \"rtl\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.get_container().html(\"<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>\" + this._get_string(\"loading\") + \"</a></li></ul>\");\r\n\t\t\t\tthis.data.core.li_height = this.get_container_ul().find(\"li.jstree-closed, li.jstree-leaf\").eq(0).height() || 18;\r\n\r\n\t\t\t\tthis.get_container()\r\n\t\t\t\t\t.delegate(\"li > ins\", \"click.jstree\", $.proxy(function (event) {\r\n\t\t\t\t\t\t\tvar trgt = $(event.target);\r\n\t\t\t\t\t\t\t// if(trgt.is(\"ins\") && event.pageY - trgt.offset().top < this.data.core.li_height) { this.toggle_node(trgt); }\r\n\t\t\t\t\t\t\tthis.toggle_node(trgt);\r\n\t\t\t\t\t\t}, this))\r\n\t\t\t\t\t.bind(\"mousedown.jstree\", $.proxy(function () { \r\n\t\t\t\t\t\t\tthis.set_focus(); // This used to be setTimeout(set_focus,0) - why?\r\n\t\t\t\t\t\t}, this))\r\n\t\t\t\t\t.bind(\"dblclick.jstree\", function (event) { \r\n\t\t\t\t\t\tvar sel;\r\n\t\t\t\t\t\tif(document.selection && document.selection.empty) { document.selection.empty(); }\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif(window.getSelection) {\r\n\t\t\t\t\t\t\t\tsel = window.getSelection();\r\n\t\t\t\t\t\t\t\ttry { \r\n\t\t\t\t\t\t\t\t\tsel.removeAllRanges();\r\n\t\t\t\t\t\t\t\t\tsel.collapse();\r\n\t\t\t\t\t\t\t\t} catch (err) { }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\tif(this._get_settings().core.notify_plugins) {\r\n\t\t\t\t\tthis.get_container()\r\n\t\t\t\t\t\t.bind(\"load_node.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\t\t\tvar o = this._get_node(data.rslt.obj),\r\n\t\t\t\t\t\t\t\t\tt = this;\r\n\t\t\t\t\t\t\t\tif(o === -1) { o = this.get_container_ul(); }\r\n\t\t\t\t\t\t\t\tif(!o.length) { return; }\r\n\t\t\t\t\t\t\t\to.find(\"li\").each(function () {\r\n\t\t\t\t\t\t\t\t\tvar th = $(this);\r\n\t\t\t\t\t\t\t\t\tif(th.data(\"jstree\")) {\r\n\t\t\t\t\t\t\t\t\t\t$.each(th.data(\"jstree\"), function (plugin, values) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(t.data[plugin] && $.isFunction(t[\"_\" + plugin + \"_notify\"])) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tt[\"_\" + plugin + \"_notify\"].call(t, th, values);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, this));\r\n\t\t\t\t}\r\n\t\t\t\tif(this._get_settings().core.load_open) {\r\n\t\t\t\t\tthis.get_container()\r\n\t\t\t\t\t\t.bind(\"load_node.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\t\t\tvar o = this._get_node(data.rslt.obj),\r\n\t\t\t\t\t\t\t\t\tt = this;\r\n\t\t\t\t\t\t\t\tif(o === -1) { o = this.get_container_ul(); }\r\n\t\t\t\t\t\t\t\tif(!o.length) { return; }\r\n\t\t\t\t\t\t\t\to.find(\"li.jstree-open:not(:has(ul))\").each(function () {\r\n\t\t\t\t\t\t\t\t\tt.load_node(this, $.noop, $.noop);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, this));\r\n\t\t\t\t}\r\n\t\t\t\tthis.__callback();\r\n\t\t\t\tthis.load_node(-1, function () { this.loaded(); this.reload_nodes(); });\r\n\t\t\t},\r\n\t\t\tdestroy\t: function () { \r\n\t\t\t\tvar i,\r\n\t\t\t\t\tn = this.get_index(),\r\n\t\t\t\t\ts = this._get_settings(),\r\n\t\t\t\t\t_this = this;\r\n\r\n\t\t\t\t$.each(s.plugins, function (i, val) {\r\n\t\t\t\t\ttry { plugins[val].__destroy.apply(_this); } catch(err) { }\r\n\t\t\t\t});\r\n\t\t\t\tthis.__callback();\r\n\t\t\t\t// set focus to another instance if this one is focused\r\n\t\t\t\tif(this.is_focused()) { \r\n\t\t\t\t\tfor(i in instances) { \r\n\t\t\t\t\t\tif(instances.hasOwnProperty(i) && i != n) { \r\n\t\t\t\t\t\t\tinstances[i].set_focus(); \r\n\t\t\t\t\t\t\tbreak; \r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// if no other instance found\r\n\t\t\t\tif(n === focused_instance) { focused_instance = -1; }\r\n\t\t\t\t// remove all traces of jstree in the DOM (only the ones set using jstree*) and cleans all events\r\n\t\t\t\tthis.get_container()\r\n\t\t\t\t\t.unbind(\".jstree\")\r\n\t\t\t\t\t.undelegate(\".jstree\")\r\n\t\t\t\t\t.removeData(\"jstree_instance_id\")\r\n\t\t\t\t\t.find(\"[class^='jstree']\")\r\n\t\t\t\t\t\t.andSelf()\r\n\t\t\t\t\t\t.attr(\"class\", function () { return this.className.replace(/jstree[^ ]*|$/ig,''); });\r\n\t\t\t\t$(document)\r\n\t\t\t\t\t.unbind(\".jstree-\" + n)\r\n\t\t\t\t\t.undelegate(\".jstree-\" + n);\r\n\t\t\t\t// remove the actual data\r\n\t\t\t\tinstances[n] = null;\r\n\t\t\t\tdelete instances[n];\r\n\t\t\t},\r\n\r\n\t\t\t_core_notify : function (n, data) {\r\n\t\t\t\tif(data.opened) {\r\n\t\t\t\t\tthis.open_node(n, false, true);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tlock : function () {\r\n\t\t\t\tthis.data.core.locked = true;\r\n\t\t\t\tthis.get_container().children(\"ul\").addClass(\"jstree-locked\").css(\"opacity\",\"0.7\");\r\n\t\t\t\tthis.__callback({});\r\n\t\t\t},\r\n\t\t\tunlock : function () {\r\n\t\t\t\tthis.data.core.locked = false;\r\n\t\t\t\tthis.get_container().children(\"ul\").removeClass(\"jstree-locked\").css(\"opacity\",\"1\");\r\n\t\t\t\tthis.__callback({});\r\n\t\t\t},\r\n\t\t\tis_locked : function () { return this.data.core.locked; },\r\n\t\t\tsave_opened : function () {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.data.core.to_open = [];\r\n\t\t\t\tthis.get_container_ul().find(\"li.jstree-open\").each(function () { \r\n\t\t\t\t\tif(this.id) { _this.data.core.to_open.push(\"#\" + this.id.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\")); }\r\n\t\t\t\t});\r\n\t\t\t\tthis.__callback(_this.data.core.to_open);\r\n\t\t\t},\r\n\t\t\tsave_loaded : function () { },\r\n\t\t\treload_nodes : function (is_callback) {\r\n\t\t\t\tvar _this = this,\r\n\t\t\t\t\tdone = true,\r\n\t\t\t\t\tcurrent = [],\r\n\t\t\t\t\tremaining = [];\r\n\t\t\t\tif(!is_callback) { \r\n\t\t\t\t\tthis.data.core.reopen = false; \r\n\t\t\t\t\tthis.data.core.refreshing = true; \r\n\t\t\t\t\tthis.data.core.to_open = $.map($.makeArray(this.data.core.to_open), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\r\n\t\t\t\t\tthis.data.core.to_load = $.map($.makeArray(this.data.core.to_load), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\r\n\t\t\t\t\tif(this.data.core.to_open.length) {\r\n\t\t\t\t\t\tthis.data.core.to_load = this.data.core.to_load.concat(this.data.core.to_open);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this.data.core.to_load.length) {\r\n\t\t\t\t\t$.each(this.data.core.to_load, function (i, val) {\r\n\t\t\t\t\t\tif(val == \"#\") { return true; }\r\n\t\t\t\t\t\tif($(val).length) { current.push(val); }\r\n\t\t\t\t\t\telse { remaining.push(val); }\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(current.length) {\r\n\t\t\t\t\t\tthis.data.core.to_load = remaining;\r\n\t\t\t\t\t\t$.each(current, function (i, val) { \r\n\t\t\t\t\t\t\tif(!_this._is_loaded(val)) {\r\n\t\t\t\t\t\t\t\t_this.load_node(val, function () { _this.reload_nodes(true); }, function () { _this.reload_nodes(true); });\r\n\t\t\t\t\t\t\t\tdone = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this.data.core.to_open.length) {\r\n\t\t\t\t\t$.each(this.data.core.to_open, function (i, val) {\r\n\t\t\t\t\t\t_this.open_node(val, false, true); \r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif(done) { \r\n\t\t\t\t\t// TODO: find a more elegant approach to syncronizing returning requests\r\n\t\t\t\t\tif(this.data.core.reopen) { clearTimeout(this.data.core.reopen); }\r\n\t\t\t\t\tthis.data.core.reopen = setTimeout(function () { _this.__callback({}, _this); }, 50);\r\n\t\t\t\t\tthis.data.core.refreshing = false;\r\n\t\t\t\t\tthis.reopen();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\treopen : function () {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tif(this.data.core.to_open.length) {\r\n\t\t\t\t\t$.each(this.data.core.to_open, function (i, val) {\r\n\t\t\t\t\t\t_this.open_node(val, false, true); \r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.__callback({});\r\n\t\t\t},\r\n\t\t\trefresh : function (obj) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.save_opened();\r\n\t\t\t\tif(!obj) { obj = -1; }\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj) { obj = -1; }\r\n\t\t\t\tif(obj !== -1) { obj.children(\"UL\").remove(); }\r\n\t\t\t\telse { this.get_container_ul().empty(); }\r\n\t\t\t\tthis.load_node(obj, function () { _this.__callback({ \"obj\" : obj}); _this.reload_nodes(); });\r\n\t\t\t},\r\n\t\t\t// Dummy function to fire after the first load (so that there is a jstree.loaded event)\r\n\t\t\tloaded\t: function () { \r\n\t\t\t\tthis.__callback(); \r\n\t\t\t},\r\n\t\t\t// deal with focus\r\n\t\t\tset_focus\t: function () { \r\n\t\t\t\tif(this.is_focused()) { return; }\r\n\t\t\t\tvar f = $.jstree._focused();\r\n\t\t\t\tif(f) { f.unset_focus(); }\r\n\r\n\t\t\t\tthis.get_container().addClass(\"jstree-focused\"); \r\n\t\t\t\tfocused_instance = this.get_index(); \r\n\t\t\t\tthis.__callback();\r\n\t\t\t},\r\n\t\t\tis_focused\t: function () { \r\n\t\t\t\treturn focused_instance == this.get_index(); \r\n\t\t\t},\r\n\t\t\tunset_focus\t: function () {\r\n\t\t\t\tif(this.is_focused()) {\r\n\t\t\t\t\tthis.get_container().removeClass(\"jstree-focused\"); \r\n\t\t\t\t\tfocused_instance = -1; \r\n\t\t\t\t}\r\n\t\t\t\tthis.__callback();\r\n\t\t\t},\r\n\r\n\t\t\t// traverse\r\n\t\t\t_get_node\t\t: function (obj) { \r\n\t\t\t\tvar $obj = $(obj, this.get_container()); \r\n\t\t\t\tif($obj.is(\".jstree\") || obj == -1) { return -1; } \r\n\t\t\t\t$obj = $obj.closest(\"li\", this.get_container()); \r\n\t\t\t\treturn $obj.length ? $obj : false; \r\n\t\t\t},\r\n\t\t\t_get_next\t\t: function (obj, strict) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(obj === -1) { return this.get_container().find(\"> ul > li:first-child\"); }\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\tif(strict) { return (obj.nextAll(\"li\").size() > 0) ? obj.nextAll(\"li:eq(0)\") : false; }\r\n\r\n\t\t\t\tif(obj.hasClass(\"jstree-open\")) { return obj.find(\"li:eq(0)\"); }\r\n\t\t\t\telse if(obj.nextAll(\"li\").size() > 0) { return obj.nextAll(\"li:eq(0)\"); }\r\n\t\t\t\telse { return obj.parentsUntil(\".jstree\",\"li\").next(\"li\").eq(0); }\r\n\t\t\t},\r\n\t\t\t_get_prev\t\t: function (obj, strict) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(obj === -1) { return this.get_container().find(\"> ul > li:last-child\"); }\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\tif(strict) { return (obj.prevAll(\"li\").length > 0) ? obj.prevAll(\"li:eq(0)\") : false; }\r\n\r\n\t\t\t\tif(obj.prev(\"li\").length) {\r\n\t\t\t\t\tobj = obj.prev(\"li\").eq(0);\r\n\t\t\t\t\twhile(obj.hasClass(\"jstree-open\")) { obj = obj.children(\"ul:eq(0)\").children(\"li:last\"); }\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t}\r\n\t\t\t\telse { var o = obj.parentsUntil(\".jstree\",\"li:eq(0)\"); return o.length ? o : false; }\r\n\t\t\t},\r\n\t\t\t_get_parent\t\t: function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(obj == -1 || !obj.length) { return false; }\r\n\t\t\t\tvar o = obj.parentsUntil(\".jstree\", \"li:eq(0)\");\r\n\t\t\t\treturn o.length ? o : -1;\r\n\t\t\t},\r\n\t\t\t_get_children\t: function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(obj === -1) { return this.get_container().children(\"ul:eq(0)\").children(\"li\"); }\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\treturn obj.children(\"ul:eq(0)\").children(\"li\");\r\n\t\t\t},\r\n\t\t\tget_path\t\t: function (obj, id_mode) {\r\n\t\t\t\tvar p = [],\r\n\t\t\t\t\t_this = this;\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(obj === -1 || !obj || !obj.length) { return false; }\r\n\t\t\t\tobj.parentsUntil(\".jstree\", \"li\").each(function () {\r\n\t\t\t\t\tp.push( id_mode ? this.id : _this.get_text(this) );\r\n\t\t\t\t});\r\n\t\t\t\tp.reverse();\r\n\t\t\t\tp.push( id_mode ? obj.attr(\"id\") : this.get_text(obj) );\r\n\t\t\t\treturn p;\r\n\t\t\t},\r\n\r\n\t\t\t// string functions\r\n\t\t\t_get_string : function (key) {\r\n\t\t\t\treturn this._get_settings().core.strings[key] || key;\r\n\t\t\t},\r\n\r\n\t\t\tis_open\t\t: function (obj) { obj = this._get_node(obj); return obj && obj !== -1 && obj.hasClass(\"jstree-open\"); },\r\n\t\t\tis_closed\t: function (obj) { obj = this._get_node(obj); return obj && obj !== -1 && obj.hasClass(\"jstree-closed\"); },\r\n\t\t\tis_leaf\t\t: function (obj) { obj = this._get_node(obj); return obj && obj !== -1 && obj.hasClass(\"jstree-leaf\"); },\r\n\t\t\tcorrect_state\t: function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj || obj === -1) { return false; }\r\n\t\t\t\tobj.removeClass(\"jstree-closed jstree-open\").addClass(\"jstree-leaf\").children(\"ul\").remove();\r\n\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t},\r\n\t\t\t// open/close\r\n\t\t\topen_node\t: function (obj, callback, skip_animation) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\tif(!obj.hasClass(\"jstree-closed\")) { if(callback) { callback.call(); } return false; }\r\n\t\t\t\tvar s = skip_animation || is_ie6 ? 0 : this._get_settings().core.animation,\r\n\t\t\t\t\tt = this;\r\n\t\t\t\tif(!this._is_loaded(obj)) {\r\n\t\t\t\t\tobj.children(\"a\").addClass(\"jstree-loading\");\r\n\t\t\t\t\tthis.load_node(obj, function () { t.open_node(obj, callback, skip_animation); }, callback);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(this._get_settings().core.open_parents) {\r\n\t\t\t\t\t\tobj.parentsUntil(\".jstree\",\".jstree-closed\").each(function () {\r\n\t\t\t\t\t\t\tt.open_node(this, false, true);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(s) { obj.children(\"ul\").css(\"display\",\"none\"); }\r\n\t\t\t\t\tobj.removeClass(\"jstree-closed\").addClass(\"jstree-open\").children(\"a\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\tif(s) { obj.children(\"ul\").stop(true, true).slideDown(s, function () { this.style.display = \"\"; t.after_open(obj); }); }\r\n\t\t\t\t\telse { t.after_open(obj); }\r\n\t\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t\t\tif(callback) { callback.call(); }\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tafter_open\t: function (obj) { this.__callback({ \"obj\" : obj }); },\r\n\t\t\tclose_node\t: function (obj, skip_animation) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tvar s = skip_animation || is_ie6 ? 0 : this._get_settings().core.animation,\r\n\t\t\t\t\tt = this;\r\n\t\t\t\tif(!obj.length || !obj.hasClass(\"jstree-open\")) { return false; }\r\n\t\t\t\tif(s) { obj.children(\"ul\").attr(\"style\",\"display:block !important\"); }\r\n\t\t\t\tobj.removeClass(\"jstree-open\").addClass(\"jstree-closed\");\r\n\t\t\t\tif(s) { obj.children(\"ul\").stop(true, true).slideUp(s, function () { this.style.display = \"\"; t.after_close(obj); }); }\r\n\t\t\t\telse { t.after_close(obj); }\r\n\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t},\r\n\t\t\tafter_close\t: function (obj) { this.__callback({ \"obj\" : obj }); },\r\n\t\t\ttoggle_node\t: function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(obj.hasClass(\"jstree-closed\")) { return this.open_node(obj); }\r\n\t\t\t\tif(obj.hasClass(\"jstree-open\")) { return this.close_node(obj); }\r\n\t\t\t},\r\n\t\t\topen_all\t: function (obj, do_animation, original_obj) {\r\n\t\t\t\tobj = obj ? this._get_node(obj) : -1;\r\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container_ul(); }\r\n\t\t\t\tif(original_obj) { \r\n\t\t\t\t\tobj = obj.find(\"li.jstree-closed\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\toriginal_obj = obj;\r\n\t\t\t\t\tif(obj.is(\".jstree-closed\")) { obj = obj.find(\"li.jstree-closed\").andSelf(); }\r\n\t\t\t\t\telse { obj = obj.find(\"li.jstree-closed\"); }\r\n\t\t\t\t}\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tobj.each(function () { \r\n\t\t\t\t\tvar __this = this; \r\n\t\t\t\t\tif(!_this._is_loaded(this)) { _this.open_node(this, function() { _this.open_all(__this, do_animation, original_obj); }, !do_animation); }\r\n\t\t\t\t\telse { _this.open_node(this, false, !do_animation); }\r\n\t\t\t\t});\r\n\t\t\t\t// so that callback is fired AFTER all nodes are open\r\n\t\t\t\tif(original_obj.find('li.jstree-closed').length === 0) { this.__callback({ \"obj\" : original_obj }); }\r\n\t\t\t},\r\n\t\t\tclose_all\t: function (obj, do_animation) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tobj = obj ? this._get_node(obj) : this.get_container();\r\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container_ul(); }\r\n\t\t\t\tobj.find(\"li.jstree-open\").andSelf().each(function () { _this.close_node(this, !do_animation); });\r\n\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t},\r\n\t\t\tclean_node\t: function (obj) {\r\n\t\t\t\tobj = obj && obj != -1 ? $(obj) : this.get_container_ul();\r\n\t\t\t\tobj = obj.is(\"li\") ? obj.find(\"li\").andSelf() : obj.find(\"li\");\r\n\t\t\t\tobj.removeClass(\"jstree-last\")\r\n\t\t\t\t\t.filter(\"li:last-child\").addClass(\"jstree-last\").end()\r\n\t\t\t\t\t.filter(\":has(li)\")\r\n\t\t\t\t\t\t.not(\".jstree-open\").removeClass(\"jstree-leaf\").addClass(\"jstree-closed\");\r\n\t\t\t\tobj.not(\".jstree-open, .jstree-closed\").addClass(\"jstree-leaf\").children(\"ul\").remove();\r\n\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t},\r\n\t\t\t// rollback\r\n\t\t\tget_rollback : function () { \r\n\t\t\t\tthis.__callback();\r\n\t\t\t\treturn { i : this.get_index(), h : this.get_container().children(\"ul\").clone(true), d : this.data }; \r\n\t\t\t},\r\n\t\t\tset_rollback : function (html, data) {\r\n\t\t\t\tthis.get_container().empty().append(html);\r\n\t\t\t\tthis.data = data;\r\n\t\t\t\tthis.__callback();\r\n\t\t\t},\r\n\t\t\t// Dummy functions to be overwritten by any datastore plugin included\r\n\t\t\tload_node\t: function (obj, s_call, e_call) { this.__callback({ \"obj\" : obj }); },\r\n\t\t\t_is_loaded\t: function (obj) { return true; },\r\n\r\n\t\t\t// Basic operations: create\r\n\t\t\tcreate_node\t: function (obj, position, js, callback, is_loaded) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tposition = typeof position === \"undefined\" ? \"last\" : position;\r\n\t\t\t\tvar d = $(\"<li />\"),\r\n\t\t\t\t\ts = this._get_settings().core,\r\n\t\t\t\t\ttmp;\r\n\r\n\t\t\t\tif(obj !== -1 && !obj.length) { return false; }\r\n\t\t\t\tif(!is_loaded && !this._is_loaded(obj)) { this.load_node(obj, function () { this.create_node(obj, position, js, callback, true); }); return false; }\r\n\r\n\t\t\t\tthis.__rollback();\r\n\r\n\t\t\t\tif(typeof js === \"string\") { js = { \"data\" : js }; }\r\n\t\t\t\tif(!js) { js = {}; }\r\n\t\t\t\tif(js.attr) { d.attr(js.attr); }\r\n\t\t\t\tif(js.metadata) { d.data(js.metadata); }\r\n\t\t\t\tif(js.state) { d.addClass(\"jstree-\" + js.state); }\r\n\t\t\t\tif(!js.data) { js.data = this._get_string(\"new_node\"); }\r\n\t\t\t\tif(!$.isArray(js.data)) { tmp = js.data; js.data = []; js.data.push(tmp); }\r\n\t\t\t\t$.each(js.data, function (i, m) {\r\n\t\t\t\t\ttmp = $(\"<a />\");\r\n\t\t\t\t\tif($.isFunction(m)) { m = m.call(this, js); }\r\n\t\t\t\t\tif(typeof m == \"string\") { tmp.attr('href','#')[ s.html_titles ? \"html\" : \"text\" ](m); }\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif(!m.attr) { m.attr = {}; }\r\n\t\t\t\t\t\tif(!m.attr.href) { m.attr.href = '#'; }\r\n\t\t\t\t\t\ttmp.attr(m.attr)[ s.html_titles ? \"html\" : \"text\" ](m.title);\r\n\t\t\t\t\t\tif(m.language) { tmp.addClass(m.language); }\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttmp.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\r\n\t\t\t\t\tif(!m.icon && js.icon) { m.icon = js.icon; }\r\n\t\t\t\t\tif(m.icon) { \r\n\t\t\t\t\t\tif(m.icon.indexOf(\"/\") === -1) { tmp.children(\"ins\").addClass(m.icon); }\r\n\t\t\t\t\t\telse { tmp.children(\"ins\").css(\"background\",\"url('\" + m.icon + \"') center center no-repeat\"); }\r\n\t\t\t\t\t}\r\n\t\t\t\t\td.append(tmp);\r\n\t\t\t\t});\r\n\t\t\t\td.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\r\n\t\t\t\tif(obj === -1) {\r\n\t\t\t\t\tobj = this.get_container();\r\n\t\t\t\t\tif(position === \"before\") { position = \"first\"; }\r\n\t\t\t\t\tif(position === \"after\") { position = \"last\"; }\r\n\t\t\t\t}\r\n\t\t\t\tswitch(position) {\r\n\t\t\t\t\tcase \"before\": obj.before(d); tmp = this._get_parent(obj); break;\r\n\t\t\t\t\tcase \"after\" : obj.after(d);  tmp = this._get_parent(obj); break;\r\n\t\t\t\t\tcase \"inside\":\r\n\t\t\t\t\tcase \"first\" :\r\n\t\t\t\t\t\tif(!obj.children(\"ul\").length) { obj.append(\"<ul />\"); }\r\n\t\t\t\t\t\tobj.children(\"ul\").prepend(d);\r\n\t\t\t\t\t\ttmp = obj;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"last\":\r\n\t\t\t\t\t\tif(!obj.children(\"ul\").length) { obj.append(\"<ul />\"); }\r\n\t\t\t\t\t\tobj.children(\"ul\").append(d);\r\n\t\t\t\t\t\ttmp = obj;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tif(!obj.children(\"ul\").length) { obj.append(\"<ul />\"); }\r\n\t\t\t\t\t\tif(!position) { position = 0; }\r\n\t\t\t\t\t\ttmp = obj.children(\"ul\").children(\"li\").eq(position);\r\n\t\t\t\t\t\tif(tmp.length) { tmp.before(d); }\r\n\t\t\t\t\t\telse { obj.children(\"ul\").append(d); }\r\n\t\t\t\t\t\ttmp = obj;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif(tmp === -1 || tmp.get(0) === this.get_container().get(0)) { tmp = -1; }\r\n\t\t\t\tthis.clean_node(tmp);\r\n\t\t\t\tthis.__callback({ \"obj\" : d, \"parent\" : tmp });\r\n\t\t\t\tif(callback) { callback.call(this, d); }\r\n\t\t\t\treturn d;\r\n\t\t\t},\r\n\t\t\t// Basic operations: rename (deal with text)\r\n\t\t\tget_text\t: function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\tvar s = this._get_settings().core.html_titles;\r\n\t\t\t\tobj = obj.children(\"a:eq(0)\");\r\n\t\t\t\tif(s) {\r\n\t\t\t\t\tobj = obj.clone();\r\n\t\t\t\t\tobj.children(\"INS\").remove();\r\n\t\t\t\t\treturn obj.html();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\r\n\t\t\t\t\treturn obj.nodeValue;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tset_text\t: function (obj, val) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\tobj = obj.children(\"a:eq(0)\");\r\n\t\t\t\tif(this._get_settings().core.html_titles) {\r\n\t\t\t\t\tvar tmp = obj.children(\"INS\").clone();\r\n\t\t\t\t\tobj.html(val).prepend(tmp);\r\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val });\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\r\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val });\r\n\t\t\t\t\treturn (obj.nodeValue = val);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trename_node : function (obj, val) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tthis.__rollback();\r\n\t\t\t\tif(obj && obj.length && this.set_text.apply(this, Array.prototype.slice.call(arguments))) { this.__callback({ \"obj\" : obj, \"name\" : val }); }\r\n\t\t\t},\r\n\t\t\t// Basic operations: deleting nodes\r\n\t\t\tdelete_node : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\tthis.__rollback();\r\n\t\t\t\tvar p = this._get_parent(obj), prev = $([]), t = this;\r\n\t\t\t\tobj.each(function () {\r\n\t\t\t\t\tprev = prev.add(t._get_prev(this));\r\n\t\t\t\t});\r\n\t\t\t\tobj = obj.detach();\r\n\t\t\t\tif(p !== -1 && p.find(\"> ul > li\").length === 0) {\r\n\t\t\t\t\tp.removeClass(\"jstree-open jstree-closed\").addClass(\"jstree-leaf\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.clean_node(p);\r\n\t\t\t\tthis.__callback({ \"obj\" : obj, \"prev\" : prev, \"parent\" : p });\r\n\t\t\t\treturn obj;\r\n\t\t\t},\r\n\t\t\tprepare_move : function (o, r, pos, cb, is_cb) {\r\n\t\t\t\tvar p = {};\r\n\r\n\t\t\t\tp.ot = $.jstree._reference(o) || this;\r\n\t\t\t\tp.o = p.ot._get_node(o);\r\n\t\t\t\tp.r = r === - 1 ? -1 : this._get_node(r);\r\n\t\t\t\tp.p = (typeof pos === \"undefined\" || pos === false) ? \"last\" : pos; // TODO: move to a setting\r\n\t\t\t\tif(!is_cb && prepared_move.o && prepared_move.o[0] === p.o[0] && prepared_move.r[0] === p.r[0] && prepared_move.p === p.p) {\r\n\t\t\t\t\tthis.__callback(prepared_move);\r\n\t\t\t\t\tif(cb) { cb.call(this, prepared_move); }\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tp.ot = $.jstree._reference(p.o) || this;\r\n\t\t\t\tp.rt = $.jstree._reference(p.r) || this; // r === -1 ? p.ot : $.jstree._reference(p.r) || this\r\n\t\t\t\tif(p.r === -1 || !p.r) {\r\n\t\t\t\t\tp.cr = -1;\r\n\t\t\t\t\tswitch(p.p) {\r\n\t\t\t\t\t\tcase \"first\":\r\n\t\t\t\t\t\tcase \"before\":\r\n\t\t\t\t\t\tcase \"inside\":\r\n\t\t\t\t\t\t\tp.cp = 0; \r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"after\":\r\n\t\t\t\t\t\tcase \"last\":\r\n\t\t\t\t\t\t\tp.cp = p.rt.get_container().find(\" > ul > li\").length; \r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tp.cp = p.p;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(!/^(before|after)$/.test(p.p) && !this._is_loaded(p.r)) {\r\n\t\t\t\t\t\treturn this.load_node(p.r, function () { this.prepare_move(o, r, pos, cb, true); });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch(p.p) {\r\n\t\t\t\t\t\tcase \"before\":\r\n\t\t\t\t\t\t\tp.cp = p.r.index();\r\n\t\t\t\t\t\t\tp.cr = p.rt._get_parent(p.r);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"after\":\r\n\t\t\t\t\t\t\tp.cp = p.r.index() + 1;\r\n\t\t\t\t\t\t\tp.cr = p.rt._get_parent(p.r);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"inside\":\r\n\t\t\t\t\t\tcase \"first\":\r\n\t\t\t\t\t\t\tp.cp = 0;\r\n\t\t\t\t\t\t\tp.cr = p.r;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"last\":\r\n\t\t\t\t\t\t\tp.cp = p.r.find(\" > ul > li\").length; \r\n\t\t\t\t\t\t\tp.cr = p.r;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault: \r\n\t\t\t\t\t\t\tp.cp = p.p;\r\n\t\t\t\t\t\t\tp.cr = p.r;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tp.np = p.cr == -1 ? p.rt.get_container() : p.cr;\r\n\t\t\t\tp.op = p.ot._get_parent(p.o);\r\n\t\t\t\tp.cop = p.o.index();\r\n\t\t\t\tif(p.op === -1) { p.op = p.ot ? p.ot.get_container() : this.get_container(); }\r\n\t\t\t\tif(!/^(before|after)$/.test(p.p) && p.op && p.np && p.op[0] === p.np[0] && p.o.index() < p.cp) { p.cp++; }\r\n\t\t\t\t//if(p.p === \"before\" && p.op && p.np && p.op[0] === p.np[0] && p.o.index() < p.cp) { p.cp--; }\r\n\t\t\t\tp.or = p.np.find(\" > ul > li:nth-child(\" + (p.cp + 1) + \")\");\r\n\t\t\t\tprepared_move = p;\r\n\t\t\t\tthis.__callback(prepared_move);\r\n\t\t\t\tif(cb) { cb.call(this, prepared_move); }\r\n\t\t\t},\r\n\t\t\tcheck_move : function () {\r\n\t\t\t\tvar obj = prepared_move, ret = true, r = obj.r === -1 ? this.get_container() : obj.r;\r\n\t\t\t\tif(!obj || !obj.o || obj.or[0] === obj.o[0]) { return false; }\r\n\t\t\t\tif(obj.op && obj.np && obj.op[0] === obj.np[0] && obj.cp - 1 === obj.o.index()) { return false; }\r\n\t\t\t\tobj.o.each(function () { \r\n\t\t\t\t\tif(r.parentsUntil(\".jstree\", \"li\").andSelf().index(this) !== -1) { ret = false; return false; }\r\n\t\t\t\t});\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\t\t\tmove_node : function (obj, ref, position, is_copy, is_prepared, skip_check) {\r\n\t\t\t\tif(!is_prepared) { \r\n\t\t\t\t\treturn this.prepare_move(obj, ref, position, function (p) {\r\n\t\t\t\t\t\tthis.move_node(p, false, false, is_copy, true, skip_check);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif(is_copy) { \r\n\t\t\t\t\tprepared_move.cy = true;\r\n\t\t\t\t}\r\n\t\t\t\tif(!skip_check && !this.check_move()) { return false; }\r\n\r\n\t\t\t\tthis.__rollback();\r\n\t\t\t\tvar o = false;\r\n\t\t\t\tif(is_copy) {\r\n\t\t\t\t\to = obj.o.clone(true);\r\n\t\t\t\t\to.find(\"*[id]\").andSelf().each(function () {\r\n\t\t\t\t\t\tif(this.id) { this.id = \"copy_\" + this.id; }\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse { o = obj.o; }\r\n\r\n\t\t\t\tif(obj.or.length) { obj.or.before(o); }\r\n\t\t\t\telse { \r\n\t\t\t\t\tif(!obj.np.children(\"ul\").length) { $(\"<ul />\").appendTo(obj.np); }\r\n\t\t\t\t\tobj.np.children(\"ul:eq(0)\").append(o); \r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry { \r\n\t\t\t\t\tobj.ot.clean_node(obj.op);\r\n\t\t\t\t\tobj.rt.clean_node(obj.np);\r\n\t\t\t\t\tif(!obj.op.find(\"> ul > li\").length) {\r\n\t\t\t\t\t\tobj.op.removeClass(\"jstree-open jstree-closed\").addClass(\"jstree-leaf\").children(\"ul\").remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) { }\r\n\r\n\t\t\t\tif(is_copy) { \r\n\t\t\t\t\tprepared_move.cy = true;\r\n\t\t\t\t\tprepared_move.oc = o; \r\n\t\t\t\t}\r\n\t\t\t\tthis.__callback(prepared_move);\r\n\t\t\t\treturn prepared_move;\r\n\t\t\t},\r\n\t\t\t_get_move : function () { return prepared_move; }\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree ui plugin\r\n * This plugins handles selecting/deselecting/hovering/dehovering nodes\r\n */\r\n(function ($) {\r\n\tvar scrollbar_width, e1, e2;\r\n\t$(function() {\r\n\t\tif (/msie/.test(navigator.userAgent.toLowerCase())) {\r\n\t\t\te1 = $('<textarea cols=\"10\" rows=\"2\"></textarea>').css({ position: 'absolute', top: -1000, left: 0 }).appendTo('body');\r\n\t\t\te2 = $('<textarea cols=\"10\" rows=\"2\" style=\"overflow: hidden;\"></textarea>').css({ position: 'absolute', top: -1000, left: 0 }).appendTo('body');\r\n\t\t\tscrollbar_width = e1.width() - e2.width();\r\n\t\t\te1.add(e2).remove();\r\n\t\t} \r\n\t\telse {\r\n\t\t\te1 = $('<div />').css({ width: 100, height: 100, overflow: 'auto', position: 'absolute', top: -1000, left: 0 })\r\n\t\t\t\t\t.prependTo('body').append('<div />').find('div').css({ width: '100%', height: 200 });\r\n\t\t\tscrollbar_width = 100 - e1.width();\r\n\t\t\te1.parent().remove();\r\n\t\t}\r\n\t});\r\n\t$.jstree.plugin(\"ui\", {\r\n\t\t__init : function () { \r\n\t\t\tthis.data.ui.selected = $(); \r\n\t\t\tthis.data.ui.last_selected = false; \r\n\t\t\tthis.data.ui.hovered = null;\r\n\t\t\tthis.data.ui.to_select = this.get_settings().ui.initially_select;\r\n\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.delegate(\"a\", \"click.jstree\", $.proxy(function (event) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tevent.currentTarget.blur();\r\n\t\t\t\t\t\tif(!$(event.currentTarget).hasClass(\"jstree-loading\")) {\r\n\t\t\t\t\t\t\tthis.select_node(event.currentTarget, true, event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\"a\", \"mouseenter.jstree\", $.proxy(function (event) {\r\n\t\t\t\t\t\tif(!$(event.currentTarget).hasClass(\"jstree-loading\")) {\r\n\t\t\t\t\t\t\tthis.hover_node(event.target);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\"a\", \"mouseleave.jstree\", $.proxy(function (event) {\r\n\t\t\t\t\t\tif(!$(event.currentTarget).hasClass(\"jstree-loading\")) {\r\n\t\t\t\t\t\t\tthis.dehover_node(event.target);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"reopen.jstree\", $.proxy(function () { \r\n\t\t\t\t\t\tthis.reselect();\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"get_rollback.jstree\", $.proxy(function () { \r\n\t\t\t\t\t\tthis.dehover_node();\r\n\t\t\t\t\t\tthis.save_selected();\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"set_rollback.jstree\", $.proxy(function () { \r\n\t\t\t\t\t\tthis.reselect();\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"close_node.jstree\", $.proxy(function (event, data) { \r\n\t\t\t\t\t\tvar s = this._get_settings().ui,\r\n\t\t\t\t\t\t\tobj = this._get_node(data.rslt.obj),\r\n\t\t\t\t\t\t\tclk = (obj && obj.length) ? obj.children(\"ul\").find(\"a.jstree-clicked\") : $(),\r\n\t\t\t\t\t\t\t_this = this;\r\n\t\t\t\t\t\tif(s.selected_parent_close === false || !clk.length) { return; }\r\n\t\t\t\t\t\tclk.each(function () { \r\n\t\t\t\t\t\t\t_this.deselect_node(this);\r\n\t\t\t\t\t\t\tif(s.selected_parent_close === \"select_parent\") { _this.select_node(obj); }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"delete_node.jstree\", $.proxy(function (event, data) { \r\n\t\t\t\t\t\tvar s = this._get_settings().ui.select_prev_on_delete,\r\n\t\t\t\t\t\t\tobj = this._get_node(data.rslt.obj),\r\n\t\t\t\t\t\t\tclk = (obj && obj.length) ? obj.find(\"a.jstree-clicked\") : [],\r\n\t\t\t\t\t\t\t_this = this;\r\n\t\t\t\t\t\tclk.each(function () { _this.deselect_node(this); });\r\n\t\t\t\t\t\tif(s && clk.length) { \r\n\t\t\t\t\t\t\tdata.rslt.prev.each(function () { \r\n\t\t\t\t\t\t\t\tif(this.parentNode) { _this.select_node(this); return false; /* if return false is removed all prev nodes will be selected */}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (event, data) { \r\n\t\t\t\t\t\tif(data.rslt.cy) { \r\n\t\t\t\t\t\t\tdata.rslt.oc.find(\"a.jstree-clicked\").removeClass(\"jstree-clicked\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this));\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\tselect_limit : -1, // 0, 1, 2 ... or -1 for unlimited\r\n\t\t\tselect_multiple_modifier : \"ctrl\", // on, or ctrl, shift, alt\r\n\t\t\tselect_range_modifier : \"shift\",\r\n\t\t\tselected_parent_close : \"select_parent\", // false, \"deselect\", \"select_parent\"\r\n\t\t\tselected_parent_open : true,\r\n\t\t\tselect_prev_on_delete : true,\r\n\t\t\tdisable_selecting_children : false,\r\n\t\t\tinitially_select : []\r\n\t\t},\r\n\t\t_fn : { \r\n\t\t\t_get_node : function (obj, allow_multiple) {\r\n\t\t\t\tif(typeof obj === \"undefined\" || obj === null) { return allow_multiple ? this.data.ui.selected : this.data.ui.last_selected; }\r\n\t\t\t\tvar $obj = $(obj, this.get_container()); \r\n\t\t\t\tif($obj.is(\".jstree\") || obj == -1) { return -1; } \r\n\t\t\t\t$obj = $obj.closest(\"li\", this.get_container()); \r\n\t\t\t\treturn $obj.length ? $obj : false; \r\n\t\t\t},\r\n\t\t\t_ui_notify : function (n, data) {\r\n\t\t\t\tif(data.selected) {\r\n\t\t\t\t\tthis.select_node(n, false);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsave_selected : function () {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.data.ui.to_select = [];\r\n\t\t\t\tthis.data.ui.selected.each(function () { if(this.id) { _this.data.ui.to_select.push(\"#\" + this.id.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\")); } });\r\n\t\t\t\tthis.__callback(this.data.ui.to_select);\r\n\t\t\t},\r\n\t\t\treselect : function () {\r\n\t\t\t\tvar _this = this,\r\n\t\t\t\t\ts = this.data.ui.to_select;\r\n\t\t\t\ts = $.map($.makeArray(s), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\r\n\t\t\t\t// this.deselect_all(); WHY deselect, breaks plugin state notifier?\r\n\t\t\t\t$.each(s, function (i, val) { if(val && val !== \"#\") { _this.select_node(val); } });\r\n\t\t\t\tthis.data.ui.selected = this.data.ui.selected.filter(function () { return this.parentNode; });\r\n\t\t\t\tthis.__callback();\r\n\t\t\t},\r\n\t\t\trefresh : function (obj) {\r\n\t\t\t\tthis.save_selected();\r\n\t\t\t\treturn this.__call_old();\r\n\t\t\t},\r\n\t\t\thover_node : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\t//if(this.data.ui.hovered && obj.get(0) === this.data.ui.hovered.get(0)) { return; }\r\n\t\t\t\tif(!obj.hasClass(\"jstree-hovered\")) { this.dehover_node(); }\r\n\t\t\t\tthis.data.ui.hovered = obj.children(\"a\").addClass(\"jstree-hovered\").parent();\r\n\t\t\t\tthis._fix_scroll(obj);\r\n\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t},\r\n\t\t\tdehover_node : function () {\r\n\t\t\t\tvar obj = this.data.ui.hovered, p;\r\n\t\t\t\tif(!obj || !obj.length) { return false; }\r\n\t\t\t\tp = obj.children(\"a\").removeClass(\"jstree-hovered\").parent();\r\n\t\t\t\tif(this.data.ui.hovered[0] === p[0]) { this.data.ui.hovered = null; }\r\n\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t},\r\n\t\t\tselect_node : function (obj, check, e) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(obj == -1 || !obj || !obj.length) { return false; }\r\n\t\t\t\tvar s = this._get_settings().ui,\r\n\t\t\t\t\tis_multiple = (s.select_multiple_modifier == \"on\" || (s.select_multiple_modifier !== false && e && e[s.select_multiple_modifier + \"Key\"])),\r\n\t\t\t\t\tis_range = (s.select_range_modifier !== false && e && e[s.select_range_modifier + \"Key\"] && this.data.ui.last_selected && this.data.ui.last_selected[0] !== obj[0] && this.data.ui.last_selected.parent()[0] === obj.parent()[0]),\r\n\t\t\t\t\tis_selected = this.is_selected(obj),\r\n\t\t\t\t\tproceed = true,\r\n\t\t\t\t\tt = this;\r\n\t\t\t\tif(check) {\r\n\t\t\t\t\tif(s.disable_selecting_children && is_multiple && \r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t(obj.parentsUntil(\".jstree\",\"li\").children(\"a.jstree-clicked\").length) ||\r\n\t\t\t\t\t\t\t(obj.children(\"ul\").find(\"a.jstree-clicked:eq(0)\").length)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tproceed = false;\r\n\t\t\t\t\tswitch(!0) {\r\n\t\t\t\t\t\tcase (is_range):\r\n\t\t\t\t\t\t\tthis.data.ui.last_selected.addClass(\"jstree-last-selected\");\r\n\t\t\t\t\t\t\tobj = obj[ obj.index() < this.data.ui.last_selected.index() ? \"nextUntil\" : \"prevUntil\" ](\".jstree-last-selected\").andSelf();\r\n\t\t\t\t\t\t\tif(s.select_limit == -1 || obj.length < s.select_limit) {\r\n\t\t\t\t\t\t\t\tthis.data.ui.last_selected.removeClass(\"jstree-last-selected\");\r\n\t\t\t\t\t\t\t\tthis.data.ui.selected.each(function () {\r\n\t\t\t\t\t\t\t\t\tif(this !== t.data.ui.last_selected[0]) { t.deselect_node(this); }\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tis_selected = false;\r\n\t\t\t\t\t\t\t\tproceed = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tproceed = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase (is_selected && !is_multiple): \r\n\t\t\t\t\t\t\tthis.deselect_all();\r\n\t\t\t\t\t\t\tis_selected = false;\r\n\t\t\t\t\t\t\tproceed = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase (!is_selected && !is_multiple): \r\n\t\t\t\t\t\t\tif(s.select_limit == -1 || s.select_limit > 0) {\r\n\t\t\t\t\t\t\t\tthis.deselect_all();\r\n\t\t\t\t\t\t\t\tproceed = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase (is_selected && is_multiple): \r\n\t\t\t\t\t\t\tthis.deselect_node(obj);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase (!is_selected && is_multiple): \r\n\t\t\t\t\t\t\tif(s.select_limit == -1 || this.data.ui.selected.length + 1 <= s.select_limit) { \r\n\t\t\t\t\t\t\t\tproceed = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(proceed && !is_selected) {\r\n\t\t\t\t\tif(!is_range) { this.data.ui.last_selected = obj; }\r\n\t\t\t\t\tobj.children(\"a\").addClass(\"jstree-clicked\");\r\n\t\t\t\t\tif(s.selected_parent_open) {\r\n\t\t\t\t\t\tobj.parents(\".jstree-closed\").each(function () { t.open_node(this, false, true); });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.data.ui.selected = this.data.ui.selected.add(obj);\r\n\t\t\t\t\tthis._fix_scroll(obj.eq(0));\r\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"e\" : e });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_fix_scroll : function (obj) {\r\n\t\t\t\tvar c = this.get_container()[0], t;\r\n\t\t\t\tif(c.scrollHeight > c.offsetHeight) {\r\n\t\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\t\tif(!obj || obj === -1 || !obj.length || !obj.is(\":visible\")) { return; }\r\n\t\t\t\t\tt = obj.offset().top - this.get_container().offset().top;\r\n\t\t\t\t\tif(t < 0) { \r\n\t\t\t\t\t\tc.scrollTop = c.scrollTop + t - 1; \r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(t + this.data.core.li_height + (c.scrollWidth > c.offsetWidth ? scrollbar_width : 0) > c.offsetHeight) { \r\n\t\t\t\t\t\tc.scrollTop = c.scrollTop + (t - c.offsetHeight + this.data.core.li_height + 1 + (c.scrollWidth > c.offsetWidth ? scrollbar_width : 0)); \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeselect_node : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\tif(this.is_selected(obj)) {\r\n\t\t\t\t\tobj.children(\"a\").removeClass(\"jstree-clicked\");\r\n\t\t\t\t\tthis.data.ui.selected = this.data.ui.selected.not(obj);\r\n\t\t\t\t\tif(this.data.ui.last_selected.get(0) === obj.get(0)) { this.data.ui.last_selected = this.data.ui.selected.eq(0); }\r\n\t\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoggle_select : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj.length) { return false; }\r\n\t\t\t\tif(this.is_selected(obj)) { this.deselect_node(obj); }\r\n\t\t\t\telse { this.select_node(obj); }\r\n\t\t\t},\r\n\t\t\tis_selected : function (obj) { return this.data.ui.selected.index(this._get_node(obj)) >= 0; },\r\n\t\t\tget_selected : function (context) { \r\n\t\t\t\treturn context ? $(context).find(\"a.jstree-clicked\").parent() : this.data.ui.selected; \r\n\t\t\t},\r\n\t\t\tdeselect_all : function (context) {\r\n\t\t\t\tvar ret = context ? $(context).find(\"a.jstree-clicked\").parent() : this.get_container().find(\"a.jstree-clicked\").parent();\r\n\t\t\t\tret.children(\"a.jstree-clicked\").removeClass(\"jstree-clicked\");\r\n\t\t\t\tthis.data.ui.selected = $([]);\r\n\t\t\t\tthis.data.ui.last_selected = false;\r\n\t\t\t\tthis.__callback({ \"obj\" : ret });\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t// include the selection plugin by default\r\n\t$.jstree.defaults.plugins.push(\"ui\");\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree CRRM plugin\r\n * Handles creating/renaming/removing/moving nodes by user interaction.\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"crrm\", { \r\n\t\t__init : function () {\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\tif(this._get_settings().crrm.move.open_onmove) {\r\n\t\t\t\t\t\tvar t = this;\r\n\t\t\t\t\t\tdata.rslt.np.parentsUntil(\".jstree\").andSelf().filter(\".jstree-closed\").each(function () {\r\n\t\t\t\t\t\t\tt.open_node(this, false, true);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this));\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\tinput_width_limit : 200,\r\n\t\t\tmove : {\r\n\t\t\t\talways_copy\t\t\t: false, // false, true or \"multitree\"\r\n\t\t\t\topen_onmove\t\t\t: true,\r\n\t\t\t\tdefault_position\t: \"last\",\r\n\t\t\t\tcheck_move\t\t\t: function (m) { return true; }\r\n\t\t\t}\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\t_show_input : function (obj, callback) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tvar rtl = this._get_settings().core.rtl,\r\n\t\t\t\t\tw = this._get_settings().crrm.input_width_limit,\r\n\t\t\t\t\tw1 = obj.children(\"ins\").width(),\r\n\t\t\t\t\tw2 = obj.find(\"> a:visible > ins\").width() * obj.find(\"> a:visible > ins\").length,\r\n\t\t\t\t\tt = this.get_text(obj),\r\n\t\t\t\t\th1 = $(\"<div />\", { css : { \"position\" : \"absolute\", \"top\" : \"-200px\", \"left\" : (rtl ? \"0px\" : \"-1000px\"), \"visibility\" : \"hidden\" } }).appendTo(\"body\"),\r\n\t\t\t\t\th2 = obj.css(\"position\",\"relative\").append(\r\n\t\t\t\t\t$(\"<input />\", { \r\n\t\t\t\t\t\t\"value\" : t,\r\n\t\t\t\t\t\t\"class\" : \"jstree-rename-input\",\r\n\t\t\t\t\t\t// \"size\" : t.length,\r\n\t\t\t\t\t\t\"css\" : {\r\n\t\t\t\t\t\t\t\"padding\" : \"0\",\r\n\t\t\t\t\t\t\t\"border\" : \"1px solid silver\",\r\n\t\t\t\t\t\t\t\"position\" : \"absolute\",\r\n\t\t\t\t\t\t\t\"left\"  : (rtl ? \"auto\" : (w1 + w2 + 4) + \"px\"),\r\n\t\t\t\t\t\t\t\"right\" : (rtl ? (w1 + w2 + 4) + \"px\" : \"auto\"),\r\n\t\t\t\t\t\t\t\"top\" : \"0px\",\r\n\t\t\t\t\t\t\t\"height\" : (this.data.core.li_height - 2) + \"px\",\r\n\t\t\t\t\t\t\t\"lineHeight\" : (this.data.core.li_height - 2) + \"px\",\r\n\t\t\t\t\t\t\t\"width\" : \"150px\" // will be set a bit further down\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"blur\" : $.proxy(function () {\r\n\t\t\t\t\t\t\tvar i = obj.children(\".jstree-rename-input\"),\r\n\t\t\t\t\t\t\t\tv = i.val();\r\n\t\t\t\t\t\t\tif(v === \"\") { v = t; }\r\n\t\t\t\t\t\t\th1.remove();\r\n\t\t\t\t\t\t\ti.remove(); // rollback purposes\r\n\t\t\t\t\t\t\tthis.set_text(obj,t); // rollback purposes\r\n\t\t\t\t\t\t\tthis.rename_node(obj, v);\r\n\t\t\t\t\t\t\tcallback.call(this, obj, v, t);\r\n\t\t\t\t\t\t\tobj.css(\"position\",\"\");\r\n\t\t\t\t\t\t}, this),\r\n\t\t\t\t\t\t\"keyup\" : function (event) {\r\n\t\t\t\t\t\t\tvar key = event.keyCode || event.which;\r\n\t\t\t\t\t\t\tif(key == 27) { this.value = t; this.blur(); return; }\r\n\t\t\t\t\t\t\telse if(key == 13) { this.blur(); return; }\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\th2.width(Math.min(h1.text(\"pW\" + this.value).width(),w));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"keypress\" : function(event) {\r\n\t\t\t\t\t\t\tvar key = event.keyCode || event.which;\r\n\t\t\t\t\t\t\tif(key == 13) { return false; }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t).children(\".jstree-rename-input\"); \r\n\t\t\t\tthis.set_text(obj, \"\");\r\n\t\t\t\th1.css({\r\n\t\t\t\t\t\tfontFamily\t\t: h2.css('fontFamily')\t\t|| '',\r\n\t\t\t\t\t\tfontSize\t\t: h2.css('fontSize')\t\t|| '',\r\n\t\t\t\t\t\tfontWeight\t\t: h2.css('fontWeight')\t\t|| '',\r\n\t\t\t\t\t\tfontStyle\t\t: h2.css('fontStyle')\t\t|| '',\r\n\t\t\t\t\t\tfontStretch\t\t: h2.css('fontStretch')\t\t|| '',\r\n\t\t\t\t\t\tfontVariant\t\t: h2.css('fontVariant')\t\t|| '',\r\n\t\t\t\t\t\tletterSpacing\t: h2.css('letterSpacing')\t|| '',\r\n\t\t\t\t\t\twordSpacing\t\t: h2.css('wordSpacing')\t\t|| ''\r\n\t\t\t\t});\r\n\t\t\t\th2.width(Math.min(h1.text(\"pW\" + h2[0].value).width(),w))[0].select();\r\n\t\t\t},\r\n\t\t\trename : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tthis.__rollback();\r\n\t\t\t\tvar f = this.__callback;\r\n\t\t\t\tthis._show_input(obj, function (obj, new_name, old_name) { \r\n\t\t\t\t\tf.call(this, { \"obj\" : obj, \"new_name\" : new_name, \"old_name\" : old_name });\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcreate : function (obj, position, js, callback, skip_rename) {\r\n\t\t\t\tvar t, _this = this;\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj) { obj = -1; }\r\n\t\t\t\tthis.__rollback();\r\n\t\t\t\tt = this.create_node(obj, position, js, function (t) {\r\n\t\t\t\t\tvar p = this._get_parent(t),\r\n\t\t\t\t\t\tpos = $(t).index();\r\n\t\t\t\t\tif(callback) { callback.call(this, t); }\r\n\t\t\t\t\tif(p.length && p.hasClass(\"jstree-closed\")) { this.open_node(p, false, true); }\r\n\t\t\t\t\tif(!skip_rename) { \r\n\t\t\t\t\t\tthis._show_input(t, function (obj, new_name, old_name) { \r\n\t\t\t\t\t\t\t_this.__callback({ \"obj\" : obj, \"name\" : new_name, \"parent\" : p, \"position\" : pos });\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { _this.__callback({ \"obj\" : t, \"name\" : this.get_text(t), \"parent\" : p, \"position\" : pos }); }\r\n\t\t\t\t});\r\n\t\t\t\treturn t;\r\n\t\t\t},\r\n\t\t\tremove : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj, true);\r\n\t\t\t\tvar p = this._get_parent(obj), prev = this._get_prev(obj);\r\n\t\t\t\tthis.__rollback();\r\n\t\t\t\tobj = this.delete_node(obj);\r\n\t\t\t\tif(obj !== false) { this.__callback({ \"obj\" : obj, \"prev\" : prev, \"parent\" : p }); }\r\n\t\t\t},\r\n\t\t\tcheck_move : function () {\r\n\t\t\t\tif(!this.__call_old()) { return false; }\r\n\t\t\t\tvar s = this._get_settings().crrm.move;\r\n\t\t\t\tif(!s.check_move.call(this, this._get_move())) { return false; }\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tmove_node : function (obj, ref, position, is_copy, is_prepared, skip_check) {\r\n\t\t\t\tvar s = this._get_settings().crrm.move;\r\n\t\t\t\tif(!is_prepared) { \r\n\t\t\t\t\tif(typeof position === \"undefined\") { position = s.default_position; }\r\n\t\t\t\t\tif(position === \"inside\" && !s.default_position.match(/^(before|after)$/)) { position = s.default_position; }\r\n\t\t\t\t\treturn this.__call_old(true, obj, ref, position, is_copy, false, skip_check);\r\n\t\t\t\t}\r\n\t\t\t\t// if the move is already prepared\r\n\t\t\t\tif(s.always_copy === true || (s.always_copy === \"multitree\" && obj.rt.get_index() !== obj.ot.get_index() )) {\r\n\t\t\t\t\tis_copy = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.__call_old(true, obj, ref, position, is_copy, true, skip_check);\r\n\t\t\t},\r\n\r\n\t\t\tcut : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj, true);\r\n\t\t\t\tif(!obj || !obj.length) { return false; }\r\n\t\t\t\tthis.data.crrm.cp_nodes = false;\r\n\t\t\t\tthis.data.crrm.ct_nodes = obj;\r\n\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t},\r\n\t\t\tcopy : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj, true);\r\n\t\t\t\tif(!obj || !obj.length) { return false; }\r\n\t\t\t\tthis.data.crrm.ct_nodes = false;\r\n\t\t\t\tthis.data.crrm.cp_nodes = obj;\r\n\t\t\t\tthis.__callback({ \"obj\" : obj });\r\n\t\t\t},\r\n\t\t\tpaste : function (obj) { \r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj || !obj.length) { return false; }\r\n\t\t\t\tvar nodes = this.data.crrm.ct_nodes ? this.data.crrm.ct_nodes : this.data.crrm.cp_nodes;\r\n\t\t\t\tif(!this.data.crrm.ct_nodes && !this.data.crrm.cp_nodes) { return false; }\r\n\t\t\t\tif(this.data.crrm.ct_nodes) { this.move_node(this.data.crrm.ct_nodes, obj); this.data.crrm.ct_nodes = false; }\r\n\t\t\t\tif(this.data.crrm.cp_nodes) { this.move_node(this.data.crrm.cp_nodes, obj, false, true); }\r\n\t\t\t\tthis.__callback({ \"obj\" : obj, \"nodes\" : nodes });\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t// include the crr plugin by default\r\n\t// $.jstree.defaults.plugins.push(\"crrm\");\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree themes plugin\r\n * Handles loading and setting themes, as well as detecting path to themes, etc.\r\n */\r\n(function ($) {\r\n\tvar themes_loaded = [];\r\n\t// this variable stores the path to the themes folder - if left as false - it will be autodetected\r\n\t$.jstree._themes = false;\r\n\t$.jstree.plugin(\"themes\", {\r\n\t\t__init : function () { \r\n\t\t\tthis.get_container()\r\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function () {\r\n\t\t\t\t\t\tvar s = this._get_settings().themes;\r\n\t\t\t\t\t\tthis.data.themes.dots = s.dots; \r\n\t\t\t\t\t\tthis.data.themes.icons = s.icons; \r\n\t\t\t\t\t\tthis.set_theme(s.theme, s.url);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"loaded.jstree\", $.proxy(function () {\r\n\t\t\t\t\t\t// bound here too, as simple HTML tree's won't honor dots & icons otherwise\r\n\t\t\t\t\t\tif(!this.data.themes.dots) { this.hide_dots(); }\r\n\t\t\t\t\t\telse { this.show_dots(); }\r\n\t\t\t\t\t\tif(!this.data.themes.icons) { this.hide_icons(); }\r\n\t\t\t\t\t\telse { this.show_icons(); }\r\n\t\t\t\t\t}, this));\r\n\t\t},\r\n\t\tdefaults : { \r\n\t\t\ttheme : \"default\", \r\n\t\t\turl : false,\r\n\t\t\tdots : true,\r\n\t\t\ticons : true\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tset_theme : function (theme_name, theme_url) {\r\n\t\t\t\tif(!theme_name) { return false; }\r\n\t\t\t\tif(!theme_url) { theme_url = $.jstree._themes + theme_name + '/style.css'; }\r\n\t\t\t\tif($.inArray(theme_url, themes_loaded) == -1) {\r\n\t\t\t\t\t$.vakata.css.add_sheet({ \"url\" : theme_url });\r\n\t\t\t\t\tthemes_loaded.push(theme_url);\r\n\t\t\t\t}\r\n\t\t\t\tif(this.data.themes.theme != theme_name) {\r\n\t\t\t\t\tthis.get_container().removeClass('jstree-' + this.data.themes.theme);\r\n\t\t\t\t\tthis.data.themes.theme = theme_name;\r\n\t\t\t\t}\r\n\t\t\t\tthis.get_container().addClass('jstree-' + theme_name);\r\n\t\t\t\tif(!this.data.themes.dots) { this.hide_dots(); }\r\n\t\t\t\telse { this.show_dots(); }\r\n\t\t\t\tif(!this.data.themes.icons) { this.hide_icons(); }\r\n\t\t\t\telse { this.show_icons(); }\r\n\t\t\t\tthis.__callback();\r\n\t\t\t},\r\n\t\t\tget_theme\t: function () { return this.data.themes.theme; },\r\n\r\n\t\t\tshow_dots\t: function () { this.data.themes.dots = true; this.get_container().children(\"ul\").removeClass(\"jstree-no-dots\"); },\r\n\t\t\thide_dots\t: function () { this.data.themes.dots = false; this.get_container().children(\"ul\").addClass(\"jstree-no-dots\"); },\r\n\t\t\ttoggle_dots\t: function () { if(this.data.themes.dots) { this.hide_dots(); } else { this.show_dots(); } },\r\n\r\n\t\t\tshow_icons\t: function () { this.data.themes.icons = true; this.get_container().children(\"ul\").removeClass(\"jstree-no-icons\"); },\r\n\t\t\thide_icons\t: function () { this.data.themes.icons = false; this.get_container().children(\"ul\").addClass(\"jstree-no-icons\"); },\r\n\t\t\ttoggle_icons: function () { if(this.data.themes.icons) { this.hide_icons(); } else { this.show_icons(); } }\r\n\t\t}\r\n\t});\r\n\t// autodetect themes path\r\n\t$(function () {\r\n\t\tif($.jstree._themes === false) {\r\n\t\t\t$(\"script\").each(function () { \r\n\t\t\t\tif(this.src.toString().match(/jquery\\.jstree[^\\/]*?\\.js(\\?.*)?$/)) { \r\n\t\t\t\t\t$.jstree._themes = this.src.toString().replace(/jquery\\.jstree[^\\/]*?\\.js(\\?.*)?$/, \"\") + 'themes/'; \r\n\t\t\t\t\treturn false; \r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tif($.jstree._themes === false) { $.jstree._themes = \"themes/\"; }\r\n\t});\r\n\t// include the themes plugin by default\r\n\t$.jstree.defaults.plugins.push(\"themes\");\r\n})(jQuery);\r\n//*/\r\n\r\n/*\r\n * jsTree hotkeys plugin\r\n * Enables keyboard navigation for all tree instances\r\n * Depends on the jstree ui & jquery hotkeys plugins\r\n */\r\n(function ($) {\r\n\tvar bound = [];\r\n\tfunction exec(i, event) {\r\n\t\tvar f = $.jstree._focused(), tmp;\r\n\t\tif(f && f.data && f.data.hotkeys && f.data.hotkeys.enabled) { \r\n\t\t\ttmp = f._get_settings().hotkeys[i];\r\n\t\t\tif(tmp) { return tmp.call(f, event); }\r\n\t\t}\r\n\t}\r\n\t$.jstree.plugin(\"hotkeys\", {\r\n\t\t__init : function () {\r\n\t\t\tif(typeof $.hotkeys === \"undefined\") { throw \"jsTree hotkeys: jQuery hotkeys plugin not included.\"; }\r\n\t\t\tif(!this.data.ui) { throw \"jsTree hotkeys: jsTree UI plugin not included.\"; }\r\n\t\t\t$.each(this._get_settings().hotkeys, function (i, v) {\r\n\t\t\t\tif(v !== false && $.inArray(i, bound) == -1) {\r\n\t\t\t\t\t$(document).bind(\"keydown\", i, function (event) { return exec(i, event); });\r\n\t\t\t\t\tbound.push(i);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.bind(\"lock.jstree\", $.proxy(function () {\r\n\t\t\t\t\t\tif(this.data.hotkeys.enabled) { this.data.hotkeys.enabled = false; this.data.hotkeys.revert = true; }\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"unlock.jstree\", $.proxy(function () {\r\n\t\t\t\t\t\tif(this.data.hotkeys.revert) { this.data.hotkeys.enabled = true; }\r\n\t\t\t\t\t}, this));\r\n\t\t\tthis.enable_hotkeys();\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\t\"up\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\r\n\t\t\t\tthis.hover_node(this._get_prev(o));\r\n\t\t\t\treturn false; \r\n\t\t\t},\r\n\t\t\t\"ctrl+up\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\r\n\t\t\t\tthis.hover_node(this._get_prev(o));\r\n\t\t\t\treturn false; \r\n\t\t\t},\r\n\t\t\t\"shift+up\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\r\n\t\t\t\tthis.hover_node(this._get_prev(o));\r\n\t\t\t\treturn false; \r\n\t\t\t},\r\n\t\t\t\"down\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\r\n\t\t\t\tthis.hover_node(this._get_next(o));\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"ctrl+down\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\r\n\t\t\t\tthis.hover_node(this._get_next(o));\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"shift+down\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\r\n\t\t\t\tthis.hover_node(this._get_next(o));\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"left\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\r\n\t\t\t\tif(o) {\r\n\t\t\t\t\tif(o.hasClass(\"jstree-open\")) { this.close_node(o); }\r\n\t\t\t\t\telse { this.hover_node(this._get_prev(o)); }\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"ctrl+left\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\r\n\t\t\t\tif(o) {\r\n\t\t\t\t\tif(o.hasClass(\"jstree-open\")) { this.close_node(o); }\r\n\t\t\t\t\telse { this.hover_node(this._get_prev(o)); }\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"shift+left\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\r\n\t\t\t\tif(o) {\r\n\t\t\t\t\tif(o.hasClass(\"jstree-open\")) { this.close_node(o); }\r\n\t\t\t\t\telse { this.hover_node(this._get_prev(o)); }\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"right\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\r\n\t\t\t\tif(o && o.length) {\r\n\t\t\t\t\tif(o.hasClass(\"jstree-closed\")) { this.open_node(o); }\r\n\t\t\t\t\telse { this.hover_node(this._get_next(o)); }\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"ctrl+right\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\r\n\t\t\t\tif(o && o.length) {\r\n\t\t\t\t\tif(o.hasClass(\"jstree-closed\")) { this.open_node(o); }\r\n\t\t\t\t\telse { this.hover_node(this._get_next(o)); }\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"shift+right\" : function () { \r\n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\r\n\t\t\t\tif(o && o.length) {\r\n\t\t\t\t\tif(o.hasClass(\"jstree-closed\")) { this.open_node(o); }\r\n\t\t\t\t\telse { this.hover_node(this._get_next(o)); }\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"space\" : function () { \r\n\t\t\t\tif(this.data.ui.hovered) { this.data.ui.hovered.children(\"a:eq(0)\").click(); } \r\n\t\t\t\treturn false; \r\n\t\t\t},\r\n\t\t\t\"ctrl+space\" : function (event) { \r\n\t\t\t\tevent.type = \"click\";\r\n\t\t\t\tif(this.data.ui.hovered) { this.data.ui.hovered.children(\"a:eq(0)\").trigger(event); } \r\n\t\t\t\treturn false; \r\n\t\t\t},\r\n\t\t\t\"shift+space\" : function (event) { \r\n\t\t\t\tevent.type = \"click\";\r\n\t\t\t\tif(this.data.ui.hovered) { this.data.ui.hovered.children(\"a:eq(0)\").trigger(event); } \r\n\t\t\t\treturn false; \r\n\t\t\t},\r\n\t\t\t\"f2\" : function () { this.rename(this.data.ui.hovered || this.data.ui.last_selected); },\r\n\t\t\t\"del\" : function () { this.remove(this.data.ui.hovered || this._get_node(null)); }\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tenable_hotkeys : function () {\r\n\t\t\t\tthis.data.hotkeys.enabled = true;\r\n\t\t\t},\r\n\t\t\tdisable_hotkeys : function () {\r\n\t\t\t\tthis.data.hotkeys.enabled = false;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree JSON plugin\r\n * The JSON data store. Datastores are build by overriding the `load_node` and `_is_loaded` functions.\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"json_data\", {\r\n\t\t__init : function() {\r\n\t\t\tvar s = this._get_settings().json_data;\r\n\t\t\tif(s.progressive_unload) {\r\n\t\t\t\tthis.get_container().bind(\"after_close.jstree\", function (e, data) {\r\n\t\t\t\t\tdata.rslt.obj.children(\"ul\").remove();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefaults : { \r\n\t\t\t// `data` can be a function:\r\n\t\t\t//  * accepts two arguments - node being loaded and a callback to pass the result to\r\n\t\t\t//  * will be executed in the current tree's scope & ajax won't be supported\r\n\t\t\tdata : false, \r\n\t\t\tajax : false,\r\n\t\t\tcorrect_state : true,\r\n\t\t\tprogressive_render : false,\r\n\t\t\tprogressive_unload : false\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tload_node : function (obj, s_call, e_call) { var _this = this; this.load_node_json(obj, function () { _this.__callback({ \"obj\" : _this._get_node(obj) }); s_call.call(this); }, e_call); },\r\n\t\t\t_is_loaded : function (obj) { \r\n\t\t\t\tvar s = this._get_settings().json_data;\r\n\t\t\t\tobj = this._get_node(obj); \r\n\t\t\t\treturn obj == -1 || !obj || (!s.ajax && !s.progressive_render && !$.isFunction(s.data)) || obj.is(\".jstree-open, .jstree-leaf\") || obj.children(\"ul\").children(\"li\").length > 0;\r\n\t\t\t},\r\n\t\t\trefresh : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tvar s = this._get_settings().json_data;\r\n\t\t\t\tif(obj && obj !== -1 && s.progressive_unload && ($.isFunction(s.data) || !!s.ajax)) {\r\n\t\t\t\t\tobj.removeData(\"jstree_children\");\r\n\t\t\t\t}\r\n\t\t\t\treturn this.__call_old();\r\n\t\t\t},\r\n\t\t\tload_node_json : function (obj, s_call, e_call) {\r\n\t\t\t\tvar s = this.get_settings().json_data, d,\r\n\t\t\t\t\terror_func = function () {},\r\n\t\t\t\t\tsuccess_func = function () {};\r\n\t\t\t\tobj = this._get_node(obj);\r\n\r\n\t\t\t\tif(obj && obj !== -1 && (s.progressive_render || s.progressive_unload) && !obj.is(\".jstree-open, .jstree-leaf\") && obj.children(\"ul\").children(\"li\").length === 0 && obj.data(\"jstree_children\")) {\r\n\t\t\t\t\td = this._parse_json(obj.data(\"jstree_children\"), obj);\r\n\t\t\t\t\tif(d) {\r\n\t\t\t\t\t\tobj.append(d);\r\n\t\t\t\t\t\tif(!s.progressive_unload) { obj.removeData(\"jstree_children\"); }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.clean_node(obj);\r\n\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(obj && obj !== -1) {\r\n\t\t\t\t\tif(obj.data(\"jstree_is_loading\")) { return; }\r\n\t\t\t\t\telse { obj.data(\"jstree_is_loading\",true); }\r\n\t\t\t\t}\r\n\t\t\t\tswitch(!0) {\r\n\t\t\t\t\tcase (!s.data && !s.ajax): throw \"Neither data nor ajax settings supplied.\";\r\n\t\t\t\t\t// function option added here for easier model integration (also supporting async - see callback)\r\n\t\t\t\t\tcase ($.isFunction(s.data)):\r\n\t\t\t\t\t\ts.data.call(this, obj, $.proxy(function (d) {\r\n\t\t\t\t\t\t\td = this._parse_json(d, obj);\r\n\t\t\t\t\t\t\tif(!d) { \r\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) {\r\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { this.get_container().children(\"ul\").empty(); }\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\r\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { this.correct_state(obj); }\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\r\n\t\t\t\t\t\t\t\telse { obj.append(d).children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.removeData(\"jstree_is_loading\"); }\r\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\r\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, this));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase (!!s.data && !s.ajax) || (!!s.data && !!s.ajax && (!obj || obj === -1)):\r\n\t\t\t\t\t\tif(!obj || obj == -1) {\r\n\t\t\t\t\t\t\td = this._parse_json(s.data, obj);\r\n\t\t\t\t\t\t\tif(d) {\r\n\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty().append(d.children());\r\n\t\t\t\t\t\t\t\tthis.clean_node();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse { \r\n\t\t\t\t\t\t\t\tif(s.correct_state) { this.get_container().children(\"ul\").empty(); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase (!s.data && !!s.ajax) || (!!s.data && !!s.ajax && obj && obj !== -1):\r\n\t\t\t\t\t\terror_func = function (x, t, e) {\r\n\t\t\t\t\t\t\tvar ef = this.get_settings().json_data.ajax.error; \r\n\t\t\t\t\t\t\tif(ef) { ef.call(this, x, t, e); }\r\n\t\t\t\t\t\t\tif(obj != -1 && obj.length) {\r\n\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\r\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.correct_state(obj); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.get_container().children(\"ul\").empty(); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tsuccess_func = function (d, t, x) {\r\n\t\t\t\t\t\t\tvar sf = this.get_settings().json_data.ajax.success; \r\n\t\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\r\n\t\t\t\t\t\t\tif(d === \"\" || (d && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") === \"\") || (!$.isArray(d) && !$.isPlainObject(d))) {\r\n\t\t\t\t\t\t\t\treturn error_func.call(this, x, t, \"\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\td = this._parse_json(d, obj);\r\n\t\t\t\t\t\t\tif(d) {\r\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\r\n\t\t\t\t\t\t\t\telse { obj.append(d).children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.removeData(\"jstree_is_loading\"); }\r\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\r\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) {\r\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty(); \r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\r\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\ts.ajax.context = this;\r\n\t\t\t\t\t\ts.ajax.error = error_func;\r\n\t\t\t\t\t\ts.ajax.success = success_func;\r\n\t\t\t\t\t\tif(!s.ajax.dataType) { s.ajax.dataType = \"json\"; }\r\n\t\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, obj); }\r\n\t\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, obj); }\r\n\t\t\t\t\t\t$.ajax(s.ajax);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_parse_json : function (js, obj, is_callback) {\r\n\t\t\t\tvar d = false, \r\n\t\t\t\t\tp = this._get_settings(),\r\n\t\t\t\t\ts = p.json_data,\r\n\t\t\t\t\tt = p.core.html_titles,\r\n\t\t\t\t\ttmp, i, j, ul1, ul2;\r\n\r\n\t\t\t\tif(!js) { return d; }\r\n\t\t\t\tif(s.progressive_unload && obj && obj !== -1) { \r\n\t\t\t\t\tobj.data(\"jstree_children\", d);\r\n\t\t\t\t}\r\n\t\t\t\tif($.isArray(js)) {\r\n\t\t\t\t\td = $();\r\n\t\t\t\t\tif(!js.length) { return false; }\r\n\t\t\t\t\tfor(i = 0, j = js.length; i < j; i++) {\r\n\t\t\t\t\t\ttmp = this._parse_json(js[i], obj, true);\r\n\t\t\t\t\t\tif(tmp.length) { d = d.add(tmp); }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(typeof js == \"string\") { js = { data : js }; }\r\n\t\t\t\t\tif(!js.data && js.data !== \"\") { return d; }\r\n\t\t\t\t\td = $(\"<li />\");\r\n\t\t\t\t\tif(js.attr) { d.attr(js.attr); }\r\n\t\t\t\t\tif(js.metadata) { d.data(js.metadata); }\r\n\t\t\t\t\tif(js.state) { d.addClass(\"jstree-\" + js.state); }\r\n\t\t\t\t\tif(!$.isArray(js.data)) { tmp = js.data; js.data = []; js.data.push(tmp); }\r\n\t\t\t\t\t$.each(js.data, function (i, m) {\r\n\t\t\t\t\t\ttmp = $(\"<a />\");\r\n\t\t\t\t\t\tif($.isFunction(m)) { m = m.call(this, js); }\r\n\t\t\t\t\t\tif(typeof m == \"string\") { tmp.attr('href','#')[ t ? \"html\" : \"text\" ](m); }\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif(!m.attr) { m.attr = {}; }\r\n\t\t\t\t\t\t\tif(!m.attr.href) { m.attr.href = '#'; }\r\n\t\t\t\t\t\t\ttmp.attr(m.attr)[ t ? \"html\" : \"text\" ](m.title);\r\n\t\t\t\t\t\t\tif(m.language) { tmp.addClass(m.language); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttmp.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\r\n\t\t\t\t\t\tif(!m.icon && js.icon) { m.icon = js.icon; }\r\n\t\t\t\t\t\tif(m.icon) { \r\n\t\t\t\t\t\t\tif(m.icon.indexOf(\"/\") === -1) { tmp.children(\"ins\").addClass(m.icon); }\r\n\t\t\t\t\t\t\telse { tmp.children(\"ins\").css(\"background\",\"url('\" + m.icon + \"') center center no-repeat\"); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\td.append(tmp);\r\n\t\t\t\t\t});\r\n\t\t\t\t\td.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\r\n\t\t\t\t\tif(js.children) { \r\n\t\t\t\t\t\tif(s.progressive_render && js.state !== \"open\") {\r\n\t\t\t\t\t\t\td.addClass(\"jstree-closed\").data(\"jstree_children\", js.children);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif(s.progressive_unload) { d.data(\"jstree_children\", js.children); }\r\n\t\t\t\t\t\t\tif($.isArray(js.children) && js.children.length) {\r\n\t\t\t\t\t\t\t\ttmp = this._parse_json(js.children, obj, true);\r\n\t\t\t\t\t\t\t\tif(tmp.length) {\r\n\t\t\t\t\t\t\t\t\tul2 = $(\"<ul />\");\r\n\t\t\t\t\t\t\t\t\tul2.append(tmp);\r\n\t\t\t\t\t\t\t\t\td.append(ul2);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!is_callback) {\r\n\t\t\t\t\tul1 = $(\"<ul />\");\r\n\t\t\t\t\tul1.append(d);\r\n\t\t\t\t\td = ul1;\r\n\t\t\t\t}\r\n\t\t\t\treturn d;\r\n\t\t\t},\r\n\t\t\tget_json : function (obj, li_attr, a_attr, is_callback) {\r\n\t\t\t\tvar result = [], \r\n\t\t\t\t\ts = this._get_settings(), \r\n\t\t\t\t\t_this = this,\r\n\t\t\t\t\ttmp1, tmp2, li, a, t, lang;\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container().find(\"> ul > li\"); }\r\n\t\t\t\tli_attr = $.isArray(li_attr) ? li_attr : [ \"id\", \"class\" ];\r\n\t\t\t\tif(!is_callback && this.data.types) { li_attr.push(s.types.type_attr); }\r\n\t\t\t\ta_attr = $.isArray(a_attr) ? a_attr : [ ];\r\n\r\n\t\t\t\tobj.each(function () {\r\n\t\t\t\t\tli = $(this);\r\n\t\t\t\t\ttmp1 = { data : [] };\r\n\t\t\t\t\tif(li_attr.length) { tmp1.attr = { }; }\r\n\t\t\t\t\t$.each(li_attr, function (i, v) { \r\n\t\t\t\t\t\ttmp2 = li.attr(v); \r\n\t\t\t\t\t\tif(tmp2 && tmp2.length && tmp2.replace(/jstree[^ ]*/ig,'').length) {\r\n\t\t\t\t\t\t\ttmp1.attr[v] = (\" \" + tmp2).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\"); \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(li.hasClass(\"jstree-open\")) { tmp1.state = \"open\"; }\r\n\t\t\t\t\tif(li.hasClass(\"jstree-closed\")) { tmp1.state = \"closed\"; }\r\n\t\t\t\t\tif(li.data()) { tmp1.metadata = li.data(); }\r\n\t\t\t\t\ta = li.children(\"a\");\r\n\t\t\t\t\ta.each(function () {\r\n\t\t\t\t\t\tt = $(this);\r\n\t\t\t\t\t\tif(\r\n\t\t\t\t\t\t\ta_attr.length || \r\n\t\t\t\t\t\t\t$.inArray(\"languages\", s.plugins) !== -1 || \r\n\t\t\t\t\t\t\tt.children(\"ins\").get(0).style.backgroundImage.length || \r\n\t\t\t\t\t\t\t(t.children(\"ins\").get(0).className && t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').length)\r\n\t\t\t\t\t\t) { \r\n\t\t\t\t\t\t\tlang = false;\r\n\t\t\t\t\t\t\tif($.inArray(\"languages\", s.plugins) !== -1 && $.isArray(s.languages) && s.languages.length) {\r\n\t\t\t\t\t\t\t\t$.each(s.languages, function (l, lv) {\r\n\t\t\t\t\t\t\t\t\tif(t.hasClass(lv)) {\r\n\t\t\t\t\t\t\t\t\t\tlang = lv;\r\n\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttmp2 = { attr : { }, title : _this.get_text(t, lang) }; \r\n\t\t\t\t\t\t\t$.each(a_attr, function (k, z) {\r\n\t\t\t\t\t\t\t\ttmp2.attr[z] = (\" \" + (t.attr(z) || \"\")).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\");\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif($.inArray(\"languages\", s.plugins) !== -1 && $.isArray(s.languages) && s.languages.length) {\r\n\t\t\t\t\t\t\t\t$.each(s.languages, function (k, z) {\r\n\t\t\t\t\t\t\t\t\tif(t.hasClass(z)) { tmp2.language = z; return true; }\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\\s+$/ig,\"\").length) {\r\n\t\t\t\t\t\t\t\ttmp2.icon = t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(t.children(\"ins\").get(0).style.backgroundImage.length) {\r\n\t\t\t\t\t\t\t\ttmp2.icon = t.children(\"ins\").get(0).style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttmp2 = _this.get_text(t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(a.length > 1) { tmp1.data.push(tmp2); }\r\n\t\t\t\t\t\telse { tmp1.data = tmp2; }\r\n\t\t\t\t\t});\r\n\t\t\t\t\tli = li.find(\"> ul > li\");\r\n\t\t\t\t\tif(li.length) { tmp1.children = _this.get_json(li, li_attr, a_attr, true); }\r\n\t\t\t\t\tresult.push(tmp1);\r\n\t\t\t\t});\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree languages plugin\r\n * Adds support for multiple language versions in one tree\r\n * This basically allows for many titles coexisting in one node, but only one of them being visible at any given time\r\n * This is useful for maintaining the same structure in many languages (hence the name of the plugin)\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"languages\", {\r\n\t\t__init : function () { this._load_css();  },\r\n\t\tdefaults : [],\r\n\t\t_fn : {\r\n\t\t\tset_lang : function (i) { \r\n\t\t\t\tvar langs = this._get_settings().languages,\r\n\t\t\t\t\tst = false,\r\n\t\t\t\t\tselector = \".jstree-\" + this.get_index() + ' a';\r\n\t\t\t\tif(!$.isArray(langs) || langs.length === 0) { return false; }\r\n\t\t\t\tif($.inArray(i,langs) == -1) {\r\n\t\t\t\t\tif(!!langs[i]) { i = langs[i]; }\r\n\t\t\t\t\telse { return false; }\r\n\t\t\t\t}\r\n\t\t\t\tif(i == this.data.languages.current_language) { return true; }\r\n\t\t\t\tst = $.vakata.css.get_css(selector + \".\" + this.data.languages.current_language, false, this.data.languages.language_css);\r\n\t\t\t\tif(st !== false) { st.style.display = \"none\"; }\r\n\t\t\t\tst = $.vakata.css.get_css(selector + \".\" + i, false, this.data.languages.language_css);\r\n\t\t\t\tif(st !== false) { st.style.display = \"\"; }\r\n\t\t\t\tthis.data.languages.current_language = i;\r\n\t\t\t\tthis.__callback(i);\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tget_lang : function () {\r\n\t\t\t\treturn this.data.languages.current_language;\r\n\t\t\t},\r\n\t\t\t_get_string : function (key, lang) {\r\n\t\t\t\tvar langs = this._get_settings().languages,\r\n\t\t\t\t\ts = this._get_settings().core.strings;\r\n\t\t\t\tif($.isArray(langs) && langs.length) {\r\n\t\t\t\t\tlang = (lang && $.inArray(lang,langs) != -1) ? lang : this.data.languages.current_language;\r\n\t\t\t\t}\r\n\t\t\t\tif(s[lang] && s[lang][key]) { return s[lang][key]; }\r\n\t\t\t\tif(s[key]) { return s[key]; }\r\n\t\t\t\treturn key;\r\n\t\t\t},\r\n\t\t\tget_text : function (obj, lang) {\r\n\t\t\t\tobj = this._get_node(obj) || this.data.ui.last_selected;\r\n\t\t\t\tif(!obj.size()) { return false; }\r\n\t\t\t\tvar langs = this._get_settings().languages,\r\n\t\t\t\t\ts = this._get_settings().core.html_titles;\r\n\t\t\t\tif($.isArray(langs) && langs.length) {\r\n\t\t\t\t\tlang = (lang && $.inArray(lang,langs) != -1) ? lang : this.data.languages.current_language;\r\n\t\t\t\t\tobj = obj.children(\"a.\" + lang);\r\n\t\t\t\t}\r\n\t\t\t\telse { obj = obj.children(\"a:eq(0)\"); }\r\n\t\t\t\tif(s) {\r\n\t\t\t\t\tobj = obj.clone();\r\n\t\t\t\t\tobj.children(\"INS\").remove();\r\n\t\t\t\t\treturn obj.html();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\r\n\t\t\t\t\treturn obj.nodeValue;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tset_text : function (obj, val, lang) {\r\n\t\t\t\tobj = this._get_node(obj) || this.data.ui.last_selected;\r\n\t\t\t\tif(!obj.size()) { return false; }\r\n\t\t\t\tvar langs = this._get_settings().languages,\r\n\t\t\t\t\ts = this._get_settings().core.html_titles,\r\n\t\t\t\t\ttmp;\r\n\t\t\t\tif($.isArray(langs) && langs.length) {\r\n\t\t\t\t\tlang = (lang && $.inArray(lang,langs) != -1) ? lang : this.data.languages.current_language;\r\n\t\t\t\t\tobj = obj.children(\"a.\" + lang);\r\n\t\t\t\t}\r\n\t\t\t\telse { obj = obj.children(\"a:eq(0)\"); }\r\n\t\t\t\tif(s) {\r\n\t\t\t\t\ttmp = obj.children(\"INS\").clone();\r\n\t\t\t\t\tobj.html(val).prepend(tmp);\r\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val, \"lang\" : lang });\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\r\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val, \"lang\" : lang });\r\n\t\t\t\t\treturn (obj.nodeValue = val);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_load_css : function () {\r\n\t\t\t\tvar langs = this._get_settings().languages,\r\n\t\t\t\t\tstr = \"/* languages css */\",\r\n\t\t\t\t\tselector = \".jstree-\" + this.get_index() + ' a',\r\n\t\t\t\t\tln;\r\n\t\t\t\tif($.isArray(langs) && langs.length) {\r\n\t\t\t\t\tthis.data.languages.current_language = langs[0];\r\n\t\t\t\t\tfor(ln = 0; ln < langs.length; ln++) {\r\n\t\t\t\t\t\tstr += selector + \".\" + langs[ln] + \" {\";\r\n\t\t\t\t\t\tif(langs[ln] != this.data.languages.current_language) { str += \" display:none; \"; }\r\n\t\t\t\t\t\tstr += \" } \";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.data.languages.language_css = $.vakata.css.add_sheet({ 'str' : str, 'title' : \"jstree-languages\" });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreate_node : function (obj, position, js, callback) {\r\n\t\t\t\tvar t = this.__call_old(true, obj, position, js, function (t) {\r\n\t\t\t\t\tvar langs = this._get_settings().languages,\r\n\t\t\t\t\t\ta = t.children(\"a\"),\r\n\t\t\t\t\t\tln;\r\n\t\t\t\t\tif($.isArray(langs) && langs.length) {\r\n\t\t\t\t\t\tfor(ln = 0; ln < langs.length; ln++) {\r\n\t\t\t\t\t\t\tif(!a.is(\".\" + langs[ln])) {\r\n\t\t\t\t\t\t\t\tt.append(a.eq(0).clone().removeClass(langs.join(\" \")).addClass(langs[ln]));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ta.not(\".\" + langs.join(\", .\")).remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(callback) { callback.call(this, t); }\r\n\t\t\t\t});\r\n\t\t\t\treturn t;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/*\r\n * jsTree cookies plugin\r\n * Stores the currently opened/selected nodes in a cookie and then restores them\r\n * Depends on the jquery.cookie plugin\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"cookies\", {\r\n\t\t__init : function () {\r\n\t\t\tif(typeof $.cookie === \"undefined\") { throw \"jsTree cookie: jQuery cookie plugin not included.\"; }\r\n\r\n\t\t\tvar s = this._get_settings().cookies,\r\n\t\t\t\ttmp;\r\n\t\t\tif(!!s.save_loaded) {\r\n\t\t\t\ttmp = $.cookie(s.save_loaded);\r\n\t\t\t\tif(tmp && tmp.length) { this.data.core.to_load = tmp.split(\",\"); }\r\n\t\t\t}\r\n\t\t\tif(!!s.save_opened) {\r\n\t\t\t\ttmp = $.cookie(s.save_opened);\r\n\t\t\t\tif(tmp && tmp.length) { this.data.core.to_open = tmp.split(\",\"); }\r\n\t\t\t}\r\n\t\t\tif(!!s.save_selected) {\r\n\t\t\t\ttmp = $.cookie(s.save_selected);\r\n\t\t\t\tif(tmp && tmp.length && this.data.ui) { this.data.ui.to_select = tmp.split(\",\"); }\r\n\t\t\t}\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.one( ( this.data.ui ? \"reselect\" : \"reopen\" ) + \".jstree\", $.proxy(function () {\r\n\t\t\t\t\tthis.get_container()\r\n\t\t\t\t\t\t.bind(\"open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree\", $.proxy(function (e) { \r\n\t\t\t\t\t\t\t\tif(this._get_settings().cookies.auto_save) { this.save_cookie((e.handleObj.namespace + e.handleObj.type).replace(\"jstree\",\"\")); }\r\n\t\t\t\t\t\t\t}, this));\r\n\t\t\t\t}, this));\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\tsave_loaded\t\t: \"jstree_load\",\r\n\t\t\tsave_opened\t\t: \"jstree_open\",\r\n\t\t\tsave_selected\t: \"jstree_select\",\r\n\t\t\tauto_save\t\t: true,\r\n\t\t\tcookie_options\t: {}\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tsave_cookie : function (c) {\r\n\t\t\t\tif(this.data.core.refreshing) { return; }\r\n\t\t\t\tvar s = this._get_settings().cookies;\r\n\t\t\t\tif(!c) { // if called manually and not by event\r\n\t\t\t\t\tif(s.save_loaded) {\r\n\t\t\t\t\t\tthis.save_loaded();\r\n\t\t\t\t\t\t$.cookie(s.save_loaded, this.data.core.to_load.join(\",\"), s.cookie_options);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(s.save_opened) {\r\n\t\t\t\t\t\tthis.save_opened();\r\n\t\t\t\t\t\t$.cookie(s.save_opened, this.data.core.to_open.join(\",\"), s.cookie_options);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(s.save_selected && this.data.ui) {\r\n\t\t\t\t\t\tthis.save_selected();\r\n\t\t\t\t\t\t$.cookie(s.save_selected, this.data.ui.to_select.join(\",\"), s.cookie_options);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tswitch(c) {\r\n\t\t\t\t\tcase \"open_node\":\r\n\t\t\t\t\tcase \"close_node\":\r\n\t\t\t\t\t\tif(!!s.save_opened) { \r\n\t\t\t\t\t\t\tthis.save_opened(); \r\n\t\t\t\t\t\t\t$.cookie(s.save_opened, this.data.core.to_open.join(\",\"), s.cookie_options); \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!!s.save_loaded) { \r\n\t\t\t\t\t\t\tthis.save_loaded(); \r\n\t\t\t\t\t\t\t$.cookie(s.save_loaded, this.data.core.to_load.join(\",\"), s.cookie_options); \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"select_node\":\r\n\t\t\t\t\tcase \"deselect_node\":\r\n\t\t\t\t\t\tif(!!s.save_selected && this.data.ui) { \r\n\t\t\t\t\t\t\tthis.save_selected(); \r\n\t\t\t\t\t\t\t$.cookie(s.save_selected, this.data.ui.to_select.join(\",\"), s.cookie_options); \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t// include cookies by default\r\n\t// $.jstree.defaults.plugins.push(\"cookies\");\r\n})(jQuery);\r\n//*/\r\n\r\n/*\r\n * jsTree sort plugin\r\n * Sorts items alphabetically (or using any other function)\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"sort\", {\r\n\t\t__init : function () {\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.bind(\"load_node.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tvar obj = this._get_node(data.rslt.obj);\r\n\t\t\t\t\t\tobj = obj === -1 ? this.get_container().children(\"ul\") : obj.children(\"ul\");\r\n\t\t\t\t\t\tthis.sort(obj);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"rename_node.jstree create_node.jstree create.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tthis.sort(data.rslt.obj.parent());\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tvar m = data.rslt.np == -1 ? this.get_container() : data.rslt.np;\r\n\t\t\t\t\t\tthis.sort(m.children(\"ul\"));\r\n\t\t\t\t\t}, this));\r\n\t\t},\r\n\t\tdefaults : function (a, b) { return this.get_text(a) > this.get_text(b) ? 1 : -1; },\r\n\t\t_fn : {\r\n\t\t\tsort : function (obj) {\r\n\t\t\t\tvar s = this._get_settings().sort,\r\n\t\t\t\t\tt = this;\r\n\t\t\t\tobj.append($.makeArray(obj.children(\"li\")).sort($.proxy(s, t)));\r\n\t\t\t\tobj.find(\"> li > ul\").each(function() { t.sort($(this)); });\r\n\t\t\t\tthis.clean_node(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/*\r\n * jsTree DND plugin\r\n * Drag and drop plugin for moving/copying nodes\r\n */\r\n(function ($) {\r\n\tvar o = false,\r\n\t\tr = false,\r\n\t\tm = false,\r\n\t\tml = false,\r\n\t\tsli = false,\r\n\t\tsti = false,\r\n\t\tdir1 = false,\r\n\t\tdir2 = false,\r\n\t\tlast_pos = false;\r\n\t$.vakata.dnd = {\r\n\t\tis_down : false,\r\n\t\tis_drag : false,\r\n\t\thelper : false,\r\n\t\tscroll_spd : 10,\r\n\t\tinit_x : 0,\r\n\t\tinit_y : 0,\r\n\t\tthreshold : 5,\r\n\t\thelper_left : 5,\r\n\t\thelper_top : 10,\r\n\t\tuser_data : {},\r\n\r\n\t\tdrag_start : function (e, data, html) { \r\n\t\t\tif($.vakata.dnd.is_drag) { $.vakata.drag_stop({}); }\r\n\t\t\ttry {\r\n\t\t\t\te.currentTarget.unselectable = \"on\";\r\n\t\t\t\te.currentTarget.onselectstart = function() { return false; };\r\n\t\t\t\tif(e.currentTarget.style) { e.currentTarget.style.MozUserSelect = \"none\"; }\r\n\t\t\t} catch(err) { }\r\n\t\t\t$.vakata.dnd.init_x = e.pageX;\r\n\t\t\t$.vakata.dnd.init_y = e.pageY;\r\n\t\t\t$.vakata.dnd.user_data = data;\r\n\t\t\t$.vakata.dnd.is_down = true;\r\n\t\t\t$.vakata.dnd.helper = $(\"<div id='vakata-dragged' />\").html(html); //.fadeTo(10,0.25);\r\n\t\t\t$(document).bind(\"mousemove\", $.vakata.dnd.drag);\r\n\t\t\t$(document).bind(\"mouseup\", $.vakata.dnd.drag_stop);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tdrag : function (e) { \r\n\t\t\tif(!$.vakata.dnd.is_down) { return; }\r\n\t\t\tif(!$.vakata.dnd.is_drag) {\r\n\t\t\t\tif(Math.abs(e.pageX - $.vakata.dnd.init_x) > 5 || Math.abs(e.pageY - $.vakata.dnd.init_y) > 5) { \r\n\t\t\t\t\t$.vakata.dnd.helper.appendTo(\"body\");\r\n\t\t\t\t\t$.vakata.dnd.is_drag = true;\r\n\t\t\t\t\t$(document).triggerHandler(\"drag_start.vakata\", { \"event\" : e, \"data\" : $.vakata.dnd.user_data });\r\n\t\t\t\t}\r\n\t\t\t\telse { return; }\r\n\t\t\t}\r\n\r\n\t\t\t// maybe use a scrolling parent element instead of document?\r\n\t\t\tif(e.type === \"mousemove\") { // thought of adding scroll in order to move the helper, but mouse poisition is n/a\r\n\t\t\t\tvar d = $(document), t = d.scrollTop(), l = d.scrollLeft();\r\n\t\t\t\tif(e.pageY - t < 20) { \r\n\t\t\t\t\tif(sti && dir1 === \"down\") { clearInterval(sti); sti = false; }\r\n\t\t\t\t\tif(!sti) { dir1 = \"up\"; sti = setInterval(function () { $(document).scrollTop($(document).scrollTop() - $.vakata.dnd.scroll_spd); }, 150); }\r\n\t\t\t\t}\r\n\t\t\t\telse { \r\n\t\t\t\t\tif(sti && dir1 === \"up\") { clearInterval(sti); sti = false; }\r\n\t\t\t\t}\r\n\t\t\t\tif($(window).height() - (e.pageY - t) < 20) {\r\n\t\t\t\t\tif(sti && dir1 === \"up\") { clearInterval(sti); sti = false; }\r\n\t\t\t\t\tif(!sti) { dir1 = \"down\"; sti = setInterval(function () { $(document).scrollTop($(document).scrollTop() + $.vakata.dnd.scroll_spd); }, 150); }\r\n\t\t\t\t}\r\n\t\t\t\telse { \r\n\t\t\t\t\tif(sti && dir1 === \"down\") { clearInterval(sti); sti = false; }\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(e.pageX - l < 20) {\r\n\t\t\t\t\tif(sli && dir2 === \"right\") { clearInterval(sli); sli = false; }\r\n\t\t\t\t\tif(!sli) { dir2 = \"left\"; sli = setInterval(function () { $(document).scrollLeft($(document).scrollLeft() - $.vakata.dnd.scroll_spd); }, 150); }\r\n\t\t\t\t}\r\n\t\t\t\telse { \r\n\t\t\t\t\tif(sli && dir2 === \"left\") { clearInterval(sli); sli = false; }\r\n\t\t\t\t}\r\n\t\t\t\tif($(window).width() - (e.pageX - l) < 20) {\r\n\t\t\t\t\tif(sli && dir2 === \"left\") { clearInterval(sli); sli = false; }\r\n\t\t\t\t\tif(!sli) { dir2 = \"right\"; sli = setInterval(function () { $(document).scrollLeft($(document).scrollLeft() + $.vakata.dnd.scroll_spd); }, 150); }\r\n\t\t\t\t}\r\n\t\t\t\telse { \r\n\t\t\t\t\tif(sli && dir2 === \"right\") { clearInterval(sli); sli = false; }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$.vakata.dnd.helper.css({ left : (e.pageX + $.vakata.dnd.helper_left) + \"px\", top : (e.pageY + $.vakata.dnd.helper_top) + \"px\" });\r\n\t\t\t$(document).triggerHandler(\"drag.vakata\", { \"event\" : e, \"data\" : $.vakata.dnd.user_data });\r\n\t\t},\r\n\t\tdrag_stop : function (e) {\r\n\t\t\tif(sli) { clearInterval(sli); }\r\n\t\t\tif(sti) { clearInterval(sti); }\r\n\t\t\t$(document).unbind(\"mousemove\", $.vakata.dnd.drag);\r\n\t\t\t$(document).unbind(\"mouseup\", $.vakata.dnd.drag_stop);\r\n\t\t\t$(document).triggerHandler(\"drag_stop.vakata\", { \"event\" : e, \"data\" : $.vakata.dnd.user_data });\r\n\t\t\t$.vakata.dnd.helper.remove();\r\n\t\t\t$.vakata.dnd.init_x = 0;\r\n\t\t\t$.vakata.dnd.init_y = 0;\r\n\t\t\t$.vakata.dnd.user_data = {};\r\n\t\t\t$.vakata.dnd.is_down = false;\r\n\t\t\t$.vakata.dnd.is_drag = false;\r\n\t\t}\r\n\t};\r\n\t$(function() {\r\n\t\tvar css_string = '#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ';\r\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"vakata\" });\r\n\t});\r\n\r\n\t$.jstree.plugin(\"dnd\", {\r\n\t\t__init : function () {\r\n\t\t\tthis.data.dnd = {\r\n\t\t\t\tactive : false,\r\n\t\t\t\tafter : false,\r\n\t\t\t\tinside : false,\r\n\t\t\t\tbefore : false,\r\n\t\t\t\toff : false,\r\n\t\t\t\tprepared : false,\r\n\t\t\t\tw : 0,\r\n\t\t\t\tto1 : false,\r\n\t\t\t\tto2 : false,\r\n\t\t\t\tcof : false,\r\n\t\t\t\tcw : false,\r\n\t\t\t\tch : false,\r\n\t\t\t\ti1 : false,\r\n\t\t\t\ti2 : false,\r\n\t\t\t\tmto : false\r\n\t\t\t};\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.bind(\"mouseenter.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\r\n\t\t\t\t\t\t\tif(this.data.themes) {\r\n\t\t\t\t\t\t\t\tm.attr(\"class\", \"jstree-\" + this.data.themes.theme); \r\n\t\t\t\t\t\t\t\tif(ml) { ml.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\r\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.attr(\"class\", \"jstree-dnd-helper jstree-\" + this.data.themes.theme);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//if($(e.currentTarget).find(\"> ul > li\").length === 0) {\r\n\t\t\t\t\t\t\tif(e.currentTarget === e.target && $.vakata.dnd.user_data.obj && $($.vakata.dnd.user_data.obj).length && $($.vakata.dnd.user_data.obj).parents(\".jstree:eq(0)\")[0] !== e.target) { // node should not be from the same tree\r\n\t\t\t\t\t\t\t\tvar tr = $.jstree._reference(e.target), dc;\r\n\t\t\t\t\t\t\t\tif(tr.data.dnd.foreign) {\r\n\t\t\t\t\t\t\t\t\tdc = tr._get_settings().dnd.drag_check.call(this, { \"o\" : o, \"r\" : tr.get_container(), is_root : true });\r\n\t\t\t\t\t\t\t\t\tif(dc === true || dc.inside === true || dc.before === true || dc.after === true) {\r\n\t\t\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\ttr.prepare_move(o, tr.get_container(), \"last\");\r\n\t\t\t\t\t\t\t\t\tif(tr.check_move()) {\r\n\t\t\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"mouseup.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\t//if($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && $(e.currentTarget).find(\"> ul > li\").length === 0) {\r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && e.currentTarget === e.target && $.vakata.dnd.user_data.obj && $($.vakata.dnd.user_data.obj).length && $($.vakata.dnd.user_data.obj).parents(\".jstree:eq(0)\")[0] !== e.target) { // node should not be from the same tree\r\n\t\t\t\t\t\t\tvar tr = $.jstree._reference(e.currentTarget), dc;\r\n\t\t\t\t\t\t\tif(tr.data.dnd.foreign) {\r\n\t\t\t\t\t\t\t\tdc = tr._get_settings().dnd.drag_check.call(this, { \"o\" : o, \"r\" : tr.get_container(), is_root : true });\r\n\t\t\t\t\t\t\t\tif(dc === true || dc.inside === true || dc.before === true || dc.after === true) {\r\n\t\t\t\t\t\t\t\t\ttr._get_settings().dnd.drag_finish.call(this, { \"o\" : o, \"r\" : tr.get_container(), is_root : true });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\ttr.move_node(o, tr.get_container(), \"last\", e[tr._get_settings().dnd.copy_modifier + \"Key\"]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"mouseleave.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\tif(e.relatedTarget && e.relatedTarget.id && e.relatedTarget.id === \"jstree-marker-line\") {\r\n\t\t\t\t\t\t\treturn false; \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\r\n\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\r\n\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\r\n\t\t\t\t\t\t\tif(this.data.dnd.to1) { clearTimeout(this.data.dnd.to1); }\r\n\t\t\t\t\t\t\tif(this.data.dnd.to2) { clearTimeout(this.data.dnd.to2); }\r\n\t\t\t\t\t\t\tif($.vakata.dnd.helper.children(\"ins\").hasClass(\"jstree-ok\")) {\r\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"mousemove.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\r\n\t\t\t\t\t\t\tvar cnt = this.get_container()[0];\r\n\r\n\t\t\t\t\t\t\t// Horizontal scroll\r\n\t\t\t\t\t\t\tif(e.pageX + 24 > this.data.dnd.cof.left + this.data.dnd.cw) {\r\n\t\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\r\n\t\t\t\t\t\t\t\tthis.data.dnd.i1 = setInterval($.proxy(function () { this.scrollLeft += $.vakata.dnd.scroll_spd; }, cnt), 100);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(e.pageX - 24 < this.data.dnd.cof.left) {\r\n\t\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\r\n\t\t\t\t\t\t\t\tthis.data.dnd.i1 = setInterval($.proxy(function () { this.scrollLeft -= $.vakata.dnd.scroll_spd; }, cnt), 100);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Vertical scroll\r\n\t\t\t\t\t\t\tif(e.pageY + 24 > this.data.dnd.cof.top + this.data.dnd.ch) {\r\n\t\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\r\n\t\t\t\t\t\t\t\tthis.data.dnd.i2 = setInterval($.proxy(function () { this.scrollTop += $.vakata.dnd.scroll_spd; }, cnt), 100);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(e.pageY - 24 < this.data.dnd.cof.top) {\r\n\t\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\r\n\t\t\t\t\t\t\t\tthis.data.dnd.i2 = setInterval($.proxy(function () { this.scrollTop -= $.vakata.dnd.scroll_spd; }, cnt), 100);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"scroll.jstree\", $.proxy(function (e) { \r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && m && ml) {\r\n\t\t\t\t\t\t\tm.hide();\r\n\t\t\t\t\t\t\tml.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\"a\", \"mousedown.jstree\", $.proxy(function (e) { \r\n\t\t\t\t\t\tif(e.which === 1) {\r\n\t\t\t\t\t\t\tthis.start_drag(e.currentTarget, e);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\"a\", \"mouseenter.jstree\", $.proxy(function (e) { \r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\r\n\t\t\t\t\t\t\tthis.dnd_enter(e.currentTarget);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\"a\", \"mousemove.jstree\", $.proxy(function (e) { \r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\r\n\t\t\t\t\t\t\tif(!r || !r.length || r.children(\"a\")[0] !== e.currentTarget) {\r\n\t\t\t\t\t\t\t\tthis.dnd_enter(e.currentTarget);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(typeof this.data.dnd.off.top === \"undefined\") { this.data.dnd.off = $(e.target).offset(); }\r\n\t\t\t\t\t\t\tthis.data.dnd.w = (e.pageY - (this.data.dnd.off.top || 0)) % this.data.core.li_height;\r\n\t\t\t\t\t\t\tif(this.data.dnd.w < 0) { this.data.dnd.w += this.data.core.li_height; }\r\n\t\t\t\t\t\t\tthis.dnd_show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\"a\", \"mouseleave.jstree\", $.proxy(function (e) { \r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\r\n\t\t\t\t\t\t\tif(e.relatedTarget && e.relatedTarget.id && e.relatedTarget.id === \"jstree-marker-line\") {\r\n\t\t\t\t\t\t\t\treturn false; \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(m) { m.hide(); }\r\n\t\t\t\t\t\t\t\tif(ml) { ml.hide(); }\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\tvar ec = $(e.currentTarget).closest(\"li\"), \r\n\t\t\t\t\t\t\t\ter = $(e.relatedTarget).closest(\"li\");\r\n\t\t\t\t\t\t\tif(er[0] !== ec.prev()[0] && er[0] !== ec.next()[0]) {\r\n\t\t\t\t\t\t\t\tif(m) { m.hide(); }\r\n\t\t\t\t\t\t\t\tif(ml) { ml.hide(); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\tthis.data.dnd.mto = setTimeout( \r\n\t\t\t\t\t\t\t\t(function (t) { return function () { t.dnd_leave(e); }; })(this),\r\n\t\t\t\t\t\t\t0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\"a\", \"mouseup.jstree\", $.proxy(function (e) { \r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\r\n\t\t\t\t\t\t\tthis.dnd_finish(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this));\r\n\r\n\t\t\t$(document)\r\n\t\t\t\t.bind(\"drag_stop.vakata\", $.proxy(function () {\r\n\t\t\t\t\t\tif(this.data.dnd.to1) { clearTimeout(this.data.dnd.to1); }\r\n\t\t\t\t\t\tif(this.data.dnd.to2) { clearTimeout(this.data.dnd.to2); }\r\n\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\r\n\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\r\n\t\t\t\t\t\tthis.data.dnd.after\t\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.before\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.inside\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.off\t\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.prepared\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.w\t\t\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.to1\t\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.to2\t\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.i1\t\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.i2\t\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.active\t= false;\r\n\t\t\t\t\t\tthis.data.dnd.foreign\t= false;\r\n\t\t\t\t\t\tif(m) { m.css({ \"top\" : \"-2000px\" }); }\r\n\t\t\t\t\t\tif(ml) { ml.css({ \"top\" : \"-2000px\" }); }\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"drag_start.vakata\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tif(data.data.jstree) { \r\n\t\t\t\t\t\t\tvar et = $(data.event.target);\r\n\t\t\t\t\t\t\tif(et.closest(\".jstree\").hasClass(\"jstree-\" + this.get_index())) {\r\n\t\t\t\t\t\t\t\tthis.dnd_enter(et);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this));\r\n\t\t\t\t/*\r\n\t\t\t\t.bind(\"keydown.jstree-\" + this.get_index() + \" keyup.jstree-\" + this.get_index(), $.proxy(function(e) {\r\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && !this.data.dnd.foreign) {\r\n\t\t\t\t\t\t\tvar h = $.vakata.dnd.helper.children(\"ins\");\r\n\t\t\t\t\t\t\tif(e[this._get_settings().dnd.copy_modifier + \"Key\"] && h.hasClass(\"jstree-ok\")) {\r\n\t\t\t\t\t\t\t\th.parent().html(h.parent().html().replace(/ \\(Copy\\)$/, \"\") + \" (Copy)\");\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\th.parent().html(h.parent().html().replace(/ \\(Copy\\)$/, \"\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this)); */\r\n\r\n\r\n\r\n\t\t\tvar s = this._get_settings().dnd;\r\n\t\t\tif(s.drag_target) {\r\n\t\t\t\t$(document)\r\n\t\t\t\t\t.delegate(s.drag_target, \"mousedown.jstree-\" + this.get_index(), $.proxy(function (e) {\r\n\t\t\t\t\t\to = e.target;\r\n\t\t\t\t\t\t$.vakata.dnd.drag_start(e, { jstree : true, obj : e.target }, \"<ins class='jstree-icon'></ins>\" + $(e.target).text() );\r\n\t\t\t\t\t\tif(this.data.themes) { \r\n\t\t\t\t\t\t\tif(m) { m.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\r\n\t\t\t\t\t\t\tif(ml) { ml.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\r\n\t\t\t\t\t\t\t$.vakata.dnd.helper.attr(\"class\", \"jstree-dnd-helper jstree-\" + this.data.themes.theme); \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\r\n\t\t\t\t\t\tvar cnt = this.get_container();\r\n\t\t\t\t\t\tthis.data.dnd.cof = cnt.offset();\r\n\t\t\t\t\t\tthis.data.dnd.cw = parseInt(cnt.width(),10);\r\n\t\t\t\t\t\tthis.data.dnd.ch = parseInt(cnt.height(),10);\r\n\t\t\t\t\t\tthis.data.dnd.foreign = true;\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}, this));\r\n\t\t\t}\r\n\t\t\tif(s.drop_target) {\r\n\t\t\t\t$(document)\r\n\t\t\t\t\t.delegate(s.drop_target, \"mouseenter.jstree-\" + this.get_index(), $.proxy(function (e) {\r\n\t\t\t\t\t\t\tif(this.data.dnd.active && this._get_settings().dnd.drop_check.call(this, { \"o\" : o, \"r\" : $(e.target), \"e\" : e })) {\r\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, this))\r\n\t\t\t\t\t.delegate(s.drop_target, \"mouseleave.jstree-\" + this.get_index(), $.proxy(function (e) {\r\n\t\t\t\t\t\t\tif(this.data.dnd.active) {\r\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, this))\r\n\t\t\t\t\t.delegate(s.drop_target, \"mouseup.jstree-\" + this.get_index(), $.proxy(function (e) {\r\n\t\t\t\t\t\t\tif(this.data.dnd.active && $.vakata.dnd.helper.children(\"ins\").hasClass(\"jstree-ok\")) {\r\n\t\t\t\t\t\t\t\tthis._get_settings().dnd.drop_finish.call(this, { \"o\" : o, \"r\" : $(e.target), \"e\" : e });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, this));\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\tcopy_modifier\t: \"ctrl\",\r\n\t\t\tcheck_timeout\t: 100,\r\n\t\t\topen_timeout\t: 500,\r\n\t\t\tdrop_target\t\t: \".jstree-drop\",\r\n\t\t\tdrop_check\t\t: function (data) { return true; },\r\n\t\t\tdrop_finish\t\t: $.noop,\r\n\t\t\tdrag_target\t\t: \".jstree-draggable\",\r\n\t\t\tdrag_finish\t\t: $.noop,\r\n\t\t\tdrag_check\t\t: function (data) { return { after : false, before : false, inside : true }; }\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tdnd_prepare : function () {\r\n\t\t\t\tif(!r || !r.length) { return; }\r\n\t\t\t\tthis.data.dnd.off = r.offset();\r\n\t\t\t\tif(this._get_settings().core.rtl) {\r\n\t\t\t\t\tthis.data.dnd.off.right = this.data.dnd.off.left + r.width();\r\n\t\t\t\t}\r\n\t\t\t\tif(this.data.dnd.foreign) {\r\n\t\t\t\t\tvar a = this._get_settings().dnd.drag_check.call(this, { \"o\" : o, \"r\" : r });\r\n\t\t\t\t\tthis.data.dnd.after = a.after;\r\n\t\t\t\t\tthis.data.dnd.before = a.before;\r\n\t\t\t\t\tthis.data.dnd.inside = a.inside;\r\n\t\t\t\t\tthis.data.dnd.prepared = true;\r\n\t\t\t\t\treturn this.dnd_show();\r\n\t\t\t\t}\r\n\t\t\t\tthis.prepare_move(o, r, \"before\");\r\n\t\t\t\tthis.data.dnd.before = this.check_move();\r\n\t\t\t\tthis.prepare_move(o, r, \"after\");\r\n\t\t\t\tthis.data.dnd.after = this.check_move();\r\n\t\t\t\tif(this._is_loaded(r)) {\r\n\t\t\t\t\tthis.prepare_move(o, r, \"inside\");\r\n\t\t\t\t\tthis.data.dnd.inside = this.check_move();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.data.dnd.inside = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.data.dnd.prepared = true;\r\n\t\t\t\treturn this.dnd_show();\r\n\t\t\t},\r\n\t\t\tdnd_show : function () {\r\n\t\t\t\tif(!this.data.dnd.prepared) { return; }\r\n\t\t\t\tvar o = [\"before\",\"inside\",\"after\"],\r\n\t\t\t\t\tr = false,\r\n\t\t\t\t\trtl = this._get_settings().core.rtl,\r\n\t\t\t\t\tpos;\r\n\t\t\t\tif(this.data.dnd.w < this.data.core.li_height/3) { o = [\"before\",\"inside\",\"after\"]; }\r\n\t\t\t\telse if(this.data.dnd.w <= this.data.core.li_height*2/3) {\r\n\t\t\t\t\to = this.data.dnd.w < this.data.core.li_height/2 ? [\"inside\",\"before\",\"after\"] : [\"inside\",\"after\",\"before\"];\r\n\t\t\t\t}\r\n\t\t\t\telse { o = [\"after\",\"inside\",\"before\"]; }\r\n\t\t\t\t$.each(o, $.proxy(function (i, val) { \r\n\t\t\t\t\tif(this.data.dnd[val]) {\r\n\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\r\n\t\t\t\t\t\tr = val;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this));\r\n\t\t\t\tif(r === false) { $.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\"); }\r\n\t\t\t\t\r\n\t\t\t\tpos = rtl ? (this.data.dnd.off.right - 18) : (this.data.dnd.off.left + 10);\r\n\t\t\t\tswitch(r) {\r\n\t\t\t\t\tcase \"before\":\r\n\t\t\t\t\t\tm.css({ \"left\" : pos + \"px\", \"top\" : (this.data.dnd.off.top - 6) + \"px\" }).show();\r\n\t\t\t\t\t\tif(ml) { ml.css({ \"left\" : (pos + 8) + \"px\", \"top\" : (this.data.dnd.off.top - 1) + \"px\" }).show(); }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"after\":\r\n\t\t\t\t\t\tm.css({ \"left\" : pos + \"px\", \"top\" : (this.data.dnd.off.top + this.data.core.li_height - 6) + \"px\" }).show();\r\n\t\t\t\t\t\tif(ml) { ml.css({ \"left\" : (pos + 8) + \"px\", \"top\" : (this.data.dnd.off.top + this.data.core.li_height - 1) + \"px\" }).show(); }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inside\":\r\n\t\t\t\t\t\tm.css({ \"left\" : pos + ( rtl ? -4 : 4) + \"px\", \"top\" : (this.data.dnd.off.top + this.data.core.li_height/2 - 5) + \"px\" }).show();\r\n\t\t\t\t\t\tif(ml) { ml.hide(); }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tm.hide();\r\n\t\t\t\t\t\tif(ml) { ml.hide(); }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tlast_pos = r;\r\n\t\t\t\treturn r;\r\n\t\t\t},\r\n\t\t\tdnd_open : function () {\r\n\t\t\t\tthis.data.dnd.to2 = false;\r\n\t\t\t\tthis.open_node(r, $.proxy(this.dnd_prepare,this), true);\r\n\t\t\t},\r\n\t\t\tdnd_finish : function (e) {\r\n\t\t\t\tif(this.data.dnd.foreign) {\r\n\t\t\t\t\tif(this.data.dnd.after || this.data.dnd.before || this.data.dnd.inside) {\r\n\t\t\t\t\t\tthis._get_settings().dnd.drag_finish.call(this, { \"o\" : o, \"r\" : r, \"p\" : last_pos });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.dnd_prepare();\r\n\t\t\t\t\tthis.move_node(o, r, last_pos, e[this._get_settings().dnd.copy_modifier + \"Key\"]);\r\n\t\t\t\t}\r\n\t\t\t\to = false;\r\n\t\t\t\tr = false;\r\n\t\t\t\tm.hide();\r\n\t\t\t\tif(ml) { ml.hide(); }\r\n\t\t\t},\r\n\t\t\tdnd_enter : function (obj) {\r\n\t\t\t\tif(this.data.dnd.mto) { \r\n\t\t\t\t\tclearTimeout(this.data.dnd.mto);\r\n\t\t\t\t\tthis.data.dnd.mto = false;\r\n\t\t\t\t}\r\n\t\t\t\tvar s = this._get_settings().dnd;\r\n\t\t\t\tthis.data.dnd.prepared = false;\r\n\t\t\t\tr = this._get_node(obj);\r\n\t\t\t\tif(s.check_timeout) { \r\n\t\t\t\t\t// do the calculations after a minimal timeout (users tend to drag quickly to the desired location)\r\n\t\t\t\t\tif(this.data.dnd.to1) { clearTimeout(this.data.dnd.to1); }\r\n\t\t\t\t\tthis.data.dnd.to1 = setTimeout($.proxy(this.dnd_prepare, this), s.check_timeout); \r\n\t\t\t\t}\r\n\t\t\t\telse { \r\n\t\t\t\t\tthis.dnd_prepare(); \r\n\t\t\t\t}\r\n\t\t\t\tif(s.open_timeout) { \r\n\t\t\t\t\tif(this.data.dnd.to2) { clearTimeout(this.data.dnd.to2); }\r\n\t\t\t\t\tif(r && r.length && r.hasClass(\"jstree-closed\")) { \r\n\t\t\t\t\t\t// if the node is closed - open it, then recalculate\r\n\t\t\t\t\t\tthis.data.dnd.to2 = setTimeout($.proxy(this.dnd_open, this), s.open_timeout);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(r && r.length && r.hasClass(\"jstree-closed\")) { \r\n\t\t\t\t\t\tthis.dnd_open();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdnd_leave : function (e) {\r\n\t\t\t\tthis.data.dnd.after\t\t= false;\r\n\t\t\t\tthis.data.dnd.before\t= false;\r\n\t\t\t\tthis.data.dnd.inside\t= false;\r\n\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\r\n\t\t\t\tm.hide();\r\n\t\t\t\tif(ml) { ml.hide(); }\r\n\t\t\t\tif(r && r[0] === e.target.parentNode) {\r\n\t\t\t\t\tif(this.data.dnd.to1) {\r\n\t\t\t\t\t\tclearTimeout(this.data.dnd.to1);\r\n\t\t\t\t\t\tthis.data.dnd.to1 = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.data.dnd.to2) {\r\n\t\t\t\t\t\tclearTimeout(this.data.dnd.to2);\r\n\t\t\t\t\t\tthis.data.dnd.to2 = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstart_drag : function (obj, e) {\r\n\t\t\t\to = this._get_node(obj);\r\n\t\t\t\tif(this.data.ui && this.is_selected(o)) { o = this._get_node(null, true); }\r\n\t\t\t\tvar dt = o.length > 1 ? this._get_string(\"multiple_selection\") : this.get_text(o),\r\n\t\t\t\t\tcnt = this.get_container();\r\n\t\t\t\tif(!this._get_settings().core.html_titles) { dt = dt.replace(/</ig,\"&lt;\").replace(/>/ig,\"&gt;\"); }\r\n\t\t\t\t$.vakata.dnd.drag_start(e, { jstree : true, obj : o }, \"<ins class='jstree-icon'></ins>\" + dt );\r\n\t\t\t\tif(this.data.themes) { \r\n\t\t\t\t\tif(m) { m.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\r\n\t\t\t\t\tif(ml) { ml.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\r\n\t\t\t\t\t$.vakata.dnd.helper.attr(\"class\", \"jstree-dnd-helper jstree-\" + this.data.themes.theme); \r\n\t\t\t\t}\r\n\t\t\t\tthis.data.dnd.cof = cnt.offset();\r\n\t\t\t\tthis.data.dnd.cw = parseInt(cnt.width(),10);\r\n\t\t\t\tthis.data.dnd.ch = parseInt(cnt.height(),10);\r\n\t\t\t\tthis.data.dnd.active = true;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t$(function() {\r\n\t\tvar css_string = '' + \r\n\t\t\t'#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px; ' + \r\n\t\t\t' -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; ' +\r\n\t\t\t'} ' + \r\n\t\t\t'#vakata-dragged .jstree-ok { background:green; } ' + \r\n\t\t\t'#vakata-dragged .jstree-invalid { background:red; } ' + \r\n\t\t\t'#jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } ' + \r\n\t\t\t'#jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43; ' + \r\n\t\t\t' cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666; ' + \r\n\t\t\t' -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; ' +\r\n\t\t\t'}' + \r\n\t\t\t'';\r\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\r\n\t\tm = $(\"<div />\").attr({ id : \"jstree-marker\" }).hide().html(\"&raquo;\")\r\n\t\t\t.bind(\"mouseleave mouseenter\", function (e) { \r\n\t\t\t\tm.hide();\r\n\t\t\t\tml.hide();\r\n\t\t\t\te.preventDefault(); \r\n\t\t\t\te.stopImmediatePropagation(); \r\n\t\t\t\treturn false; \r\n\t\t\t})\r\n\t\t\t.appendTo(\"body\");\r\n\t\tml = $(\"<div />\").attr({ id : \"jstree-marker-line\" }).hide()\r\n\t\t\t.bind(\"mouseup\", function (e) { \r\n\t\t\t\tif(r && r.length) { \r\n\t\t\t\t\tr.children(\"a\").trigger(e); \r\n\t\t\t\t\te.preventDefault(); \r\n\t\t\t\t\te.stopImmediatePropagation(); \r\n\t\t\t\t\treturn false; \r\n\t\t\t\t} \r\n\t\t\t})\r\n\t\t\t.bind(\"mouseleave\", function (e) { \r\n\t\t\t\tvar rt = $(e.relatedTarget);\r\n\t\t\t\tif(rt.is(\".jstree\") || rt.closest(\".jstree\").length === 0) {\r\n\t\t\t\t\tif(r && r.length) { \r\n\t\t\t\t\t\tr.children(\"a\").trigger(e); \r\n\t\t\t\t\t\tm.hide();\r\n\t\t\t\t\t\tml.hide();\r\n\t\t\t\t\t\te.preventDefault(); \r\n\t\t\t\t\t\te.stopImmediatePropagation(); \r\n\t\t\t\t\t\treturn false; \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.appendTo(\"body\");\r\n\t\t$(document).bind(\"drag_start.vakata\", function (e, data) {\r\n\t\t\tif(data.data.jstree) { m.show(); if(ml) { ml.show(); } }\r\n\t\t});\r\n\t\t$(document).bind(\"drag_stop.vakata\", function (e, data) {\r\n\t\t\tif(data.data.jstree) { m.hide(); if(ml) { ml.hide(); } }\r\n\t\t});\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/*\r\n * jsTree checkbox plugin\r\n * Inserts checkboxes in front of every node\r\n * Depends on the ui plugin\r\n * DOES NOT WORK NICELY WITH MULTITREE DRAG'N'DROP\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"checkbox\", {\r\n\t\t__init : function () {\r\n\t\t\tthis.data.checkbox.noui = this._get_settings().checkbox.override_ui;\r\n\t\t\tif(this.data.ui && this.data.checkbox.noui) {\r\n\t\t\t\tthis.select_node = this.deselect_node = this.deselect_all = $.noop;\r\n\t\t\t\tthis.get_selected = this.get_checked;\r\n\t\t\t}\r\n\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.bind(\"open_node.jstree create_node.jstree clean_node.jstree refresh.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tthis._prepare_checkboxes(data.rslt.obj);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"loaded.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\tthis._prepare_checkboxes();\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate( (this.data.ui && this.data.checkbox.noui ? \"a\" : \"ins.jstree-checkbox\") , \"click.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tif(this._get_node(e.target).hasClass(\"jstree-checked\")) { this.uncheck_node(e.target); }\r\n\t\t\t\t\t\telse { this.check_node(e.target); }\r\n\t\t\t\t\t\tif(this.data.ui && this.data.checkbox.noui) {\r\n\t\t\t\t\t\t\tthis.save_selected();\r\n\t\t\t\t\t\t\tif(this.data.cookies) { this.save_cookie(\"select_node\"); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this));\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\toverride_ui : false,\r\n\t\t\ttwo_state : false,\r\n\t\t\treal_checkboxes : false,\r\n\t\t\tchecked_parent_open : true,\r\n\t\t\treal_checkboxes_names : function (n) { return [ (\"check_\" + (n[0].id || Math.ceil(Math.random() * 10000))) , 1]; }\r\n\t\t},\r\n\t\t__destroy : function () {\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.find(\"input.jstree-real-checkbox\").removeClass(\"jstree-real-checkbox\").end()\r\n\t\t\t\t.find(\"ins.jstree-checkbox\").remove();\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\t_checkbox_notify : function (n, data) {\r\n\t\t\t\tif(data.checked) {\r\n\t\t\t\t\tthis.check_node(n, false);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_prepare_checkboxes : function (obj) {\r\n\t\t\t\tobj = !obj || obj == -1 ? this.get_container().find(\"> ul > li\") : this._get_node(obj);\r\n\t\t\t\tif(obj === false) { return; } // added for removing root nodes\r\n\t\t\t\tvar c, _this = this, t, ts = this._get_settings().checkbox.two_state, rc = this._get_settings().checkbox.real_checkboxes, rcn = this._get_settings().checkbox.real_checkboxes_names;\r\n\t\t\t\tobj.each(function () {\r\n\t\t\t\t\tt = $(this);\r\n\t\t\t\t\tc = t.is(\"li\") && (t.hasClass(\"jstree-checked\") || (rc && t.children(\":checked\").length)) ? \"jstree-checked\" : \"jstree-unchecked\";\r\n\t\t\t\t\tt.find(\"li\").andSelf().each(function () {\r\n\t\t\t\t\t\tvar $t = $(this), nm;\r\n\t\t\t\t\t\t$t.children(\"a\" + (_this.data.languages ? \"\" : \":eq(0)\") ).not(\":has(.jstree-checkbox)\").prepend(\"<ins class='jstree-checkbox'>&#160;</ins>\").parent().not(\".jstree-checked, .jstree-unchecked\").addClass( ts ? \"jstree-unchecked\" : c );\r\n\t\t\t\t\t\tif(rc) {\r\n\t\t\t\t\t\t\tif(!$t.children(\":checkbox\").length) {\r\n\t\t\t\t\t\t\t\tnm = rcn.call(_this, $t);\r\n\t\t\t\t\t\t\t\t$t.prepend(\"<input type='checkbox' class='jstree-real-checkbox' id='\" + nm[0] + \"' name='\" + nm[0] + \"' value='\" + nm[1] + \"' />\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t$t.children(\":checkbox\").addClass(\"jstree-real-checkbox\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!ts) {\r\n\t\t\t\t\t\t\tif(c === \"jstree-checked\" || $t.hasClass(\"jstree-checked\") || $t.children(':checked').length) {\r\n\t\t\t\t\t\t\t\t$t.find(\"li\").andSelf().addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\", true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif($t.hasClass(\"jstree-checked\") || $t.children(':checked').length) {\r\n\t\t\t\t\t\t\t\t$t.addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\", true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tif(!ts) {\r\n\t\t\t\t\tobj.find(\".jstree-checked\").parent().parent().each(function () { _this._repair_state(this); }); \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchange_state : function (obj, state) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tvar coll = false, rc = this._get_settings().checkbox.real_checkboxes;\r\n\t\t\t\tif(!obj || obj === -1) { return false; }\r\n\t\t\t\tstate = (state === false || state === true) ? state : obj.hasClass(\"jstree-checked\");\r\n\t\t\t\tif(this._get_settings().checkbox.two_state) {\r\n\t\t\t\t\tif(state) { \r\n\t\t\t\t\t\tobj.removeClass(\"jstree-checked\").addClass(\"jstree-unchecked\"); \r\n\t\t\t\t\t\tif(rc) { obj.children(\":checkbox\").prop(\"checked\", false); }\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { \r\n\t\t\t\t\t\tobj.removeClass(\"jstree-unchecked\").addClass(\"jstree-checked\"); \r\n\t\t\t\t\t\tif(rc) { obj.children(\":checkbox\").prop(\"checked\", true); }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(state) { \r\n\t\t\t\t\t\tcoll = obj.find(\"li\").andSelf();\r\n\t\t\t\t\t\tif(!coll.filter(\".jstree-checked, .jstree-undetermined\").length) { return false; }\r\n\t\t\t\t\t\tcoll.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\"); \r\n\t\t\t\t\t\tif(rc) { coll.children(\":checkbox\").prop(\"checked\", false); }\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { \r\n\t\t\t\t\t\tcoll = obj.find(\"li\").andSelf();\r\n\t\t\t\t\t\tif(!coll.filter(\".jstree-unchecked, .jstree-undetermined\").length) { return false; }\r\n\t\t\t\t\t\tcoll.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\"); \r\n\t\t\t\t\t\tif(rc) { coll.children(\":checkbox\").prop(\"checked\", true); }\r\n\t\t\t\t\t\tif(this.data.ui) { this.data.ui.last_selected = obj; }\r\n\t\t\t\t\t\tthis.data.checkbox.last_selected = obj;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobj.parentsUntil(\".jstree\", \"li\").each(function () {\r\n\t\t\t\t\t\tvar $this = $(this);\r\n\t\t\t\t\t\tif(state) {\r\n\t\t\t\t\t\t\tif($this.children(\"ul\").children(\"li.jstree-checked, li.jstree-undetermined\").length) {\r\n\t\t\t\t\t\t\t\t$this.parentsUntil(\".jstree\", \"li\").andSelf().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");\r\n\t\t\t\t\t\t\t\tif(rc) { $this.parentsUntil(\".jstree\", \"li\").andSelf().children(\":checkbox\").prop(\"checked\", false); }\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t$this.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\");\r\n\t\t\t\t\t\t\t\tif(rc) { $this.children(\":checkbox\").prop(\"checked\", false); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif($this.children(\"ul\").children(\"li.jstree-unchecked, li.jstree-undetermined\").length) {\r\n\t\t\t\t\t\t\t\t$this.parentsUntil(\".jstree\", \"li\").andSelf().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");\r\n\t\t\t\t\t\t\t\tif(rc) { $this.parentsUntil(\".jstree\", \"li\").andSelf().children(\":checkbox\").prop(\"checked\", false); }\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t$this.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\");\r\n\t\t\t\t\t\t\t\tif(rc) { $this.children(\":checkbox\").prop(\"checked\", true); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif(this.data.ui && this.data.checkbox.noui) { this.data.ui.selected = this.get_checked(); }\r\n\t\t\t\tthis.__callback(obj);\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tcheck_node : function (obj) {\r\n\t\t\t\tif(this.change_state(obj, false)) { \r\n\t\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\t\tif(this._get_settings().checkbox.checked_parent_open) {\r\n\t\t\t\t\t\tvar t = this;\r\n\t\t\t\t\t\tobj.parents(\".jstree-closed\").each(function () { t.open_node(this, false, true); });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.__callback({ \"obj\" : obj }); \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuncheck_node : function (obj) {\r\n\t\t\t\tif(this.change_state(obj, true)) { this.__callback({ \"obj\" : this._get_node(obj) }); }\r\n\t\t\t},\r\n\t\t\tcheck_all : function () {\r\n\t\t\t\tvar _this = this, \r\n\t\t\t\t\tcoll = this._get_settings().checkbox.two_state ? this.get_container_ul().find(\"li\") : this.get_container_ul().children(\"li\");\r\n\t\t\t\tcoll.each(function () {\r\n\t\t\t\t\t_this.change_state(this, false);\r\n\t\t\t\t});\r\n\t\t\t\tthis.__callback();\r\n\t\t\t},\r\n\t\t\tuncheck_all : function () {\r\n\t\t\t\tvar _this = this,\r\n\t\t\t\t\tcoll = this._get_settings().checkbox.two_state ? this.get_container_ul().find(\"li\") : this.get_container_ul().children(\"li\");\r\n\t\t\t\tcoll.each(function () {\r\n\t\t\t\t\t_this.change_state(this, true);\r\n\t\t\t\t});\r\n\t\t\t\tthis.__callback();\r\n\t\t\t},\r\n\r\n\t\t\tis_checked : function(obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\treturn obj.length ? obj.is(\".jstree-checked\") : false;\r\n\t\t\t},\r\n\t\t\tget_checked : function (obj, get_all) {\r\n\t\t\t\tobj = !obj || obj === -1 ? this.get_container() : this._get_node(obj);\r\n\t\t\t\treturn get_all || this._get_settings().checkbox.two_state ? obj.find(\".jstree-checked\") : obj.find(\"> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked\");\r\n\t\t\t},\r\n\t\t\tget_unchecked : function (obj, get_all) { \r\n\t\t\t\tobj = !obj || obj === -1 ? this.get_container() : this._get_node(obj);\r\n\t\t\t\treturn get_all || this._get_settings().checkbox.two_state ? obj.find(\".jstree-unchecked\") : obj.find(\"> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked\");\r\n\t\t\t},\r\n\r\n\t\t\tshow_checkboxes : function () { this.get_container().children(\"ul\").removeClass(\"jstree-no-checkboxes\"); },\r\n\t\t\thide_checkboxes : function () { this.get_container().children(\"ul\").addClass(\"jstree-no-checkboxes\"); },\r\n\r\n\t\t\t_repair_state : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj.length) { return; }\r\n\t\t\t\tif(this._get_settings().checkbox.two_state) {\r\n\t\t\t\t\tobj.find('li').andSelf().not('.jstree-checked').removeClass('jstree-undetermined').addClass('jstree-unchecked').children(':checkbox').prop('checked', true);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar rc = this._get_settings().checkbox.real_checkboxes,\r\n\t\t\t\t\ta = obj.find(\"> ul > .jstree-checked\").length,\r\n\t\t\t\t\tb = obj.find(\"> ul > .jstree-undetermined\").length,\r\n\t\t\t\t\tc = obj.find(\"> ul > li\").length;\r\n\t\t\t\tif(c === 0) { if(obj.hasClass(\"jstree-undetermined\")) { this.change_state(obj, false); } }\r\n\t\t\t\telse if(a === 0 && b === 0) { this.change_state(obj, true); }\r\n\t\t\t\telse if(a === c) { this.change_state(obj, false); }\r\n\t\t\t\telse { \r\n\t\t\t\t\tobj.parentsUntil(\".jstree\",\"li\").andSelf().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");\r\n\t\t\t\t\tif(rc) { obj.parentsUntil(\".jstree\", \"li\").andSelf().children(\":checkbox\").prop(\"checked\", false); }\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\treselect : function () {\r\n\t\t\t\tif(this.data.ui && this.data.checkbox.noui) { \r\n\t\t\t\t\tvar _this = this,\r\n\t\t\t\t\t\ts = this.data.ui.to_select;\r\n\t\t\t\t\ts = $.map($.makeArray(s), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\r\n\t\t\t\t\tthis.deselect_all();\r\n\t\t\t\t\t$.each(s, function (i, val) { _this.check_node(val); });\r\n\t\t\t\t\tthis.__callback();\r\n\t\t\t\t}\r\n\t\t\t\telse { \r\n\t\t\t\t\tthis.__call_old(); \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsave_loaded : function () {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.data.core.to_load = [];\r\n\t\t\t\tthis.get_container_ul().find(\"li.jstree-closed.jstree-undetermined\").each(function () {\r\n\t\t\t\t\tif(this.id) { _this.data.core.to_load.push(\"#\" + this.id); }\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t$(function() {\r\n\t\tvar css_string = '.jstree .jstree-real-checkbox { display:none; } ';\r\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree XML plugin\r\n * The XML data store. Datastores are build by overriding the `load_node` and `_is_loaded` functions.\r\n */\r\n(function ($) {\r\n\t$.vakata.xslt = function (xml, xsl, callback) {\r\n\t\tvar rs = \"\", xm, xs, processor, support;\r\n\t\t// TODO: IE9 no XSLTProcessor, no document.recalc\r\n\t\tif(document.recalc) {\r\n\t\t\txm = document.createElement('xml');\r\n\t\t\txs = document.createElement('xml');\r\n\t\t\txm.innerHTML = xml;\r\n\t\t\txs.innerHTML = xsl;\r\n\t\t\t$(\"body\").append(xm).append(xs);\r\n\t\t\tsetTimeout( (function (xm, xs, callback) {\r\n\t\t\t\treturn function () {\r\n\t\t\t\t\tcallback.call(null, xm.transformNode(xs.XMLDocument));\r\n\t\t\t\t\tsetTimeout( (function (xm, xs) { return function () { $(xm).remove(); $(xs).remove(); }; })(xm, xs), 200);\r\n\t\t\t\t};\r\n\t\t\t})(xm, xs, callback), 100);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif(typeof window.DOMParser !== \"undefined\" && typeof window.XMLHttpRequest !== \"undefined\" && typeof window.XSLTProcessor === \"undefined\") {\r\n\t\t\txml = new DOMParser().parseFromString(xml, \"text/xml\");\r\n\t\t\txsl = new DOMParser().parseFromString(xsl, \"text/xml\");\r\n\t\t\t// alert(xml.transformNode());\r\n\t\t\t// callback.call(null, new XMLSerializer().serializeToString(rs));\r\n\t\t\t\r\n\t\t}\r\n\t\tif(typeof window.DOMParser !== \"undefined\" && typeof window.XMLHttpRequest !== \"undefined\" && typeof window.XSLTProcessor !== \"undefined\") {\r\n\t\t\tprocessor = new XSLTProcessor();\r\n\t\t\tsupport = $.isFunction(processor.transformDocument) ? (typeof window.XMLSerializer !== \"undefined\") : true;\r\n\t\t\tif(!support) { return false; }\r\n\t\t\txml = new DOMParser().parseFromString(xml, \"text/xml\");\r\n\t\t\txsl = new DOMParser().parseFromString(xsl, \"text/xml\");\r\n\t\t\tif($.isFunction(processor.transformDocument)) {\r\n\t\t\t\trs = document.implementation.createDocument(\"\", \"\", null);\r\n\t\t\t\tprocessor.transformDocument(xml, xsl, rs, null);\r\n\t\t\t\tcallback.call(null, new XMLSerializer().serializeToString(rs));\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tprocessor.importStylesheet(xsl);\r\n\t\t\t\trs = processor.transformToFragment(xml, document);\r\n\t\t\t\tcallback.call(null, $(\"<div />\").append(rs).html());\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\tvar xsl = {\r\n\t\t'nest' : '<' + '?xml version=\"1.0\" encoding=\"utf-8\" ?>' + \r\n\t\t\t'<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" >' + \r\n\t\t\t'<xsl:output method=\"html\" encoding=\"utf-8\" omit-xml-declaration=\"yes\" standalone=\"no\" indent=\"no\" media-type=\"text/html\" />' + \r\n\t\t\t'<xsl:template match=\"/\">' + \r\n\t\t\t'\t<xsl:call-template name=\"nodes\">' + \r\n\t\t\t'\t\t<xsl:with-param name=\"node\" select=\"/root\" />' + \r\n\t\t\t'\t</xsl:call-template>' + \r\n\t\t\t'</xsl:template>' + \r\n\t\t\t'<xsl:template name=\"nodes\">' + \r\n\t\t\t'\t<xsl:param name=\"node\" />' + \r\n\t\t\t'\t<ul>' + \r\n\t\t\t'\t<xsl:for-each select=\"$node/item\">' + \r\n\t\t\t'\t\t<xsl:variable name=\"children\" select=\"count(./item) &gt; 0\" />' + \r\n\t\t\t'\t\t<li>' + \r\n\t\t\t'\t\t\t<xsl:attribute name=\"class\">' + \r\n\t\t\t'\t\t\t\t<xsl:if test=\"position() = last()\">jstree-last </xsl:if>' + \r\n\t\t\t'\t\t\t\t<xsl:choose>' + \r\n\t\t\t'\t\t\t\t\t<xsl:when test=\"@state = \\'open\\'\">jstree-open </xsl:when>' + \r\n\t\t\t'\t\t\t\t\t<xsl:when test=\"$children or @hasChildren or @state = \\'closed\\'\">jstree-closed </xsl:when>' + \r\n\t\t\t'\t\t\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>' + \r\n\t\t\t'\t\t\t\t</xsl:choose>' + \r\n\t\t\t'\t\t\t\t<xsl:value-of select=\"@class\" />' + \r\n\t\t\t'\t\t\t</xsl:attribute>' + \r\n\t\t\t'\t\t\t<xsl:for-each select=\"@*\">' + \r\n\t\t\t'\t\t\t\t<xsl:if test=\"name() != \\'class\\' and name() != \\'state\\' and name() != \\'hasChildren\\'\">' + \r\n\t\t\t'\t\t\t\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \r\n\t\t\t'\t\t\t\t</xsl:if>' + \r\n\t\t\t'\t\t\t</xsl:for-each>' + \r\n\t\t\t'\t<ins class=\"jstree-icon\"><xsl:text>&#xa0;</xsl:text></ins>' + \r\n\t\t\t'\t\t\t<xsl:for-each select=\"content/name\">' + \r\n\t\t\t'\t\t\t\t<a>' + \r\n\t\t\t'\t\t\t\t<xsl:attribute name=\"href\">' + \r\n\t\t\t'\t\t\t\t\t<xsl:choose>' + \r\n\t\t\t'\t\t\t\t\t<xsl:when test=\"@href\"><xsl:value-of select=\"@href\" /></xsl:when>' + \r\n\t\t\t'\t\t\t\t\t<xsl:otherwise>#</xsl:otherwise>' + \r\n\t\t\t'\t\t\t\t\t</xsl:choose>' + \r\n\t\t\t'\t\t\t\t</xsl:attribute>' + \r\n\t\t\t'\t\t\t\t<xsl:attribute name=\"class\"><xsl:value-of select=\"@lang\" /> <xsl:value-of select=\"@class\" /></xsl:attribute>' + \r\n\t\t\t'\t\t\t\t<xsl:attribute name=\"style\"><xsl:value-of select=\"@style\" /></xsl:attribute>' + \r\n\t\t\t'\t\t\t\t<xsl:for-each select=\"@*\">' + \r\n\t\t\t'\t\t\t\t\t<xsl:if test=\"name() != \\'style\\' and name() != \\'class\\' and name() != \\'href\\'\">' + \r\n\t\t\t'\t\t\t\t\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \r\n\t\t\t'\t\t\t\t\t</xsl:if>' + \r\n\t\t\t'\t\t\t\t</xsl:for-each>' + \r\n\t\t\t'\t\t\t\t\t<ins>' + \r\n\t\t\t'\t\t\t\t\t\t<xsl:attribute name=\"class\">jstree-icon ' + \r\n\t\t\t'\t\t\t\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and not(contains(@icon,\\'/\\'))\"><xsl:value-of select=\"@icon\" /></xsl:if>' + \r\n\t\t\t'\t\t\t\t\t\t</xsl:attribute>' + \r\n\t\t\t'\t\t\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and contains(@icon,\\'/\\')\"><xsl:attribute name=\"style\">background:url(<xsl:value-of select=\"@icon\" />) center center no-repeat;</xsl:attribute></xsl:if>' + \r\n\t\t\t'\t\t\t\t\t\t<xsl:text>&#xa0;</xsl:text>' + \r\n\t\t\t'\t\t\t\t\t</ins>' + \r\n\t\t\t'\t\t\t\t\t<xsl:copy-of select=\"./child::node()\" />' + \r\n\t\t\t'\t\t\t\t</a>' + \r\n\t\t\t'\t\t\t</xsl:for-each>' + \r\n\t\t\t'\t\t\t<xsl:if test=\"$children or @hasChildren\"><xsl:call-template name=\"nodes\"><xsl:with-param name=\"node\" select=\"current()\" /></xsl:call-template></xsl:if>' + \r\n\t\t\t'\t\t</li>' + \r\n\t\t\t'\t</xsl:for-each>' + \r\n\t\t\t'\t</ul>' + \r\n\t\t\t'</xsl:template>' + \r\n\t\t\t'</xsl:stylesheet>',\r\n\r\n\t\t'flat' : '<' + '?xml version=\"1.0\" encoding=\"utf-8\" ?>' + \r\n\t\t\t'<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" >' + \r\n\t\t\t'<xsl:output method=\"html\" encoding=\"utf-8\" omit-xml-declaration=\"yes\" standalone=\"no\" indent=\"no\" media-type=\"text/xml\" />' + \r\n\t\t\t'<xsl:template match=\"/\">' + \r\n\t\t\t'\t<ul>' + \r\n\t\t\t'\t<xsl:for-each select=\"//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]\">' + /* the last `or` may be removed */\r\n\t\t\t'\t\t<xsl:call-template name=\"nodes\">' + \r\n\t\t\t'\t\t\t<xsl:with-param name=\"node\" select=\".\" />' + \r\n\t\t\t'\t\t\t<xsl:with-param name=\"is_last\" select=\"number(position() = last())\" />' + \r\n\t\t\t'\t\t</xsl:call-template>' + \r\n\t\t\t'\t</xsl:for-each>' + \r\n\t\t\t'\t</ul>' + \r\n\t\t\t'</xsl:template>' + \r\n\t\t\t'<xsl:template name=\"nodes\">' + \r\n\t\t\t'\t<xsl:param name=\"node\" />' + \r\n\t\t\t'\t<xsl:param name=\"is_last\" />' + \r\n\t\t\t'\t<xsl:variable name=\"children\" select=\"count(//item[@parent_id=$node/attribute::id]) &gt; 0\" />' + \r\n\t\t\t'\t<li>' + \r\n\t\t\t'\t<xsl:attribute name=\"class\">' + \r\n\t\t\t'\t\t<xsl:if test=\"$is_last = true()\">jstree-last </xsl:if>' + \r\n\t\t\t'\t\t<xsl:choose>' + \r\n\t\t\t'\t\t\t<xsl:when test=\"@state = \\'open\\'\">jstree-open </xsl:when>' + \r\n\t\t\t'\t\t\t<xsl:when test=\"$children or @hasChildren or @state = \\'closed\\'\">jstree-closed </xsl:when>' + \r\n\t\t\t'\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>' + \r\n\t\t\t'\t\t</xsl:choose>' + \r\n\t\t\t'\t\t<xsl:value-of select=\"@class\" />' + \r\n\t\t\t'\t</xsl:attribute>' + \r\n\t\t\t'\t<xsl:for-each select=\"@*\">' + \r\n\t\t\t'\t\t<xsl:if test=\"name() != \\'parent_id\\' and name() != \\'hasChildren\\' and name() != \\'class\\' and name() != \\'state\\'\">' + \r\n\t\t\t'\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \r\n\t\t\t'\t\t</xsl:if>' + \r\n\t\t\t'\t</xsl:for-each>' + \r\n\t\t\t'\t<ins class=\"jstree-icon\"><xsl:text>&#xa0;</xsl:text></ins>' + \r\n\t\t\t'\t<xsl:for-each select=\"content/name\">' + \r\n\t\t\t'\t\t<a>' + \r\n\t\t\t'\t\t<xsl:attribute name=\"href\">' + \r\n\t\t\t'\t\t\t<xsl:choose>' + \r\n\t\t\t'\t\t\t<xsl:when test=\"@href\"><xsl:value-of select=\"@href\" /></xsl:when>' + \r\n\t\t\t'\t\t\t<xsl:otherwise>#</xsl:otherwise>' + \r\n\t\t\t'\t\t\t</xsl:choose>' + \r\n\t\t\t'\t\t</xsl:attribute>' + \r\n\t\t\t'\t\t<xsl:attribute name=\"class\"><xsl:value-of select=\"@lang\" /> <xsl:value-of select=\"@class\" /></xsl:attribute>' + \r\n\t\t\t'\t\t<xsl:attribute name=\"style\"><xsl:value-of select=\"@style\" /></xsl:attribute>' + \r\n\t\t\t'\t\t<xsl:for-each select=\"@*\">' + \r\n\t\t\t'\t\t\t<xsl:if test=\"name() != \\'style\\' and name() != \\'class\\' and name() != \\'href\\'\">' + \r\n\t\t\t'\t\t\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \r\n\t\t\t'\t\t\t</xsl:if>' + \r\n\t\t\t'\t\t</xsl:for-each>' + \r\n\t\t\t'\t\t\t<ins>' + \r\n\t\t\t'\t\t\t\t<xsl:attribute name=\"class\">jstree-icon ' + \r\n\t\t\t'\t\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and not(contains(@icon,\\'/\\'))\"><xsl:value-of select=\"@icon\" /></xsl:if>' + \r\n\t\t\t'\t\t\t\t</xsl:attribute>' + \r\n\t\t\t'\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and contains(@icon,\\'/\\')\"><xsl:attribute name=\"style\">background:url(<xsl:value-of select=\"@icon\" />) center center no-repeat;</xsl:attribute></xsl:if>' + \r\n\t\t\t'\t\t\t\t<xsl:text>&#xa0;</xsl:text>' + \r\n\t\t\t'\t\t\t</ins>' + \r\n\t\t\t'\t\t\t<xsl:copy-of select=\"./child::node()\" />' + \r\n\t\t\t'\t\t</a>' + \r\n\t\t\t'\t</xsl:for-each>' + \r\n\t\t\t'\t<xsl:if test=\"$children\">' + \r\n\t\t\t'\t\t<ul>' + \r\n\t\t\t'\t\t<xsl:for-each select=\"//item[@parent_id=$node/attribute::id]\">' + \r\n\t\t\t'\t\t\t<xsl:call-template name=\"nodes\">' + \r\n\t\t\t'\t\t\t\t<xsl:with-param name=\"node\" select=\".\" />' + \r\n\t\t\t'\t\t\t\t<xsl:with-param name=\"is_last\" select=\"number(position() = last())\" />' + \r\n\t\t\t'\t\t\t</xsl:call-template>' + \r\n\t\t\t'\t\t</xsl:for-each>' + \r\n\t\t\t'\t\t</ul>' + \r\n\t\t\t'\t</xsl:if>' + \r\n\t\t\t'\t</li>' + \r\n\t\t\t'</xsl:template>' + \r\n\t\t\t'</xsl:stylesheet>'\r\n\t},\r\n\tescape_xml = function(string) {\r\n\t\treturn string\r\n\t\t\t.toString()\r\n\t\t\t.replace(/&/g, '&amp;')\r\n\t\t\t.replace(/</g, '&lt;')\r\n\t\t\t.replace(/>/g, '&gt;')\r\n\t\t\t.replace(/\"/g, '&quot;')\r\n\t\t\t.replace(/'/g, '&apos;');\r\n\t};\r\n\t$.jstree.plugin(\"xml_data\", {\r\n\t\tdefaults : { \r\n\t\t\tdata : false,\r\n\t\t\tajax : false,\r\n\t\t\txsl : \"flat\",\r\n\t\t\tclean_node : false,\r\n\t\t\tcorrect_state : true,\r\n\t\t\tget_skip_empty : false,\r\n\t\t\tget_include_preamble : true\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tload_node : function (obj, s_call, e_call) { var _this = this; this.load_node_xml(obj, function () { _this.__callback({ \"obj\" : _this._get_node(obj) }); s_call.call(this); }, e_call); },\r\n\t\t\t_is_loaded : function (obj) { \r\n\t\t\t\tvar s = this._get_settings().xml_data;\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\treturn obj == -1 || !obj || (!s.ajax && !$.isFunction(s.data)) || obj.is(\".jstree-open, .jstree-leaf\") || obj.children(\"ul\").children(\"li\").size() > 0;\r\n\t\t\t},\r\n\t\t\tload_node_xml : function (obj, s_call, e_call) {\r\n\t\t\t\tvar s = this.get_settings().xml_data,\r\n\t\t\t\t\terror_func = function () {},\r\n\t\t\t\t\tsuccess_func = function () {};\r\n\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(obj && obj !== -1) {\r\n\t\t\t\t\tif(obj.data(\"jstree_is_loading\")) { return; }\r\n\t\t\t\t\telse { obj.data(\"jstree_is_loading\",true); }\r\n\t\t\t\t}\r\n\t\t\t\tswitch(!0) {\r\n\t\t\t\t\tcase (!s.data && !s.ajax): throw \"Neither data nor ajax settings supplied.\";\r\n\t\t\t\t\tcase ($.isFunction(s.data)):\r\n\t\t\t\t\t\ts.data.call(this, obj, $.proxy(function (d) {\r\n\t\t\t\t\t\t\tthis.parse_xml(d, $.proxy(function (d) {\r\n\t\t\t\t\t\t\t\tif(d) {\r\n\t\t\t\t\t\t\t\t\td = d.replace(/ ?xmlns=\"[^\"]*\"/ig, \"\");\r\n\t\t\t\t\t\t\t\t\tif(d.length > 10) {\r\n\t\t\t\t\t\t\t\t\t\td = $(d);\r\n\t\t\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\r\n\t\t\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d); obj.removeData(\"jstree_is_loading\"); }\r\n\t\t\t\t\t\t\t\t\t\tif(s.clean_node) { this.clean_node(obj); }\r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tif(obj && obj !== -1) { \r\n\t\t\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\r\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, this));\r\n\t\t\t\t\t\t}, this));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase (!!s.data && !s.ajax) || (!!s.data && !!s.ajax && (!obj || obj === -1)):\r\n\t\t\t\t\t\tif(!obj || obj == -1) {\r\n\t\t\t\t\t\t\tthis.parse_xml(s.data, $.proxy(function (d) {\r\n\t\t\t\t\t\t\t\tif(d) {\r\n\t\t\t\t\t\t\t\t\td = d.replace(/ ?xmlns=\"[^\"]*\"/ig, \"\");\r\n\t\t\t\t\t\t\t\t\tif(d.length > 10) {\r\n\t\t\t\t\t\t\t\t\t\td = $(d);\r\n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty().append(d.children());\r\n\t\t\t\t\t\t\t\t\t\tif(s.clean_node) { this.clean_node(obj); }\r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse { \r\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty(); \r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, this));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase (!s.data && !!s.ajax) || (!!s.data && !!s.ajax && obj && obj !== -1):\r\n\t\t\t\t\t\terror_func = function (x, t, e) {\r\n\t\t\t\t\t\t\tvar ef = this.get_settings().xml_data.ajax.error; \r\n\t\t\t\t\t\t\tif(ef) { ef.call(this, x, t, e); }\r\n\t\t\t\t\t\t\tif(obj !== -1 && obj.length) {\r\n\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\r\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.correct_state(obj); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.get_container().children(\"ul\").empty(); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tsuccess_func = function (d, t, x) {\r\n\t\t\t\t\t\t\td = x.responseText;\r\n\t\t\t\t\t\t\tvar sf = this.get_settings().xml_data.ajax.success; \r\n\t\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\r\n\t\t\t\t\t\t\tif(d === \"\" || (d && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") === \"\")) {\r\n\t\t\t\t\t\t\t\treturn error_func.call(this, x, t, \"\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.parse_xml(d, $.proxy(function (d) {\r\n\t\t\t\t\t\t\t\tif(d) {\r\n\t\t\t\t\t\t\t\t\td = d.replace(/ ?xmlns=\"[^\"]*\"/ig, \"\");\r\n\t\t\t\t\t\t\t\t\tif(d.length > 10) {\r\n\t\t\t\t\t\t\t\t\t\td = $(d);\r\n\t\t\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\r\n\t\t\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d); obj.removeData(\"jstree_is_loading\"); }\r\n\t\t\t\t\t\t\t\t\t\tif(s.clean_node) { this.clean_node(obj); }\r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tif(obj && obj !== -1) { \r\n\t\t\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\r\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, this));\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\ts.ajax.context = this;\r\n\t\t\t\t\t\ts.ajax.error = error_func;\r\n\t\t\t\t\t\ts.ajax.success = success_func;\r\n\t\t\t\t\t\tif(!s.ajax.dataType) { s.ajax.dataType = \"xml\"; }\r\n\t\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, obj); }\r\n\t\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, obj); }\r\n\t\t\t\t\t\t$.ajax(s.ajax);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tparse_xml : function (xml, callback) {\r\n\t\t\t\tvar s = this._get_settings().xml_data;\r\n\t\t\t\t$.vakata.xslt(xml, xsl[s.xsl], callback);\r\n\t\t\t},\r\n\t\t\tget_xml : function (tp, obj, li_attr, a_attr, is_callback) {\r\n\t\t\t\tvar result = \"\", \r\n\t\t\t\t\ts = this._get_settings(), \r\n\t\t\t\t\t_this = this,\r\n\t\t\t\t\ttmp1, tmp2, li, a, lang;\r\n\t\t\t\tif(!tp) { tp = \"flat\"; }\r\n\t\t\t\tif(!is_callback) { is_callback = 0; }\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container().find(\"> ul > li\"); }\r\n\t\t\t\tli_attr = $.isArray(li_attr) ? li_attr : [ \"id\", \"class\" ];\r\n\t\t\t\tif(!is_callback && this.data.types && $.inArray(s.types.type_attr, li_attr) === -1) { li_attr.push(s.types.type_attr); }\r\n\r\n\t\t\t\ta_attr = $.isArray(a_attr) ? a_attr : [ ];\r\n\r\n\t\t\t\tif(!is_callback) { \r\n\t\t\t\t\tif(s.xml_data.get_include_preamble) { \r\n\t\t\t\t\t\tresult += '<' + '?xml version=\"1.0\" encoding=\"UTF-8\"?' + '>'; \r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult += \"<root>\"; \r\n\t\t\t\t}\r\n\t\t\t\tobj.each(function () {\r\n\t\t\t\t\tresult += \"<item\";\r\n\t\t\t\t\tli = $(this);\r\n\t\t\t\t\t$.each(li_attr, function (i, v) { \r\n\t\t\t\t\t\tvar t = li.attr(v);\r\n\t\t\t\t\t\tif(!s.xml_data.get_skip_empty || typeof t !== \"undefined\") {\r\n\t\t\t\t\t\t\tresult += \" \" + v + \"=\\\"\" + escape_xml((\" \" + (t || \"\")).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\")) + \"\\\"\"; \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(li.hasClass(\"jstree-open\")) { result += \" state=\\\"open\\\"\"; }\r\n\t\t\t\t\tif(li.hasClass(\"jstree-closed\")) { result += \" state=\\\"closed\\\"\"; }\r\n\t\t\t\t\tif(tp === \"flat\") { result += \" parent_id=\\\"\" + escape_xml(is_callback) + \"\\\"\"; }\r\n\t\t\t\t\tresult += \">\";\r\n\t\t\t\t\tresult += \"<content>\";\r\n\t\t\t\t\ta = li.children(\"a\");\r\n\t\t\t\t\ta.each(function () {\r\n\t\t\t\t\t\ttmp1 = $(this);\r\n\t\t\t\t\t\tlang = false;\r\n\t\t\t\t\t\tresult += \"<name\";\r\n\t\t\t\t\t\tif($.inArray(\"languages\", s.plugins) !== -1) {\r\n\t\t\t\t\t\t\t$.each(s.languages, function (k, z) {\r\n\t\t\t\t\t\t\t\tif(tmp1.hasClass(z)) { result += \" lang=\\\"\" + escape_xml(z) + \"\\\"\"; lang = z; return false; }\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(a_attr.length) { \r\n\t\t\t\t\t\t\t$.each(a_attr, function (k, z) {\r\n\t\t\t\t\t\t\t\tvar t = tmp1.attr(z);\r\n\t\t\t\t\t\t\t\tif(!s.xml_data.get_skip_empty || typeof t !== \"undefined\") {\r\n\t\t\t\t\t\t\t\t\tresult += \" \" + z + \"=\\\"\" + escape_xml((\" \" + t || \"\").replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\")) + \"\\\"\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(tmp1.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\\s+$/ig,\"\").length) {\r\n\t\t\t\t\t\t\tresult += ' icon=\"' + escape_xml(tmp1.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\")) + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(tmp1.children(\"ins\").get(0).style.backgroundImage.length) {\r\n\t\t\t\t\t\t\tresult += ' icon=\"' + escape_xml(tmp1.children(\"ins\").get(0).style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\").replace(/'/ig,\"\").replace(/\"/ig,\"\")) + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresult += \">\";\r\n\t\t\t\t\t\tresult += \"<![CDATA[\" + _this.get_text(tmp1, lang) + \"]]>\";\r\n\t\t\t\t\t\tresult += \"</name>\";\r\n\t\t\t\t\t});\r\n\t\t\t\t\tresult += \"</content>\";\r\n\t\t\t\t\ttmp2 = li[0].id || true;\r\n\t\t\t\t\tli = li.find(\"> ul > li\");\r\n\t\t\t\t\tif(li.length) { tmp2 = _this.get_xml(tp, li, li_attr, a_attr, tmp2); }\r\n\t\t\t\t\telse { tmp2 = \"\"; }\r\n\t\t\t\t\tif(tp == \"nest\") { result += tmp2; }\r\n\t\t\t\t\tresult += \"</item>\";\r\n\t\t\t\t\tif(tp == \"flat\") { result += tmp2; }\r\n\t\t\t\t});\r\n\t\t\t\tif(!is_callback) { result += \"</root>\"; }\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/*\r\n * jsTree search plugin\r\n * Enables both sync and async search on the tree\r\n * DOES NOT WORK WITH JSON PROGRESSIVE RENDER\r\n */\r\n(function ($) {\r\n\t$.expr[':'].jstree_contains = function(a,i,m){\r\n\t\treturn (a.textContent || a.innerText || \"\").toLowerCase().indexOf(m[3].toLowerCase())>=0;\r\n\t};\r\n\t$.expr[':'].jstree_title_contains = function(a,i,m) {\r\n\t\treturn (a.getAttribute(\"title\") || \"\").toLowerCase().indexOf(m[3].toLowerCase())>=0;\r\n\t};\r\n\t$.jstree.plugin(\"search\", {\r\n\t\t__init : function () {\r\n\t\t\tthis.data.search.str = \"\";\r\n\t\t\tthis.data.search.result = $();\r\n\t\t\tif(this._get_settings().search.show_only_matches) {\r\n\t\t\t\tthis.get_container()\r\n\t\t\t\t\t.bind(\"search.jstree\", function (e, data) {\r\n\t\t\t\t\t\t$(this).children(\"ul\").find(\"li\").hide().removeClass(\"jstree-last\");\r\n\t\t\t\t\t\tdata.rslt.nodes.parentsUntil(\".jstree\").andSelf().show()\r\n\t\t\t\t\t\t\t.filter(\"ul\").each(function () { $(this).children(\"li:visible\").eq(-1).addClass(\"jstree-last\"); });\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.bind(\"clear_search.jstree\", function () {\r\n\t\t\t\t\t\t$(this).children(\"ul\").find(\"li\").css(\"display\",\"\").end().end().jstree(\"clean_node\", -1);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\tajax : false,\r\n\t\t\tsearch_method : \"jstree_contains\", // for case insensitive - jstree_contains\r\n\t\t\tshow_only_matches : false\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tsearch : function (str, skip_async) {\r\n\t\t\t\tif($.trim(str) === \"\") { this.clear_search(); return; }\r\n\t\t\t\tvar s = this.get_settings().search, \r\n\t\t\t\t\tt = this,\r\n\t\t\t\t\terror_func = function () { },\r\n\t\t\t\t\tsuccess_func = function () { };\r\n\t\t\t\tthis.data.search.str = str;\r\n\r\n\t\t\t\tif(!skip_async && s.ajax !== false && this.get_container_ul().find(\"li.jstree-closed:not(:has(ul)):eq(0)\").length > 0) {\r\n\t\t\t\t\tthis.search.supress_callback = true;\r\n\t\t\t\t\terror_func = function () { };\r\n\t\t\t\t\tsuccess_func = function (d, t, x) {\r\n\t\t\t\t\t\tvar sf = this.get_settings().search.ajax.success; \r\n\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\r\n\t\t\t\t\t\tthis.data.search.to_open = d;\r\n\t\t\t\t\t\tthis._search_open();\r\n\t\t\t\t\t};\r\n\t\t\t\t\ts.ajax.context = this;\r\n\t\t\t\t\ts.ajax.error = error_func;\r\n\t\t\t\t\ts.ajax.success = success_func;\r\n\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, str); }\r\n\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, str); }\r\n\t\t\t\t\tif(!s.ajax.data) { s.ajax.data = { \"search_string\" : str }; }\r\n\t\t\t\t\tif(!s.ajax.dataType || /^json/.exec(s.ajax.dataType)) { s.ajax.dataType = \"json\"; }\r\n\t\t\t\t\t$.ajax(s.ajax);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.data.search.result.length) { this.clear_search(); }\r\n\t\t\t\tthis.data.search.result = this.get_container().find(\"a\" + (this.data.languages ? \".\" + this.get_lang() : \"\" ) + \":\" + (s.search_method) + \"(\" + this.data.search.str + \")\");\r\n\t\t\t\tthis.data.search.result.addClass(\"jstree-search\").parent().parents(\".jstree-closed\").each(function () {\r\n\t\t\t\t\tt.open_node(this, false, true);\r\n\t\t\t\t});\r\n\t\t\t\tthis.__callback({ nodes : this.data.search.result, str : str });\r\n\t\t\t},\r\n\t\t\tclear_search : function (str) {\r\n\t\t\t\tthis.data.search.result.removeClass(\"jstree-search\");\r\n\t\t\t\tthis.__callback(this.data.search.result);\r\n\t\t\t\tthis.data.search.result = $();\r\n\t\t\t},\r\n\t\t\t_search_open : function (is_callback) {\r\n\t\t\t\tvar _this = this,\r\n\t\t\t\t\tdone = true,\r\n\t\t\t\t\tcurrent = [],\r\n\t\t\t\t\tremaining = [];\r\n\t\t\t\tif(this.data.search.to_open.length) {\r\n\t\t\t\t\t$.each(this.data.search.to_open, function (i, val) {\r\n\t\t\t\t\t\tif(val == \"#\") { return true; }\r\n\t\t\t\t\t\tif($(val).length && $(val).is(\".jstree-closed\")) { current.push(val); }\r\n\t\t\t\t\t\telse { remaining.push(val); }\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(current.length) {\r\n\t\t\t\t\t\tthis.data.search.to_open = remaining;\r\n\t\t\t\t\t\t$.each(current, function (i, val) { \r\n\t\t\t\t\t\t\t_this.open_node(val, function () { _this._search_open(true); }); \r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tdone = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(done) { this.search(this.data.search.str, true); }\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree contextmenu plugin\r\n */\r\n(function ($) {\r\n\t$.vakata.context = {\r\n\t\thide_on_mouseleave : false,\r\n\r\n\t\tcnt\t\t: $(\"<div id='vakata-contextmenu' />\"),\r\n\t\tvis\t\t: false,\r\n\t\ttgt\t\t: false,\r\n\t\tpar\t\t: false,\r\n\t\tfunc\t: false,\r\n\t\tdata\t: false,\r\n\t\trtl\t\t: false,\r\n\t\tshow\t: function (s, t, x, y, d, p, rtl) {\r\n\t\t\t$.vakata.context.rtl = !!rtl;\r\n\t\t\tvar html = $.vakata.context.parse(s), h, w;\r\n\t\t\tif(!html) { return; }\r\n\t\t\t$.vakata.context.vis = true;\r\n\t\t\t$.vakata.context.tgt = t;\r\n\t\t\t$.vakata.context.par = p || t || null;\r\n\t\t\t$.vakata.context.data = d || null;\r\n\t\t\t$.vakata.context.cnt\r\n\t\t\t\t.html(html)\r\n\t\t\t\t.css({ \"visibility\" : \"hidden\", \"display\" : \"block\", \"left\" : 0, \"top\" : 0 });\r\n\r\n\t\t\tif($.vakata.context.hide_on_mouseleave) {\r\n\t\t\t\t$.vakata.context.cnt\r\n\t\t\t\t\t.one(\"mouseleave\", function(e) { $.vakata.context.hide(); });\r\n\t\t\t}\r\n\r\n\t\t\th = $.vakata.context.cnt.height();\r\n\t\t\tw = $.vakata.context.cnt.width();\r\n\t\t\tif(x + w > $(document).width()) { \r\n\t\t\t\tx = $(document).width() - (w + 5); \r\n\t\t\t\t$.vakata.context.cnt.find(\"li > ul\").addClass(\"right\"); \r\n\t\t\t}\r\n\t\t\tif(y + h > $(document).height()) { \r\n\t\t\t\ty = y - (h + t[0].offsetHeight); \r\n\t\t\t\t$.vakata.context.cnt.find(\"li > ul\").addClass(\"bottom\"); \r\n\t\t\t}\r\n\r\n\t\t\t$.vakata.context.cnt\r\n\t\t\t\t.css({ \"left\" : x, \"top\" : y })\r\n\t\t\t\t.find(\"li:has(ul)\")\r\n\t\t\t\t\t.bind(\"mouseenter\", function (e) { \r\n\t\t\t\t\t\tvar w = $(document).width(),\r\n\t\t\t\t\t\t\th = $(document).height(),\r\n\t\t\t\t\t\t\tul = $(this).children(\"ul\").show(); \r\n\t\t\t\t\t\tif(w !== $(document).width()) { ul.toggleClass(\"right\"); }\r\n\t\t\t\t\t\tif(h !== $(document).height()) { ul.toggleClass(\"bottom\"); }\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.bind(\"mouseleave\", function (e) { \r\n\t\t\t\t\t\t$(this).children(\"ul\").hide(); \r\n\t\t\t\t\t})\r\n\t\t\t\t\t.end()\r\n\t\t\t\t.css({ \"visibility\" : \"visible\" })\r\n\t\t\t\t.show();\r\n\t\t\t$(document).triggerHandler(\"context_show.vakata\");\r\n\t\t},\r\n\t\thide\t: function () {\r\n\t\t\t$.vakata.context.vis = false;\r\n\t\t\t$.vakata.context.cnt.attr(\"class\",\"\").css({ \"visibility\" : \"hidden\" });\r\n\t\t\t$(document).triggerHandler(\"context_hide.vakata\");\r\n\t\t},\r\n\t\tparse\t: function (s, is_callback) {\r\n\t\t\tif(!s) { return false; }\r\n\t\t\tvar str = \"\",\r\n\t\t\t\ttmp = false,\r\n\t\t\t\twas_sep = true;\r\n\t\t\tif(!is_callback) { $.vakata.context.func = {}; }\r\n\t\t\tstr += \"<ul>\";\r\n\t\t\t$.each(s, function (i, val) {\r\n\t\t\t\tif(!val) { return true; }\r\n\t\t\t\t$.vakata.context.func[i] = val.action;\r\n\t\t\t\tif(!was_sep && val.separator_before) {\r\n\t\t\t\t\tstr += \"<li class='vakata-separator vakata-separator-before'></li>\";\r\n\t\t\t\t}\r\n\t\t\t\twas_sep = false;\r\n\t\t\t\tstr += \"<li class='\" + (val._class || \"\") + (val._disabled ? \" jstree-contextmenu-disabled \" : \"\") + \"'><ins \";\r\n\t\t\t\tif(val.icon && val.icon.indexOf(\"/\") === -1) { str += \" class='\" + val.icon + \"' \"; }\r\n\t\t\t\tif(val.icon && val.icon.indexOf(\"/\") !== -1) { str += \" style='background:url(\" + val.icon + \") center center no-repeat;' \"; }\r\n\t\t\t\tstr += \">&#160;</ins><a href='#' rel='\" + i + \"'>\";\r\n\t\t\t\tif(val.submenu) {\r\n\t\t\t\t\tstr += \"<span style='float:\" + ($.vakata.context.rtl ? \"left\" : \"right\") + \";'>&raquo;</span>\";\r\n\t\t\t\t}\r\n\t\t\t\tstr += val.label + \"</a>\";\r\n\t\t\t\tif(val.submenu) {\r\n\t\t\t\t\ttmp = $.vakata.context.parse(val.submenu, true);\r\n\t\t\t\t\tif(tmp) { str += tmp; }\r\n\t\t\t\t}\r\n\t\t\t\tstr += \"</li>\";\r\n\t\t\t\tif(val.separator_after) {\r\n\t\t\t\t\tstr += \"<li class='vakata-separator vakata-separator-after'></li>\";\r\n\t\t\t\t\twas_sep = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tstr = str.replace(/<li class\\='vakata-separator vakata-separator-after'\\><\\/li\\>$/,\"\");\r\n\t\t\tstr += \"</ul>\";\r\n\t\t\t$(document).triggerHandler(\"context_parse.vakata\");\r\n\t\t\treturn str.length > 10 ? str : false;\r\n\t\t},\r\n\t\texec\t: function (i) {\r\n\t\t\tif($.isFunction($.vakata.context.func[i])) {\r\n\t\t\t\t// if is string - eval and call it!\r\n\t\t\t\t$.vakata.context.func[i].call($.vakata.context.data, $.vakata.context.par);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse { return false; }\r\n\t\t}\r\n\t};\r\n\t$(function () {\r\n\t\tvar css_string = '' + \r\n\t\t\t'#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } ' + \r\n\t\t\t'#vakata-contextmenu ul { min-width:180px; *width:180px; } ' + \r\n\t\t\t'#vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } ' + \r\n\t\t\t'#vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } ' + \r\n\t\t\t'#vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } ' + \r\n\t\t\t'#vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } ' + \r\n\t\t\t'#vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } ' + \r\n\t\t\t'#vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } ' + \r\n\t\t\t'#vakata-contextmenu .right { right:100%; left:auto; } ' + \r\n\t\t\t'#vakata-contextmenu .bottom { bottom:-1px; top:auto; } ' + \r\n\t\t\t'#vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ';\r\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"vakata\" });\r\n\t\t$.vakata.context.cnt\r\n\t\t\t.delegate(\"a\",\"click\", function (e) { e.preventDefault(); })\r\n\t\t\t.delegate(\"a\",\"mouseup\", function (e) {\r\n\t\t\t\tif(!$(this).parent().hasClass(\"jstree-contextmenu-disabled\") && $.vakata.context.exec($(this).attr(\"rel\"))) {\r\n\t\t\t\t\t$.vakata.context.hide();\r\n\t\t\t\t}\r\n\t\t\t\telse { $(this).blur(); }\r\n\t\t\t})\r\n\t\t\t.delegate(\"a\",\"mouseover\", function () {\r\n\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").removeClass(\"vakata-hover\");\r\n\t\t\t})\r\n\t\t\t.appendTo(\"body\");\r\n\t\t$(document).bind(\"mousedown\", function (e) { if($.vakata.context.vis && !$.contains($.vakata.context.cnt[0], e.target)) { $.vakata.context.hide(); } });\r\n\t\tif(typeof $.hotkeys !== \"undefined\") {\r\n\t\t\t$(document)\r\n\t\t\t\t.bind(\"keydown\", \"up\", function (e) { \r\n\t\t\t\t\tif($.vakata.context.vis) { \r\n\t\t\t\t\t\tvar o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\".vakata-hover\").removeClass(\"vakata-hover\").prevAll(\"li:not(.vakata-separator)\").first();\r\n\t\t\t\t\t\tif(!o.length) { o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\"li:not(.vakata-separator)\").last(); }\r\n\t\t\t\t\t\to.addClass(\"vakata-hover\");\r\n\t\t\t\t\t\te.stopImmediatePropagation(); \r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t} \r\n\t\t\t\t})\r\n\t\t\t\t.bind(\"keydown\", \"down\", function (e) { \r\n\t\t\t\t\tif($.vakata.context.vis) { \r\n\t\t\t\t\t\tvar o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\".vakata-hover\").removeClass(\"vakata-hover\").nextAll(\"li:not(.vakata-separator)\").first();\r\n\t\t\t\t\t\tif(!o.length) { o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\"li:not(.vakata-separator)\").first(); }\r\n\t\t\t\t\t\to.addClass(\"vakata-hover\");\r\n\t\t\t\t\t\te.stopImmediatePropagation(); \r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t} \r\n\t\t\t\t})\r\n\t\t\t\t.bind(\"keydown\", \"right\", function (e) { \r\n\t\t\t\t\tif($.vakata.context.vis) { \r\n\t\t\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").children(\"ul\").show().children(\"li:not(.vakata-separator)\").removeClass(\"vakata-hover\").first().addClass(\"vakata-hover\");\r\n\t\t\t\t\t\te.stopImmediatePropagation(); \r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t} \r\n\t\t\t\t})\r\n\t\t\t\t.bind(\"keydown\", \"left\", function (e) { \r\n\t\t\t\t\tif($.vakata.context.vis) { \r\n\t\t\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").children(\"ul\").hide().children(\".vakata-separator\").removeClass(\"vakata-hover\");\r\n\t\t\t\t\t\te.stopImmediatePropagation(); \r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t} \r\n\t\t\t\t})\r\n\t\t\t\t.bind(\"keydown\", \"esc\", function (e) { \r\n\t\t\t\t\t$.vakata.context.hide(); \r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t})\r\n\t\t\t\t.bind(\"keydown\", \"space\", function (e) { \r\n\t\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").last().children(\"a\").click();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t$.jstree.plugin(\"contextmenu\", {\r\n\t\t__init : function () {\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.delegate(\"a\", \"contextmenu.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tif(!$(e.currentTarget).hasClass(\"jstree-loading\")) {\r\n\t\t\t\t\t\t\tthis.show_contextmenu(e.currentTarget, e.pageX, e.pageY);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\"a\", \"click.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\tif(this.data.contextmenu) {\r\n\t\t\t\t\t\t\t$.vakata.context.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"destroy.jstree\", $.proxy(function () {\r\n\t\t\t\t\t\t// TODO: move this to descruct method\r\n\t\t\t\t\t\tif(this.data.contextmenu) {\r\n\t\t\t\t\t\t\t$.vakata.context.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this));\r\n\t\t\t$(document).bind(\"context_hide.vakata\", $.proxy(function () { this.data.contextmenu = false; }, this));\r\n\t\t},\r\n\t\tdefaults : { \r\n\t\t\tselect_node : false, // requires UI plugin\r\n\t\t\tshow_at_node : true,\r\n\t\t\titems : { // Could be a function that should return an object like this one\r\n\t\t\t\t\"create\" : {\r\n\t\t\t\t\t\"separator_before\"\t: false,\r\n\t\t\t\t\t\"separator_after\"\t: true,\r\n\t\t\t\t\t\"label\"\t\t\t\t: \"Create\",\r\n\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.create(obj); }\r\n\t\t\t\t},\r\n\t\t\t\t\"rename\" : {\r\n\t\t\t\t\t\"separator_before\"\t: false,\r\n\t\t\t\t\t\"separator_after\"\t: false,\r\n\t\t\t\t\t\"label\"\t\t\t\t: \"Rename\",\r\n\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.rename(obj); }\r\n\t\t\t\t},\r\n\t\t\t\t\"remove\" : {\r\n\t\t\t\t\t\"separator_before\"\t: false,\r\n\t\t\t\t\t\"icon\"\t\t\t\t: false,\r\n\t\t\t\t\t\"separator_after\"\t: false,\r\n\t\t\t\t\t\"label\"\t\t\t\t: \"Delete\",\r\n\t\t\t\t\t\"action\"\t\t\t: function (obj) { if(this.is_selected(obj)) { this.remove(); } else { this.remove(obj); } }\r\n\t\t\t\t},\r\n\t\t\t\t\"ccp\" : {\r\n\t\t\t\t\t\"separator_before\"\t: true,\r\n\t\t\t\t\t\"icon\"\t\t\t\t: false,\r\n\t\t\t\t\t\"separator_after\"\t: false,\r\n\t\t\t\t\t\"label\"\t\t\t\t: \"Edit\",\r\n\t\t\t\t\t\"action\"\t\t\t: false,\r\n\t\t\t\t\t\"submenu\" : { \r\n\t\t\t\t\t\t\"cut\" : {\r\n\t\t\t\t\t\t\t\"separator_before\"\t: false,\r\n\t\t\t\t\t\t\t\"separator_after\"\t: false,\r\n\t\t\t\t\t\t\t\"label\"\t\t\t\t: \"Cut\",\r\n\t\t\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.cut(obj); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"copy\" : {\r\n\t\t\t\t\t\t\t\"separator_before\"\t: false,\r\n\t\t\t\t\t\t\t\"icon\"\t\t\t\t: false,\r\n\t\t\t\t\t\t\t\"separator_after\"\t: false,\r\n\t\t\t\t\t\t\t\"label\"\t\t\t\t: \"Copy\",\r\n\t\t\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.copy(obj); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"paste\" : {\r\n\t\t\t\t\t\t\t\"separator_before\"\t: false,\r\n\t\t\t\t\t\t\t\"icon\"\t\t\t\t: false,\r\n\t\t\t\t\t\t\t\"separator_after\"\t: false,\r\n\t\t\t\t\t\t\t\"label\"\t\t\t\t: \"Paste\",\r\n\t\t\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.paste(obj); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tshow_contextmenu : function (obj, x, y) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tvar s = this.get_settings().contextmenu,\r\n\t\t\t\t\ta = obj.children(\"a:visible:eq(0)\"),\r\n\t\t\t\t\to = false,\r\n\t\t\t\t\ti = false;\r\n\t\t\t\tif(s.select_node && this.data.ui && !this.is_selected(obj)) {\r\n\t\t\t\t\tthis.deselect_all();\r\n\t\t\t\t\tthis.select_node(obj, true);\r\n\t\t\t\t}\r\n\t\t\t\tif(s.show_at_node || typeof x === \"undefined\" || typeof y === \"undefined\") {\r\n\t\t\t\t\to = a.offset();\r\n\t\t\t\t\tx = o.left;\r\n\t\t\t\t\ty = o.top + this.data.core.li_height;\r\n\t\t\t\t}\r\n\t\t\t\ti = obj.data(\"jstree\") && obj.data(\"jstree\").contextmenu ? obj.data(\"jstree\").contextmenu : s.items;\r\n\t\t\t\tif($.isFunction(i)) { i = i.call(this, obj); }\r\n\t\t\t\tthis.data.contextmenu = true;\r\n\t\t\t\t$.vakata.context.show(i, a, x, y, this, obj, this._get_settings().core.rtl);\r\n\t\t\t\tif(this.data.themes) { $.vakata.context.cnt.attr(\"class\", \"jstree-\" + this.data.themes.theme + \"-context\"); }\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree types plugin\r\n * Adds support types of nodes\r\n * You can set an attribute on each li node, that represents its type.\r\n * According to the type setting the node may get custom icon/validation rules\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"types\", {\r\n\t\t__init : function () {\r\n\t\t\tvar s = this._get_settings().types;\r\n\t\t\tthis.data.types.attach_to = [];\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function () { \r\n\t\t\t\t\t\tvar types = s.types, \r\n\t\t\t\t\t\t\tattr  = s.type_attr, \r\n\t\t\t\t\t\t\ticons_css = \"\", \r\n\t\t\t\t\t\t\t_this = this;\r\n\r\n\t\t\t\t\t\t$.each(types, function (i, tp) {\r\n\t\t\t\t\t\t\t$.each(tp, function (k, v) { \r\n\t\t\t\t\t\t\t\tif(!/^(max_depth|max_children|icon|valid_children)$/.test(k)) { _this.data.types.attach_to.push(k); }\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif(!tp.icon) { return true; }\r\n\t\t\t\t\t\t\tif( tp.icon.image || tp.icon.position) {\r\n\t\t\t\t\t\t\t\tif(i == \"default\")\t{ icons_css += '.jstree-' + _this.get_index() + ' a > .jstree-icon { '; }\r\n\t\t\t\t\t\t\t\telse\t\t\t\t{ icons_css += '.jstree-' + _this.get_index() + ' li[' + attr + '=\"' + i + '\"] > a > .jstree-icon { '; }\r\n\t\t\t\t\t\t\t\tif(tp.icon.image)\t{ icons_css += ' background-image:url(' + tp.icon.image + '); '; }\r\n\t\t\t\t\t\t\t\tif(tp.icon.position){ icons_css += ' background-position:' + tp.icon.position + '; '; }\r\n\t\t\t\t\t\t\t\telse\t\t\t\t{ icons_css += ' background-position:0 0; '; }\r\n\t\t\t\t\t\t\t\ticons_css += '} ';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(icons_css !== \"\") { $.vakata.css.add_sheet({ 'str' : icons_css, title : \"jstree-types\" }); }\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"before.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tvar s, t, \r\n\t\t\t\t\t\t\to = this._get_settings().types.use_data ? this._get_node(data.args[0]) : false, \r\n\t\t\t\t\t\t\td = o && o !== -1 && o.length ? o.data(\"jstree\") : false;\r\n\t\t\t\t\t\tif(d && d.types && d.types[data.func] === false) { e.stopImmediatePropagation(); return false; }\r\n\t\t\t\t\t\tif($.inArray(data.func, this.data.types.attach_to) !== -1) {\r\n\t\t\t\t\t\t\tif(!data.args[0] || (!data.args[0].tagName && !data.args[0].jquery)) { return; }\r\n\t\t\t\t\t\t\ts = this._get_settings().types.types;\r\n\t\t\t\t\t\t\tt = this._get_type(data.args[0]);\r\n\t\t\t\t\t\t\tif(\r\n\t\t\t\t\t\t\t\t( \r\n\t\t\t\t\t\t\t\t\t(s[t] && typeof s[t][data.func] !== \"undefined\") || \r\n\t\t\t\t\t\t\t\t\t(s[\"default\"] && typeof s[\"default\"][data.func] !== \"undefined\") \r\n\t\t\t\t\t\t\t\t) && this._check(data.func, data.args[0]) === false\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this));\r\n\t\t\tif(is_ie6) {\r\n\t\t\t\tthis.get_container()\r\n\t\t\t\t\t.bind(\"load_node.jstree set_type.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\t\tvar r = data && data.rslt && data.rslt.obj && data.rslt.obj !== -1 ? this._get_node(data.rslt.obj).parent() : this.get_container_ul(),\r\n\t\t\t\t\t\t\t\tc = false,\r\n\t\t\t\t\t\t\t\ts = this._get_settings().types;\r\n\t\t\t\t\t\t\t$.each(s.types, function (i, tp) {\r\n\t\t\t\t\t\t\t\tif(tp.icon && (tp.icon.image || tp.icon.position)) {\r\n\t\t\t\t\t\t\t\t\tc = i === \"default\" ? r.find(\"li > a > .jstree-icon\") : r.find(\"li[\" + s.type_attr + \"='\" + i + \"'] > a > .jstree-icon\");\r\n\t\t\t\t\t\t\t\t\tif(tp.icon.image) { c.css(\"backgroundImage\",\"url(\" + tp.icon.image + \")\"); }\r\n\t\t\t\t\t\t\t\t\tc.css(\"backgroundPosition\", tp.icon.position || \"0 0\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, this));\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\t// defines maximum number of root nodes (-1 means unlimited, -2 means disable max_children checking)\r\n\t\t\tmax_children\t\t: -1,\r\n\t\t\t// defines the maximum depth of the tree (-1 means unlimited, -2 means disable max_depth checking)\r\n\t\t\tmax_depth\t\t\t: -1,\r\n\t\t\t// defines valid node types for the root nodes\r\n\t\t\tvalid_children\t\t: \"all\",\r\n\r\n\t\t\t// whether to use $.data\r\n\t\t\tuse_data : false, \r\n\t\t\t// where is the type stores (the rel attribute of the LI element)\r\n\t\t\ttype_attr : \"rel\",\r\n\t\t\t// a list of types\r\n\t\t\ttypes : {\r\n\t\t\t\t// the default type\r\n\t\t\t\t\"default\" : {\r\n\t\t\t\t\t\"max_children\"\t: -1,\r\n\t\t\t\t\t\"max_depth\"\t\t: -1,\r\n\t\t\t\t\t\"valid_children\": \"all\"\r\n\r\n\t\t\t\t\t// Bound functions - you can bind any other function here (using boolean or function)\r\n\t\t\t\t\t//\"select_node\"\t: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\t_types_notify : function (n, data) {\r\n\t\t\t\tif(data.type && this._get_settings().types.use_data) {\r\n\t\t\t\t\tthis.set_type(data.type, n);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_get_type : function (obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\treturn (!obj || !obj.length) ? false : obj.attr(this._get_settings().types.type_attr) || \"default\";\r\n\t\t\t},\r\n\t\t\tset_type : function (str, obj) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tvar ret = (!obj.length || !str) ? false : obj.attr(this._get_settings().types.type_attr, str);\r\n\t\t\t\tif(ret) { this.__callback({ obj : obj, type : str}); }\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\t\t\t_check : function (rule, obj, opts) {\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tvar v = false, t = this._get_type(obj), d = 0, _this = this, s = this._get_settings().types, data = false;\r\n\t\t\t\tif(obj === -1) { \r\n\t\t\t\t\tif(!!s[rule]) { v = s[rule]; }\r\n\t\t\t\t\telse { return; }\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(t === false) { return; }\r\n\t\t\t\t\tdata = s.use_data ? obj.data(\"jstree\") : false;\r\n\t\t\t\t\tif(data && data.types && typeof data.types[rule] !== \"undefined\") { v = data.types[rule]; }\r\n\t\t\t\t\telse if(!!s.types[t] && typeof s.types[t][rule] !== \"undefined\") { v = s.types[t][rule]; }\r\n\t\t\t\t\telse if(!!s.types[\"default\"] && typeof s.types[\"default\"][rule] !== \"undefined\") { v = s.types[\"default\"][rule]; }\r\n\t\t\t\t}\r\n\t\t\t\tif($.isFunction(v)) { v = v.call(this, obj); }\r\n\t\t\t\tif(rule === \"max_depth\" && obj !== -1 && opts !== false && s.max_depth !== -2 && v !== 0) {\r\n\t\t\t\t\t// also include the node itself - otherwise if root node it is not checked\r\n\t\t\t\t\tobj.children(\"a:eq(0)\").parentsUntil(\".jstree\",\"li\").each(function (i) {\r\n\t\t\t\t\t\t// check if current depth already exceeds global tree depth\r\n\t\t\t\t\t\tif(s.max_depth !== -1 && s.max_depth - (i + 1) <= 0) { v = 0; return false; }\r\n\t\t\t\t\t\td = (i === 0) ? v : _this._check(rule, this, false);\r\n\t\t\t\t\t\t// check if current node max depth is already matched or exceeded\r\n\t\t\t\t\t\tif(d !== -1 && d - (i + 1) <= 0) { v = 0; return false; }\r\n\t\t\t\t\t\t// otherwise - set the max depth to the current value minus current depth\r\n\t\t\t\t\t\tif(d >= 0 && (d - (i + 1) < v || v < 0) ) { v = d - (i + 1); }\r\n\t\t\t\t\t\t// if the global tree depth exists and it minus the nodes calculated so far is less than `v` or `v` is unlimited\r\n\t\t\t\t\t\tif(s.max_depth >= 0 && (s.max_depth - (i + 1) < v || v < 0) ) { v = s.max_depth - (i + 1); }\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn v;\r\n\t\t\t},\r\n\t\t\tcheck_move : function () {\r\n\t\t\t\tif(!this.__call_old()) { return false; }\r\n\t\t\t\tvar m  = this._get_move(),\r\n\t\t\t\t\ts  = m.rt._get_settings().types,\r\n\t\t\t\t\tmc = m.rt._check(\"max_children\", m.cr),\r\n\t\t\t\t\tmd = m.rt._check(\"max_depth\", m.cr),\r\n\t\t\t\t\tvc = m.rt._check(\"valid_children\", m.cr),\r\n\t\t\t\t\tch = 0, d = 1, t;\r\n\r\n\t\t\t\tif(vc === \"none\") { return false; } \r\n\t\t\t\tif($.isArray(vc) && m.ot && m.ot._get_type) {\r\n\t\t\t\t\tm.o.each(function () {\r\n\t\t\t\t\t\tif($.inArray(m.ot._get_type(this), vc) === -1) { d = false; return false; }\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(d === false) { return false; }\r\n\t\t\t\t}\r\n\t\t\t\tif(s.max_children !== -2 && mc !== -1) {\r\n\t\t\t\t\tch = m.cr === -1 ? this.get_container().find(\"> ul > li\").not(m.o).length : m.cr.find(\"> ul > li\").not(m.o).length;\r\n\t\t\t\t\tif(ch + m.o.length > mc) { return false; }\r\n\t\t\t\t}\r\n\t\t\t\tif(s.max_depth !== -2 && md !== -1) {\r\n\t\t\t\t\td = 0;\r\n\t\t\t\t\tif(md === 0) { return false; }\r\n\t\t\t\t\tif(typeof m.o.d === \"undefined\") {\r\n\t\t\t\t\t\t// TODO: deal with progressive rendering and async when checking max_depth (how to know the depth of the moved node)\r\n\t\t\t\t\t\tt = m.o;\r\n\t\t\t\t\t\twhile(t.length > 0) {\r\n\t\t\t\t\t\t\tt = t.find(\"> ul > li\");\r\n\t\t\t\t\t\t\td ++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tm.o.d = d;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(md - m.o.d < 0) { return false; }\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tcreate_node : function (obj, position, js, callback, is_loaded, skip_check) {\r\n\t\t\t\tif(!skip_check && (is_loaded || this._is_loaded(obj))) {\r\n\t\t\t\t\tvar p  = (typeof position == \"string\" && position.match(/^before|after$/i) && obj !== -1) ? this._get_parent(obj) : this._get_node(obj),\r\n\t\t\t\t\t\ts  = this._get_settings().types,\r\n\t\t\t\t\t\tmc = this._check(\"max_children\", p),\r\n\t\t\t\t\t\tmd = this._check(\"max_depth\", p),\r\n\t\t\t\t\t\tvc = this._check(\"valid_children\", p),\r\n\t\t\t\t\t\tch;\r\n\t\t\t\t\tif(typeof js === \"string\") { js = { data : js }; }\r\n\t\t\t\t\tif(!js) { js = {}; }\r\n\t\t\t\t\tif(vc === \"none\") { return false; } \r\n\t\t\t\t\tif($.isArray(vc)) {\r\n\t\t\t\t\t\tif(!js.attr || !js.attr[s.type_attr]) { \r\n\t\t\t\t\t\t\tif(!js.attr) { js.attr = {}; }\r\n\t\t\t\t\t\t\tjs.attr[s.type_attr] = vc[0]; \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif($.inArray(js.attr[s.type_attr], vc) === -1) { return false; }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(s.max_children !== -2 && mc !== -1) {\r\n\t\t\t\t\t\tch = p === -1 ? this.get_container().find(\"> ul > li\").length : p.find(\"> ul > li\").length;\r\n\t\t\t\t\t\tif(ch + 1 > mc) { return false; }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(s.max_depth !== -2 && md !== -1 && (md - 1) < 0) { return false; }\r\n\t\t\t\t}\r\n\t\t\t\treturn this.__call_old(true, obj, position, js, callback, is_loaded, skip_check);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree HTML plugin\r\n * The HTML data store. Datastores are build by replacing the `load_node` and `_is_loaded` functions.\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"html_data\", {\r\n\t\t__init : function () { \r\n\t\t\t// this used to use html() and clean the whitespace, but this way any attached data was lost\r\n\t\t\tthis.data.html_data.original_container_html = this.get_container().find(\" > ul > li\").clone(true);\r\n\t\t\t// remove white space from LI node - otherwise nodes appear a bit to the right\r\n\t\t\tthis.data.html_data.original_container_html.find(\"li\").andSelf().contents().filter(function() { return this.nodeType == 3; }).remove();\r\n\t\t},\r\n\t\tdefaults : { \r\n\t\t\tdata : false,\r\n\t\t\tajax : false,\r\n\t\t\tcorrect_state : true\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tload_node : function (obj, s_call, e_call) { var _this = this; this.load_node_html(obj, function () { _this.__callback({ \"obj\" : _this._get_node(obj) }); s_call.call(this); }, e_call); },\r\n\t\t\t_is_loaded : function (obj) { \r\n\t\t\t\tobj = this._get_node(obj); \r\n\t\t\t\treturn obj == -1 || !obj || (!this._get_settings().html_data.ajax && !$.isFunction(this._get_settings().html_data.data)) || obj.is(\".jstree-open, .jstree-leaf\") || obj.children(\"ul\").children(\"li\").size() > 0;\r\n\t\t\t},\r\n\t\t\tload_node_html : function (obj, s_call, e_call) {\r\n\t\t\t\tvar d,\r\n\t\t\t\t\ts = this.get_settings().html_data,\r\n\t\t\t\t\terror_func = function () {},\r\n\t\t\t\t\tsuccess_func = function () {};\r\n\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\tif(obj && obj !== -1) {\r\n\t\t\t\t\tif(obj.data(\"jstree_is_loading\")) { return; }\r\n\t\t\t\t\telse { obj.data(\"jstree_is_loading\",true); }\r\n\t\t\t\t}\r\n\t\t\t\tswitch(!0) {\r\n\t\t\t\t\tcase ($.isFunction(s.data)):\r\n\t\t\t\t\t\ts.data.call(this, obj, $.proxy(function (d) {\r\n\t\t\t\t\t\t\tif(d && d !== \"\" && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") !== \"\") {\r\n\t\t\t\t\t\t\t\td = $(d);\r\n\t\t\t\t\t\t\t\tif(!d.is(\"ul\")) { d = $(\"<ul />\").append(d); }\r\n\t\t\t\t\t\t\t\tif(obj == -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()).find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); }\r\n\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d).children(\"ul\").find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); obj.removeData(\"jstree_is_loading\"); }\r\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\r\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(obj && obj !== -1) {\r\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\r\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, this));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase (!s.data && !s.ajax):\r\n\t\t\t\t\t\tif(!obj || obj == -1) {\r\n\t\t\t\t\t\t\tthis.get_container()\r\n\t\t\t\t\t\t\t\t.children(\"ul\").empty()\r\n\t\t\t\t\t\t\t\t.append(this.data.html_data.original_container_html)\r\n\t\t\t\t\t\t\t\t.find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end()\r\n\t\t\t\t\t\t\t\t.filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");\r\n\t\t\t\t\t\t\tthis.clean_node();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase (!!s.data && !s.ajax) || (!!s.data && !!s.ajax && (!obj || obj === -1)):\r\n\t\t\t\t\t\tif(!obj || obj == -1) {\r\n\t\t\t\t\t\t\td = $(s.data);\r\n\t\t\t\t\t\t\tif(!d.is(\"ul\")) { d = $(\"<ul />\").append(d); }\r\n\t\t\t\t\t\t\tthis.get_container()\r\n\t\t\t\t\t\t\t\t.children(\"ul\").empty().append(d.children())\r\n\t\t\t\t\t\t\t\t.find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end()\r\n\t\t\t\t\t\t\t\t.filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");\r\n\t\t\t\t\t\t\tthis.clean_node();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase (!s.data && !!s.ajax) || (!!s.data && !!s.ajax && obj && obj !== -1):\r\n\t\t\t\t\t\tobj = this._get_node(obj);\r\n\t\t\t\t\t\terror_func = function (x, t, e) {\r\n\t\t\t\t\t\t\tvar ef = this.get_settings().html_data.ajax.error; \r\n\t\t\t\t\t\t\tif(ef) { ef.call(this, x, t, e); }\r\n\t\t\t\t\t\t\tif(obj != -1 && obj.length) {\r\n\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\r\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.correct_state(obj); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.get_container().children(\"ul\").empty(); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tsuccess_func = function (d, t, x) {\r\n\t\t\t\t\t\t\tvar sf = this.get_settings().html_data.ajax.success; \r\n\t\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\r\n\t\t\t\t\t\t\tif(d === \"\" || (d && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") === \"\")) {\r\n\t\t\t\t\t\t\t\treturn error_func.call(this, x, t, \"\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(d) {\r\n\t\t\t\t\t\t\t\td = $(d);\r\n\t\t\t\t\t\t\t\tif(!d.is(\"ul\")) { d = $(\"<ul />\").append(d); }\r\n\t\t\t\t\t\t\t\tif(obj == -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()).find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); }\r\n\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d).children(\"ul\").find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); obj.removeData(\"jstree_is_loading\"); }\r\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\r\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(obj && obj !== -1) {\r\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\r\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\r\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \r\n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\r\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\ts.ajax.context = this;\r\n\t\t\t\t\t\ts.ajax.error = error_func;\r\n\t\t\t\t\t\ts.ajax.success = success_func;\r\n\t\t\t\t\t\tif(!s.ajax.dataType) { s.ajax.dataType = \"html\"; }\r\n\t\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, obj); }\r\n\t\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, obj); }\r\n\t\t\t\t\t\t$.ajax(s.ajax);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t// include the HTML data plugin by default\r\n\t$.jstree.defaults.plugins.push(\"html_data\");\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree themeroller plugin\r\n * Adds support for jQuery UI themes. Include this at the end of your plugins list, also make sure \"themes\" is not included.\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"themeroller\", {\r\n\t\t__init : function () {\r\n\t\t\tvar s = this._get_settings().themeroller;\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.addClass(\"ui-widget-content\")\r\n\t\t\t\t.addClass(\"jstree-themeroller\")\r\n\t\t\t\t.delegate(\"a\",\"mouseenter.jstree\", function (e) {\r\n\t\t\t\t\tif(!$(e.currentTarget).hasClass(\"jstree-loading\")) {\r\n\t\t\t\t\t\t$(this).addClass(s.item_h);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.delegate(\"a\",\"mouseleave.jstree\", function () {\r\n\t\t\t\t\t$(this).removeClass(s.item_h);\r\n\t\t\t\t})\r\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tdata.inst.get_container().find(\"> ul > li > .jstree-loading > ins\").addClass(\"ui-icon-refresh\");\r\n\t\t\t\t\t\tthis._themeroller(data.inst.get_container().find(\"> ul > li\"));\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"open_node.jstree create_node.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tthis._themeroller(data.rslt.obj);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"loaded.jstree refresh.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\tthis._themeroller();\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"close_node.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tthis._themeroller(data.rslt.obj);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"delete_node.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tthis._themeroller(data.rslt.parent);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"correct_state.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tdata.rslt.obj\r\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.opened + \" \" + s.closed + \" ui-icon\").end()\r\n\t\t\t\t\t\t\t.find(\"> a > ins.ui-icon\")\r\n\t\t\t\t\t\t\t\t.filter(function() { \r\n\t\t\t\t\t\t\t\t\treturn this.className.toString()\r\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\r\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \r\n\t\t\t\t\t\t\t\t}).removeClass(s.item_open + \" \" + s.item_clsd).addClass(s.item_leaf || \"jstree-no-icon\");\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"select_node.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tdata.rslt.obj.children(\"a\").addClass(s.item_a);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"deselect_node.jstree deselect_all.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tthis.get_container()\r\n\t\t\t\t\t\t\t.find(\"a.\" + s.item_a).removeClass(s.item_a).end()\r\n\t\t\t\t\t\t\t.find(\"a.jstree-clicked\").addClass(s.item_a);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"dehover_node.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tdata.rslt.obj.children(\"a\").removeClass(s.item_h);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"hover_node.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tthis.get_container()\r\n\t\t\t\t\t\t\t.find(\"a.\" + s.item_h).not(data.rslt.obj).removeClass(s.item_h);\r\n\t\t\t\t\t\tdata.rslt.obj.children(\"a\").addClass(s.item_h);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (e, data) {\r\n\t\t\t\t\t\tthis._themeroller(data.rslt.o);\r\n\t\t\t\t\t\tthis._themeroller(data.rslt.op);\r\n\t\t\t\t\t}, this));\r\n\t\t},\r\n\t\t__destroy : function () {\r\n\t\t\tvar s = this._get_settings().themeroller,\r\n\t\t\t\tc = [ \"ui-icon\" ];\r\n\t\t\t$.each(s, function (i, v) {\r\n\t\t\t\tv = v.split(\" \");\r\n\t\t\t\tif(v.length) { c = c.concat(v); }\r\n\t\t\t});\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.removeClass(\"ui-widget-content\")\r\n\t\t\t\t.find(\".\" + c.join(\", .\")).removeClass(c.join(\" \"));\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\t_themeroller : function (obj) {\r\n\t\t\t\tvar s = this._get_settings().themeroller;\r\n\t\t\t\tobj = !obj || obj == -1 ? this.get_container_ul() : this._get_node(obj).parent();\r\n\t\t\t\tobj\r\n\t\t\t\t\t.find(\"li.jstree-closed\")\r\n\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.opened).addClass(\"ui-icon \" + s.closed).end()\r\n\t\t\t\t\t\t.children(\"a\").addClass(s.item)\r\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").addClass(\"ui-icon\")\r\n\t\t\t\t\t\t\t\t.filter(function() { \r\n\t\t\t\t\t\t\t\t\treturn this.className.toString()\r\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\r\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \r\n\t\t\t\t\t\t\t\t}).removeClass(s.item_leaf + \" \" + s.item_open).addClass(s.item_clsd || \"jstree-no-icon\")\r\n\t\t\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t.end()\r\n\t\t\t\t\t.end()\r\n\t\t\t\t\t.find(\"li.jstree-open\")\r\n\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.closed).addClass(\"ui-icon \" + s.opened).end()\r\n\t\t\t\t\t\t.children(\"a\").addClass(s.item)\r\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").addClass(\"ui-icon\")\r\n\t\t\t\t\t\t\t\t.filter(function() { \r\n\t\t\t\t\t\t\t\t\treturn this.className.toString()\r\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\r\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \r\n\t\t\t\t\t\t\t\t}).removeClass(s.item_leaf + \" \" + s.item_clsd).addClass(s.item_open || \"jstree-no-icon\")\r\n\t\t\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t.end()\r\n\t\t\t\t\t.end()\r\n\t\t\t\t\t.find(\"li.jstree-leaf\")\r\n\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.closed + \" ui-icon \" + s.opened).end()\r\n\t\t\t\t\t\t.children(\"a\").addClass(s.item)\r\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").addClass(\"ui-icon\")\r\n\t\t\t\t\t\t\t\t.filter(function() { \r\n\t\t\t\t\t\t\t\t\treturn this.className.toString()\r\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\r\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \r\n\t\t\t\t\t\t\t\t}).removeClass(s.item_clsd + \" \" + s.item_open).addClass(s.item_leaf || \"jstree-no-icon\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\t\"opened\"\t: \"ui-icon-triangle-1-se\",\r\n\t\t\t\"closed\"\t: \"ui-icon-triangle-1-e\",\r\n\t\t\t\"item\"\t\t: \"ui-state-default\",\r\n\t\t\t\"item_h\"\t: \"ui-state-hover\",\r\n\t\t\t\"item_a\"\t: \"ui-state-active\",\r\n\t\t\t\"item_open\"\t: \"ui-icon-folder-open\",\r\n\t\t\t\"item_clsd\"\t: \"ui-icon-folder-collapsed\",\r\n\t\t\t\"item_leaf\"\t: \"ui-icon-document\"\r\n\t\t}\r\n\t});\r\n\t$(function() {\r\n\t\tvar css_string = '' + \r\n\t\t\t'.jstree-themeroller .ui-icon { overflow:visible; } ' + \r\n\t\t\t'.jstree-themeroller a { padding:0 2px; } ' + \r\n\t\t\t'.jstree-themeroller .jstree-no-icon { display:none; }';\r\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/* \r\n * jsTree unique plugin\r\n * Forces different names amongst siblings (still a bit experimental)\r\n * NOTE: does not check language versions (it will not be possible to have nodes with the same title, even in different languages)\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"unique\", {\r\n\t\t__init : function () {\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.bind(\"before.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tvar nms = [], res = true, p, t;\r\n\t\t\t\t\t\tif(data.func == \"move_node\") {\r\n\t\t\t\t\t\t\t// obj, ref, position, is_copy, is_prepared, skip_check\r\n\t\t\t\t\t\t\tif(data.args[4] === true) {\r\n\t\t\t\t\t\t\t\tif(data.args[0].o && data.args[0].o.length) {\r\n\t\t\t\t\t\t\t\t\tdata.args[0].o.children(\"a\").each(function () { nms.push($(this).text().replace(/^\\s+/g,\"\")); });\r\n\t\t\t\t\t\t\t\t\tres = this._check_unique(nms, data.args[0].np.find(\"> ul > li\").not(data.args[0].o), \"move_node\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.func == \"create_node\") {\r\n\t\t\t\t\t\t\t// obj, position, js, callback, is_loaded\r\n\t\t\t\t\t\t\tif(data.args[4] || this._is_loaded(data.args[0])) {\r\n\t\t\t\t\t\t\t\tp = this._get_node(data.args[0]);\r\n\t\t\t\t\t\t\t\tif(data.args[1] && (data.args[1] === \"before\" || data.args[1] === \"after\")) {\r\n\t\t\t\t\t\t\t\t\tp = this._get_parent(data.args[0]);\r\n\t\t\t\t\t\t\t\t\tif(!p || p === -1) { p = this.get_container(); }\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(typeof data.args[2] === \"string\") { nms.push(data.args[2]); }\r\n\t\t\t\t\t\t\t\telse if(!data.args[2] || !data.args[2].data) { nms.push(this._get_string(\"new_node\")); }\r\n\t\t\t\t\t\t\t\telse { nms.push(data.args[2].data); }\r\n\t\t\t\t\t\t\t\tres = this._check_unique(nms, p.find(\"> ul > li\"), \"create_node\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.func == \"rename_node\") {\r\n\t\t\t\t\t\t\t// obj, val\r\n\t\t\t\t\t\t\tnms.push(data.args[1]);\r\n\t\t\t\t\t\t\tt = this._get_node(data.args[0]);\r\n\t\t\t\t\t\t\tp = this._get_parent(t);\r\n\t\t\t\t\t\t\tif(!p || p === -1) { p = this.get_container(); }\r\n\t\t\t\t\t\t\tres = this._check_unique(nms, p.find(\"> ul > li\").not(t), \"rename_node\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!res) {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this));\r\n\t\t},\r\n\t\tdefaults : { \r\n\t\t\terror_callback : $.noop\r\n\t\t},\r\n\t\t_fn : { \r\n\t\t\t_check_unique : function (nms, p, func) {\r\n\t\t\t\tvar cnms = [];\r\n\t\t\t\tp.children(\"a\").each(function () { cnms.push($(this).text().replace(/^\\s+/g,\"\")); });\r\n\t\t\t\tif(!cnms.length || !nms.length) { return true; }\r\n\t\t\t\tcnms = cnms.sort().join(\",,\").replace(/(,|^)([^,]+)(,,\\2)+(,|$)/g,\"$1$2$4\").replace(/,,+/g,\",\").replace(/,$/,\"\").split(\",\");\r\n\t\t\t\tif((cnms.length + nms.length) != cnms.concat(nms).sort().join(\",,\").replace(/(,|^)([^,]+)(,,\\2)+(,|$)/g,\"$1$2$4\").replace(/,,+/g,\",\").replace(/,$/,\"\").split(\",\").length) {\r\n\t\t\t\t\tthis._get_settings().unique.error_callback.call(null, nms, p, func);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tcheck_move : function () {\r\n\t\t\t\tif(!this.__call_old()) { return false; }\r\n\t\t\t\tvar p = this._get_move(), nms = [];\r\n\t\t\t\tif(p.o && p.o.length) {\r\n\t\t\t\t\tp.o.children(\"a\").each(function () { nms.push($(this).text().replace(/^\\s+/g,\"\")); });\r\n\t\t\t\t\treturn this._check_unique(nms, p.np.find(\"> ul > li\").not(p.o), \"check_move\");\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/*\r\n * jsTree wholerow plugin\r\n * Makes select and hover work on the entire width of the node\r\n * MAY BE HEAVY IN LARGE DOM\r\n */\r\n(function ($) {\r\n\t$.jstree.plugin(\"wholerow\", {\r\n\t\t__init : function () {\r\n\t\t\tif(!this.data.ui) { throw \"jsTree wholerow: jsTree UI plugin not included.\"; }\r\n\t\t\tthis.data.wholerow.html = false;\r\n\t\t\tthis.data.wholerow.to = false;\r\n\t\t\tthis.get_container()\r\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tthis._get_settings().core.animation = 0;\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"open_node.jstree create_node.jstree clean_node.jstree loaded.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tthis._prepare_wholerow_span( data && data.rslt && data.rslt.obj ? data.rslt.obj : -1 );\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tif(this.data.to) { clearTimeout(this.data.to); }\r\n\t\t\t\t\t\tthis.data.to = setTimeout( (function (t, o) { return function() { t._prepare_wholerow_ul(o); }; })(this,  data && data.rslt && data.rslt.obj ? data.rslt.obj : -1), 0);\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"deselect_all.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tthis.get_container().find(\" > .jstree-wholerow .jstree-clicked\").removeClass(\"jstree-clicked \" + (this.data.themeroller ? this._get_settings().themeroller.item_a : \"\" ));\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"select_node.jstree deselect_node.jstree \", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tdata.rslt.obj.each(function () { \r\n\t\t\t\t\t\t\tvar ref = data.inst.get_container().find(\" > .jstree-wholerow li:visible:eq(\" + ( parseInt((($(this).offset().top - data.inst.get_container().offset().top + data.inst.get_container()[0].scrollTop) / data.inst.data.core.li_height),10)) + \")\");\r\n\t\t\t\t\t\t\t// ref.children(\"a\")[e.type === \"select_node\" ? \"addClass\" : \"removeClass\"](\"jstree-clicked\");\r\n\t\t\t\t\t\t\tref.children(\"a\").attr(\"class\",data.rslt.obj.children(\"a\").attr(\"class\"));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.bind(\"hover_node.jstree dehover_node.jstree\", $.proxy(function (e, data) { \r\n\t\t\t\t\t\tthis.get_container().find(\" > .jstree-wholerow .jstree-hovered\").removeClass(\"jstree-hovered \" + (this.data.themeroller ? this._get_settings().themeroller.item_h : \"\" ));\r\n\t\t\t\t\t\tif(e.type === \"hover_node\") {\r\n\t\t\t\t\t\t\tvar ref = this.get_container().find(\" > .jstree-wholerow li:visible:eq(\" + ( parseInt(((data.rslt.obj.offset().top - this.get_container().offset().top + this.get_container()[0].scrollTop) / this.data.core.li_height),10)) + \")\");\r\n\t\t\t\t\t\t\t// ref.children(\"a\").addClass(\"jstree-hovered\");\r\n\t\t\t\t\t\t\tref.children(\"a\").attr(\"class\",data.rslt.obj.children(\".jstree-hovered\").attr(\"class\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\".jstree-wholerow-span, ins.jstree-icon, li\", \"click.jstree\", function (e) {\r\n\t\t\t\t\t\tvar n = $(e.currentTarget);\r\n\t\t\t\t\t\tif(e.target.tagName === \"A\" || (e.target.tagName === \"INS\" && n.closest(\"li\").is(\".jstree-open, .jstree-closed\"))) { return; }\r\n\t\t\t\t\t\tn.closest(\"li\").children(\"a:visible:eq(0)\").click();\r\n\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t})\r\n\t\t\t\t.delegate(\"li\", \"mouseover.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\tif($(e.currentTarget).children(\".jstree-hovered, .jstree-clicked\").length) { return false; }\r\n\t\t\t\t\t\tthis.hover_node(e.currentTarget);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}, this))\r\n\t\t\t\t.delegate(\"li\", \"mouseleave.jstree\", $.proxy(function (e) {\r\n\t\t\t\t\t\tif($(e.currentTarget).children(\"a\").hasClass(\"jstree-hovered\").length) { return; }\r\n\t\t\t\t\t\tthis.dehover_node(e.currentTarget);\r\n\t\t\t\t\t}, this));\r\n\t\t\tif(is_ie7 || is_ie6) {\r\n\t\t\t\t$.vakata.css.add_sheet({ str : \".jstree-\" + this.get_index() + \" { position:relative; } \", title : \"jstree\" });\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t},\r\n\t\t__destroy : function () {\r\n\t\t\tthis.get_container().children(\".jstree-wholerow\").remove();\r\n\t\t\tthis.get_container().find(\".jstree-wholerow-span\").remove();\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\t_prepare_wholerow_span : function (obj) {\r\n\t\t\t\tobj = !obj || obj == -1 ? this.get_container().find(\"> ul > li\") : this._get_node(obj);\r\n\t\t\t\tif(obj === false) { return; } // added for removing root nodes\r\n\t\t\t\tobj.each(function () {\r\n\t\t\t\t\t$(this).find(\"li\").andSelf().each(function () {\r\n\t\t\t\t\t\tvar $t = $(this);\r\n\t\t\t\t\t\tif($t.children(\".jstree-wholerow-span\").length) { return true; }\r\n\t\t\t\t\t\t$t.prepend(\"<span class='jstree-wholerow-span' style='width:\" + ($t.parentsUntil(\".jstree\",\"li\").length * 18) + \"px;'>&#160;</span>\");\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t_prepare_wholerow_ul : function () {\r\n\t\t\t\tvar o = this.get_container().children(\"ul\").eq(0), h = o.html();\r\n\t\t\t\to.addClass(\"jstree-wholerow-real\");\r\n\t\t\t\tif(this.data.wholerow.last_html !== h) {\r\n\t\t\t\t\tthis.data.wholerow.last_html = h;\r\n\t\t\t\t\tthis.get_container().children(\".jstree-wholerow\").remove();\r\n\t\t\t\t\tthis.get_container().append(\r\n\t\t\t\t\t\to.clone().removeClass(\"jstree-wholerow-real\")\r\n\t\t\t\t\t\t\t.wrapAll(\"<div class='jstree-wholerow' />\").parent()\r\n\t\t\t\t\t\t\t.width(o.parent()[0].scrollWidth)\r\n\t\t\t\t\t\t\t.css(\"top\", (o.height() + ( is_ie7 ? 5 : 0)) * -1 )\r\n\t\t\t\t\t\t\t.find(\"li[id]\").each(function () { this.removeAttribute(\"id\"); }).end()\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t$(function() {\r\n\t\tvar css_string = '' + \r\n\t\t\t'.jstree .jstree-wholerow-real { position:relative; z-index:1; } ' + \r\n\t\t\t'.jstree .jstree-wholerow-real li { cursor:pointer; } ' + \r\n\t\t\t'.jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } ' + \r\n\t\t\t'.jstree .jstree-wholerow { position:relative; z-index:0; height:0; } ' + \r\n\t\t\t'.jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } ' + \r\n\t\t\t'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } ' + \r\n\t\t\t'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }' + \r\n\t\t\t'.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }' + \r\n\t\t\t'.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } ' + \r\n\t\t\t'.jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }';\r\n\t\tif(is_ff2) {\r\n\t\t\tcss_string += '' + \r\n\t\t\t\t'.jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } ' + \r\n\t\t\t\t'.jstree .jstree-wholerow-real a { border-color:transparent !important; } ';\r\n\t\t}\r\n\t\tif(is_ie7 || is_ie6) {\r\n\t\t\tcss_string += '' + \r\n\t\t\t\t'.jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } ' + \r\n\t\t\t\t'.jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ';\r\n\t\t}\r\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n/*\r\n* jsTree model plugin\r\n* This plugin gets jstree to use a class model to retrieve data, creating great dynamism\r\n*/\r\n(function ($) {\r\n\tvar nodeInterface = [\"getChildren\",\"getChildrenCount\",\"getAttr\",\"getName\",\"getProps\"],\r\n\t\tvalidateInterface = function(obj, inter) {\r\n\t\t\tvar valid = true;\r\n\t\t\tobj = obj || {};\r\n\t\t\tinter = [].concat(inter);\r\n\t\t\t$.each(inter, function (i, v) {\r\n\t\t\t\tif(!$.isFunction(obj[v])) { valid = false; return false; }\r\n\t\t\t});\r\n\t\t\treturn valid;\r\n\t\t};\r\n\t$.jstree.plugin(\"model\", {\r\n\t\t__init : function () {\r\n\t\t\tif(!this.data.json_data) { throw \"jsTree model: jsTree json_data plugin not included.\"; }\r\n\t\t\tthis._get_settings().json_data.data = function (n, b) {\r\n\t\t\t\tvar obj = (n == -1) ? this._get_settings().model.object : n.data(\"jstree_model\");\r\n\t\t\t\tif(!validateInterface(obj, nodeInterface)) { return b.call(null, false); }\r\n\t\t\t\tif(this._get_settings().model.async) {\r\n\t\t\t\t\tobj.getChildren($.proxy(function (data) {\r\n\t\t\t\t\t\tthis.model_done(data, b);\r\n\t\t\t\t\t}, this));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.model_done(obj.getChildren(), b);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tdefaults : {\r\n\t\t\tobject : false,\r\n\t\t\tid_prefix : false,\r\n\t\t\tasync : false\r\n\t\t},\r\n\t\t_fn : {\r\n\t\t\tmodel_done : function (data, callback) {\r\n\t\t\t\tvar ret = [], \r\n\t\t\t\t\ts = this._get_settings(),\r\n\t\t\t\t\t_this = this;\r\n\r\n\t\t\t\tif(!$.isArray(data)) { data = [data]; }\r\n\t\t\t\t$.each(data, function (i, nd) {\r\n\t\t\t\t\tvar r = nd.getProps() || {};\r\n\t\t\t\t\tr.attr = nd.getAttr() || {};\r\n\t\t\t\t\tif(nd.getChildrenCount()) { r.state = \"closed\"; }\r\n\t\t\t\t\tr.data = nd.getName();\r\n\t\t\t\t\tif(!$.isArray(r.data)) { r.data = [r.data]; }\r\n\t\t\t\t\tif(_this.data.types && $.isFunction(nd.getType)) {\r\n\t\t\t\t\t\tr.attr[s.types.type_attr] = nd.getType();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(r.attr.id && s.model.id_prefix) { r.attr.id = s.model.id_prefix + r.attr.id; }\r\n\t\t\t\t\tif(!r.metadata) { r.metadata = { }; }\r\n\t\t\t\t\tr.metadata.jstree_model = nd;\r\n\t\t\t\t\tret.push(r);\r\n\t\t\t\t});\r\n\t\t\t\tcallback.call(null, ret);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(jQuery);\r\n//*/\r\n\r\n})();","/* API method to get paging information */\n$.fn.dataTableExt.oApi.fnPagingInfo = function ( oSettings )\n{\n    return {\n        \"iStart\":         oSettings._iDisplayStart,\n        \"iEnd\":           oSettings.fnDisplayEnd(),\n        \"iLength\":        oSettings._iDisplayLength,\n        \"iTotal\":         oSettings.fnRecordsTotal(),\n        \"iFilteredTotal\": oSettings.fnRecordsDisplay(),\n        \"iPage\":          Math.ceil( oSettings._iDisplayStart / oSettings._iDisplayLength ),\n        \"iTotalPages\":    Math.ceil( oSettings.fnRecordsDisplay() / oSettings._iDisplayLength )\n    };\n}\n \n/* Bootstrap style pagination control */\n$.extend( $.fn.dataTableExt.oPagination, {\n    \"bootstrap\": {\n        \"fnInit\": function( oSettings, nPaging, fnDraw ) {\n            var oLang = oSettings.oLanguage.oPaginate;\n            var fnClickHandler = function ( e ) {\n                e.preventDefault();\n                if ( oSettings.oApi._fnPageChange(oSettings, e.data.action) ) {\n                    fnDraw( oSettings );\n                }\n            };\n \n            $(nPaging).addClass('pagination').append(\n                '<ul>'+\n                    '<li class=\"prev disabled\"><a href=\"#\">«</a></li>'+\n                    '<li class=\"next disabled\"><a href=\"#\">»</a></li>'+\n                '</ul>'\n            );\n            var els = $('a', nPaging);\n            $(els[0]).bind( 'click.DT', { action: \"previous\" }, fnClickHandler );\n            $(els[1]).bind( 'click.DT', { action: \"next\" }, fnClickHandler );\n        },\n \n        \"fnUpdate\": function ( oSettings, fnDraw ) {\n            var iListLength = 5;\n            var oPaging = oSettings.oInstance.fnPagingInfo();\n            var an = oSettings.aanFeatures.p;\n            var i, j, sClass, iStart, iEnd, iHalf=Math.floor(iListLength/2);\n \n            if ( oPaging.iTotalPages < iListLength) {\n                iStart = 1;\n                iEnd = oPaging.iTotalPages;\n            }\n            else if ( oPaging.iPage <= iHalf ) {\n                iStart = 1;\n                iEnd = iListLength;\n            } else if ( oPaging.iPage >= (oPaging.iTotalPages-iHalf) ) {\n                iStart = oPaging.iTotalPages - iListLength + 1;\n                iEnd = oPaging.iTotalPages;\n            } else {\n                iStart = oPaging.iPage - iHalf + 1;\n                iEnd = iStart + iListLength - 1;\n            }\n \n            for ( i=0, iLen=an.length ; i<iLen ; i++ ) {\n                // Remove the middle elements\n                $('li:gt(0)', an[i]).filter(':not(:last)').remove();\n \n                // Add the new list items and their event handlers\n                for ( j=iStart ; j<=iEnd ; j++ ) {\n                    sClass = (j==oPaging.iPage+1) ? 'class=\"active\"' : '';\n                    $('<li '+sClass+'><a href=\"#\">'+j+'</a></li>')\n                        .insertBefore( $('li:last', an[i])[0] )\n                        .bind('click', function (e) {\n                            e.preventDefault();\n                            oSettings._iDisplayStart = (parseInt($('a', this).text(),10)-1) * oPaging.iLength;\n                            fnDraw( oSettings );\n                        } );\n                }\n \n                // Add / remove disabled classes from the static elements\n                if ( oPaging.iPage === 0 ) {\n                    $('li:first', an[i]).addClass('disabled');\n                } else {\n                    $('li:first', an[i]).removeClass('disabled');\n                }\n \n                if ( oPaging.iPage === oPaging.iTotalPages-1 || oPaging.iTotalPages === 0 ) {\n                    $('li:last', an[i]).addClass('disabled');\n                } else {\n                    $('li:last', an[i]).removeClass('disabled');\n                }\n            }\n        }\n    }\n} );","/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)\n * Licensed under the MIT License (LICENSE.txt).\n *\n * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.\n * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.\n * Thanks to: Seamus Leahy for adding deltaX and deltaY\n *\n * Version: 3.0.6\n * \n * Requires: 1.2.2+\n */\n(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type=\"mousewheel\",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=[\"DOMMouseScroll\",\"mousewheel\"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind(\"mousewheel\",a):this.trigger(\"mousewheel\")},unmousewheel:function(a){return this.unbind(\"mousewheel\",a)}})})(jQuery)\n","/* \r\n== malihu jquery custom scrollbars plugin == \r\nversion: 2.3.2 \r\nauthor: malihu (http://manos.malihu.gr) \r\nplugin home: http://manos.malihu.gr/jquery-custom-content-scroller \r\n*/\r\n(function($){\r\n\tvar methods={\r\n\t\tinit:function(options){\r\n\t\t\tvar defaults={ \r\n\t\t\t\tset_width:false, /*optional element width: boolean, pixels, percentage*/\r\n\t\t\t\tset_height:false, /*optional element height: boolean, pixels, percentage*/\r\n\t\t\t\thorizontalScroll:false, /*scroll horizontally: boolean*/\r\n\t\t\t\tscrollInertia:550, /*scrolling inertia: integer (milliseconds)*/\r\n\t\t\t\tscrollEasing:\"easeOutCirc\", /*scrolling easing: string*/\r\n\t\t\t\tmouseWheel:\"pixels\", /*mousewheel support and velocity: boolean, \"auto\", integer, \"pixels\"*/\r\n\t\t\t\tmouseWheelPixels:60, /*mousewheel pixels amount: integer*/\r\n\t\t\t\tautoDraggerLength:true, /*auto-adjust scrollbar dragger length: boolean*/\r\n\t\t\t\tscrollButtons:{ /*scroll buttons*/\r\n\t\t\t\t\tenable:false, /*scroll buttons support: boolean*/\r\n\t\t\t\t\tscrollType:\"continuous\", /*scroll buttons scrolling type: \"continuous\", \"pixels\"*/\r\n\t\t\t\t\tscrollSpeed:20, /*scroll buttons continuous scrolling speed: integer*/\r\n\t\t\t\t\tscrollAmount:40 /*scroll buttons pixels scroll amount: integer (pixels)*/\r\n\t\t\t\t},\r\n\t\t\t\tadvanced:{\r\n\t\t\t\t\tupdateOnBrowserResize:true, /*update scrollbars on browser resize (for layouts based on percentages): boolean*/\r\n\t\t\t\t\tupdateOnContentResize:false, /*auto-update scrollbars on content resize (for dynamic content): boolean*/\r\n\t\t\t\t\tautoExpandHorizontalScroll:false, /*auto-expand width for horizontal scrolling: boolean*/\r\n\t\t\t\t\tautoScrollOnFocus:true /*auto-scroll on focused elements: boolean*/\r\n\t\t\t\t},\r\n\t\t\t\tcallbacks:{\r\n\t\t\t\t\tonScrollStart:function(){}, /*user custom callback function on scroll start event*/\r\n\t\t\t\t\tonScroll:function(){}, /*user custom callback function on scroll event*/\r\n\t\t\t\t\tonTotalScroll:function(){}, /*user custom callback function on scroll end reached event*/\r\n\t\t\t\t\tonTotalScrollBack:function(){}, /*user custom callback function on scroll begin reached event*/\r\n\t\t\t\t\tonTotalScrollOffset:0, /*scroll end reached offset: integer (pixels)*/\r\n\t\t\t\t\twhileScrolling:false, /*user custom callback function on scrolling event*/\r\n\t\t\t\t\twhileScrollingInterval:30 /*interval for calling whileScrolling callback: integer (milliseconds)*/\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\toptions=$.extend(true,defaults,options);\r\n\t\t\t/*check for touch device*/\r\n\t\t\t$(document).data(\"mCS-is-touch-device\",false);\r\n\t\t\tif(is_touch_device()){\r\n\t\t\t\t$(document).data(\"mCS-is-touch-device\",true); \r\n\t\t\t}\r\n\t\t\tfunction is_touch_device(){\r\n\t\t\t\treturn !!(\"ontouchstart\" in window) ? 1 : 0;\r\n\t\t\t}\r\n\t\t\treturn this.each(function(){\r\n\t\t\t\tvar $this=$(this);\r\n\t\t\t\t/*set element width/height, create markup for custom scrollbars, add classes*/\r\n\t\t\t\tif(options.set_width){\r\n\t\t\t\t\t$this.css(\"width\",options.set_width);\r\n\t\t\t\t}\r\n\t\t\t\tif(options.set_height){\r\n\t\t\t\t\t$this.css(\"height\",options.set_height);\r\n\t\t\t\t}\r\n\t\t\t\tif(!$(document).data(\"mCustomScrollbar-index\")){\r\n\t\t\t\t\t$(document).data(\"mCustomScrollbar-index\",\"1\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar mCustomScrollbarIndex=parseInt($(document).data(\"mCustomScrollbar-index\"));\r\n\t\t\t\t\t$(document).data(\"mCustomScrollbar-index\",mCustomScrollbarIndex+1);\r\n\t\t\t\t}\r\n\t\t\t\t$this.wrapInner(\"<div class='mCustomScrollBox' id='mCSB_\"+$(document).data(\"mCustomScrollbar-index\")+\"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />\").addClass(\"mCustomScrollbar _mCS_\"+$(document).data(\"mCustomScrollbar-index\"));\r\n\t\t\t\tvar mCustomScrollBox=$this.children(\".mCustomScrollBox\");\r\n\t\t\t\tif(options.horizontalScroll){\r\n\t\t\t\t\tmCustomScrollBox.addClass(\"mCSB_horizontal\").wrapInner(\"<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />\");\r\n\t\t\t\t\tvar mCSB_h_wrapper=mCustomScrollBox.children(\".mCSB_h_wrapper\");\r\n\t\t\t\t\tmCSB_h_wrapper.wrapInner(\"<div class='mCSB_container' style='position:absolute; left:0;' />\").children(\".mCSB_container\").css({\"width\":mCSB_h_wrapper.children().outerWidth(),\"position\":\"relative\"}).unwrap();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tmCustomScrollBox.wrapInner(\"<div class='mCSB_container' style='position:relative; top:0;' />\");\r\n\t\t\t\t}\r\n\t\t\t\tvar mCSB_container=mCustomScrollBox.children(\".mCSB_container\");\r\n\t\t\t\tif($(document).data(\"mCS-is-touch-device\")){\r\n\t\t\t\t\tmCSB_container.addClass(\"mCS_touch\");\r\n\t\t\t\t}\r\n\t\t\t\tmCSB_container.after(\"<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer' style='position:relative;'><div class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>\");\r\n\t\t\t\tvar mCSB_scrollTools=mCustomScrollBox.children(\".mCSB_scrollTools\"),\r\n\t\t\t\t\tmCSB_draggerContainer=mCSB_scrollTools.children(\".mCSB_draggerContainer\"),\r\n\t\t\t\t\tmCSB_dragger=mCSB_draggerContainer.children(\".mCSB_dragger\");\r\n\t\t\t\tif(options.horizontalScroll){\r\n\t\t\t\t\tmCSB_dragger.data(\"minDraggerWidth\",mCSB_dragger.width());\r\n\t\t\t\t}else{\r\n\t\t\t\t\tmCSB_dragger.data(\"minDraggerHeight\",mCSB_dragger.height());\r\n\t\t\t\t}\r\n\t\t\t\tif(options.scrollButtons.enable){\r\n\t\t\t\t\tif(options.horizontalScroll){\r\n\t\t\t\t\t\tmCSB_scrollTools.prepend(\"<a class='mCSB_buttonLeft' style='display:block; position:relative;'></a>\").append(\"<a class='mCSB_buttonRight' style='display:block; position:relative;'></a>\");\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmCSB_scrollTools.prepend(\"<a class='mCSB_buttonUp' style='display:block; position:relative;'></a>\").append(\"<a class='mCSB_buttonDown' style='display:block; position:relative;'></a>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t/*mCustomScrollBox scrollTop and scrollLeft is always 0 to prevent browser focus scrolling*/\r\n\t\t\t\tmCustomScrollBox.bind(\"scroll\",function(){\r\n\t\t\t\t\tif(!$this.is(\".mCS_disabled\")){ /*native focus scrolling for disabled scrollbars*/\r\n\t\t\t\t\t\tmCustomScrollBox.scrollTop(0).scrollLeft(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t/*store options, global vars/states, intervals and update element*/\r\n\t\t\t\t$this.data({\r\n\t\t\t\t\t/*init state*/\r\n\t\t\t\t\t\"mCS_Init\":true,\r\n\t\t\t\t\t/*option parameters*/\r\n\t\t\t\t\t\"horizontalScroll\":options.horizontalScroll,\r\n\t\t\t\t\t\"scrollInertia\":options.scrollInertia,\r\n\t\t\t\t\t\"scrollEasing\":options.scrollEasing,\r\n\t\t\t\t\t\"mouseWheel\":options.mouseWheel,\r\n\t\t\t\t\t\"mouseWheelPixels\":options.mouseWheelPixels,\r\n\t\t\t\t\t\"autoDraggerLength\":options.autoDraggerLength,\r\n\t\t\t\t\t\"scrollButtons_enable\":options.scrollButtons.enable,\r\n\t\t\t\t\t\"scrollButtons_scrollType\":options.scrollButtons.scrollType,\r\n\t\t\t\t\t\"scrollButtons_scrollSpeed\":options.scrollButtons.scrollSpeed,\r\n\t\t\t\t\t\"scrollButtons_scrollAmount\":options.scrollButtons.scrollAmount,\r\n\t\t\t\t\t\"autoExpandHorizontalScroll\":options.advanced.autoExpandHorizontalScroll,\r\n\t\t\t\t\t\"autoScrollOnFocus\":options.advanced.autoScrollOnFocus,\r\n\t\t\t\t\t\"onScrollStart_Callback\":options.callbacks.onScrollStart,\r\n\t\t\t\t\t\"onScroll_Callback\":options.callbacks.onScroll,\r\n\t\t\t\t\t\"onTotalScroll_Callback\":options.callbacks.onTotalScroll,\r\n\t\t\t\t\t\"onTotalScrollBack_Callback\":options.callbacks.onTotalScrollBack,\r\n\t\t\t\t\t\"onTotalScroll_Offset\":options.callbacks.onTotalScrollOffset,\r\n\t\t\t\t\t\"whileScrolling_Callback\":options.callbacks.whileScrolling,\r\n\t\t\t\t\t\"whileScrolling_Interval\":options.callbacks.whileScrollingInterval,\r\n\t\t\t\t\t/*events binding state*/\r\n\t\t\t\t\t\"bindEvent_scrollbar_click\":false,\r\n\t\t\t\t\t\"bindEvent_mousewheel\":false,\r\n\t\t\t\t\t\"bindEvent_focusin\":false,\r\n\t\t\t\t\t\"bindEvent_buttonsContinuous_y\":false,\r\n\t\t\t\t\t\"bindEvent_buttonsContinuous_x\":false,\r\n\t\t\t\t\t\"bindEvent_buttonsPixels_y\":false,\r\n\t\t\t\t\t\"bindEvent_buttonsPixels_x\":false,\r\n\t\t\t\t\t\"bindEvent_scrollbar_touch\":false,\r\n\t\t\t\t\t\"bindEvent_content_touch\":false,\r\n\t\t\t\t\t/*buttons intervals*/\r\n\t\t\t\t\t\"mCSB_buttonScrollRight\":false,\r\n\t\t\t\t\t\"mCSB_buttonScrollLeft\":false,\r\n\t\t\t\t\t\"mCSB_buttonScrollDown\":false,\r\n\t\t\t\t\t\"mCSB_buttonScrollUp\":false,\r\n\t\t\t\t\t/*callback intervals*/\r\n\t\t\t\t\t\"whileScrolling\":false\r\n\t\t\t\t}).mCustomScrollbar(\"update\");\r\n\t\t\t\t/*detect max-width*/\r\n\t\t\t\tif(options.horizontalScroll){\r\n\t\t\t\t\tif($this.css(\"max-width\")!==\"none\"){\r\n\t\t\t\t\t\tif(!options.advanced.updateOnContentResize){ /*needs updateOnContentResize*/\r\n\t\t\t\t\t\t\toptions.advanced.updateOnContentResize=true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$this.data({\"mCS_maxWidth\":parseInt($this.css(\"max-width\")),\"mCS_maxWidth_Interval\":setInterval(function(){\r\n\t\t\t\t\t\t\tif(mCSB_container.outerWidth()>$this.data(\"mCS_maxWidth\")){\r\n\t\t\t\t\t\t\t\tclearInterval($this.data(\"mCS_maxWidth_Interval\"));\r\n\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"update\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},150)});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t/*detect max-height*/\r\n\t\t\t\t\tif($this.css(\"max-height\")!==\"none\"){\r\n\t\t\t\t\t\t$this.data({\"mCS_maxHeight\":parseInt($this.css(\"max-height\")),\"mCS_maxHeight_Interval\":setInterval(function(){\r\n\t\t\t\t\t\t\tmCustomScrollBox.css(\"max-height\",$this.data(\"mCS_maxHeight\"));\r\n\t\t\t\t\t\t\tif(mCSB_container.outerHeight()>$this.data(\"mCS_maxHeight\")){\r\n\t\t\t\t\t\t\t\tclearInterval($this.data(\"mCS_maxHeight_Interval\"));\r\n\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"update\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},150)});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t/*window resize fn (for layouts based on percentages)*/\r\n\t\t\t\tif(options.advanced.updateOnBrowserResize){\r\n\t\t\t\t\tvar mCSB_resizeTimeout;\r\n\t\t\t\t\t$(window).resize(function(){\r\n\t\t\t\t\t\tif(mCSB_resizeTimeout){\r\n\t\t\t\t\t\t\tclearTimeout(mCSB_resizeTimeout);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmCSB_resizeTimeout=setTimeout(function(){\r\n\t\t\t\t\t\t\tif(!$this.is(\".mCS_disabled\") && !$this.is(\".mCS_destroyed\")){\r\n\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"update\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},150);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t/*content resize fn (for dynamically generated content)*/\r\n\t\t\t\tif(options.advanced.updateOnContentResize){\r\n\t\t\t\t\tvar mCSB_onContentResize;\r\n\t\t\t\t\tif(options.horizontalScroll){\r\n\t\t\t\t\t\tvar mCSB_containerOldSize=mCSB_container.outerWidth();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar mCSB_containerOldSize=mCSB_container.outerHeight();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmCSB_onContentResize=setInterval(function(){\r\n\t\t\t\t\t\tif(options.horizontalScroll){\r\n\t\t\t\t\t\t\tif(options.advanced.autoExpandHorizontalScroll){\r\n\t\t\t\t\t\t\t\tmCSB_container.css({\"position\":\"absolute\",\"width\":\"auto\"}).wrap(\"<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />\").css({\"width\":mCSB_container.outerWidth(),\"position\":\"relative\"}).unwrap();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar mCSB_containerNewSize=mCSB_container.outerWidth();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tvar mCSB_containerNewSize=mCSB_container.outerHeight();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(mCSB_containerNewSize!=mCSB_containerOldSize){\r\n\t\t\t\t\t\t\t$this.mCustomScrollbar(\"update\");\r\n\t\t\t\t\t\t\tmCSB_containerOldSize=mCSB_containerNewSize;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},300);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:function(){\r\n\t\t\tvar $this=$(this),\r\n\t\t\t\tmCustomScrollBox=$this.children(\".mCustomScrollBox\"),\r\n\t\t\t\tmCSB_container=mCustomScrollBox.children(\".mCSB_container\");\r\n\t\t\tmCSB_container.removeClass(\"mCS_no_scrollbar\");\r\n\t\t\t$this.removeClass(\"mCS_disabled mCS_destroyed\");\r\n\t\t\tmCustomScrollBox.scrollTop(0).scrollLeft(0); /*reset scrollTop/scrollLeft to prevent browser focus scrolling*/\r\n\t\t\tvar mCSB_scrollTools=mCustomScrollBox.children(\".mCSB_scrollTools\"),\r\n\t\t\t\tmCSB_draggerContainer=mCSB_scrollTools.children(\".mCSB_draggerContainer\"),\r\n\t\t\t\tmCSB_dragger=mCSB_draggerContainer.children(\".mCSB_dragger\");\r\n\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\tvar mCSB_buttonLeft=mCSB_scrollTools.children(\".mCSB_buttonLeft\"),\r\n\t\t\t\t\tmCSB_buttonRight=mCSB_scrollTools.children(\".mCSB_buttonRight\"),\r\n\t\t\t\t\tmCustomScrollBoxW=mCustomScrollBox.width();\r\n\t\t\t\tif($this.data(\"autoExpandHorizontalScroll\")){\r\n\t\t\t\t\tmCSB_container.css({\"position\":\"absolute\",\"width\":\"auto\"}).wrap(\"<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />\").css({\"width\":mCSB_container.outerWidth(),\"position\":\"relative\"}).unwrap();\r\n\t\t\t\t}\r\n\t\t\t\tvar mCSB_containerW=mCSB_container.outerWidth();\r\n\t\t\t}else{\r\n\t\t\t\tvar mCSB_buttonUp=mCSB_scrollTools.children(\".mCSB_buttonUp\"),\r\n\t\t\t\t\tmCSB_buttonDown=mCSB_scrollTools.children(\".mCSB_buttonDown\"),\r\n\t\t\t\t\tmCustomScrollBoxH=mCustomScrollBox.height(),\r\n\t\t\t\t\tmCSB_containerH=mCSB_container.outerHeight();\r\n\t\t\t}\r\n\t\t\tif(mCSB_containerH>mCustomScrollBoxH && !$this.data(\"horizontalScroll\")){ /*content needs vertical scrolling*/\r\n\t\t\t\tmCSB_scrollTools.css(\"display\",\"block\");\r\n\t\t\t\tvar mCSB_draggerContainerH=mCSB_draggerContainer.height();\r\n\t\t\t\t/*auto adjust scrollbar dragger length analogous to content*/\r\n\t\t\t\tif($this.data(\"autoDraggerLength\")){\r\n\t\t\t\t\tvar draggerH=Math.round(mCustomScrollBoxH/mCSB_containerH*mCSB_draggerContainerH),\r\n\t\t\t\t\t\tminDraggerH=mCSB_dragger.data(\"minDraggerHeight\");\r\n\t\t\t\t\tif(draggerH<=minDraggerH){ /*min dragger height*/\r\n\t\t\t\t\t\tmCSB_dragger.css({\"height\":minDraggerH});\r\n\t\t\t\t\t}else if(draggerH>=mCSB_draggerContainerH-10){ /*max dragger height*/\r\n\t\t\t\t\t\tvar mCSB_draggerContainerMaxH=mCSB_draggerContainerH-10;\r\n\t\t\t\t\t\tmCSB_dragger.css({\"height\":mCSB_draggerContainerMaxH});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmCSB_dragger.css({\"height\":draggerH});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmCSB_dragger.children(\".mCSB_dragger_bar\").css({\"line-height\":mCSB_dragger.height()+\"px\"});\r\n\t\t\t\t}\r\n\t\t\t\tvar mCSB_draggerH=mCSB_dragger.height(),\r\n\t\t\t\t/*calculate and store scroll amount, add scrolling*/\r\n\t\t\t\t\tscrollAmount=(mCSB_containerH-mCustomScrollBoxH)/(mCSB_draggerContainerH-mCSB_draggerH);\r\n\t\t\t\t$this.data(\"scrollAmount\",scrollAmount).mCustomScrollbar(\"scrolling\",mCustomScrollBox,mCSB_container,mCSB_draggerContainer,mCSB_dragger,mCSB_buttonUp,mCSB_buttonDown,mCSB_buttonLeft,mCSB_buttonRight);\r\n\t\t\t\t/*scroll*/\r\n\t\t\t\tvar mCSB_containerP=Math.abs(Math.round(mCSB_container.position().top));\r\n\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",mCSB_containerP,{callback:false});\r\n\t\t\t}else if(mCSB_containerW>mCustomScrollBoxW && $this.data(\"horizontalScroll\")){ /*content needs horizontal scrolling*/\r\n\t\t\t\tmCSB_scrollTools.css(\"display\",\"block\");\r\n\t\t\t\tvar mCSB_draggerContainerW=mCSB_draggerContainer.width();\r\n\t\t\t\t/*auto adjust scrollbar dragger length analogous to content*/\r\n\t\t\t\tif($this.data(\"autoDraggerLength\")){\r\n\t\t\t\t\tvar draggerW=Math.round(mCustomScrollBoxW/mCSB_containerW*mCSB_draggerContainerW),\r\n\t\t\t\t\t\tminDraggerW=mCSB_dragger.data(\"minDraggerWidth\");\r\n\t\t\t\t\tif(draggerW<=minDraggerW){ /*min dragger height*/\r\n\t\t\t\t\t\tmCSB_dragger.css({\"width\":minDraggerW});\r\n\t\t\t\t\t}else if(draggerW>=mCSB_draggerContainerW-10){ /*max dragger height*/\r\n\t\t\t\t\t\tvar mCSB_draggerContainerMaxW=mCSB_draggerContainerW-10;\r\n\t\t\t\t\t\tmCSB_dragger.css({\"width\":mCSB_draggerContainerMaxW});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmCSB_dragger.css({\"width\":draggerW});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar mCSB_draggerW=mCSB_dragger.width(),\r\n\t\t\t\t/*calculate and store scroll amount, add scrolling*/\r\n\t\t\t\t\tscrollAmount=(mCSB_containerW-mCustomScrollBoxW)/(mCSB_draggerContainerW-mCSB_draggerW);\r\n\t\t\t\t$this.data(\"scrollAmount\",scrollAmount).mCustomScrollbar(\"scrolling\",mCustomScrollBox,mCSB_container,mCSB_draggerContainer,mCSB_dragger,mCSB_buttonUp,mCSB_buttonDown,mCSB_buttonLeft,mCSB_buttonRight);\r\n\t\t\t\t/*scroll*/\r\n\t\t\t\tvar mCSB_containerP=Math.abs(Math.round(mCSB_container.position().left));\r\n\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",mCSB_containerP,{callback:false});\r\n\t\t\t}else{ /*content does not need scrolling*/\r\n\t\t\t\t/*unbind events, reset content position, hide scrollbars, remove classes*/\r\n\t\t\t\tmCustomScrollBox.unbind(\"mousewheel focusin\");\r\n\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\tmCSB_dragger.add(mCSB_container).css(\"left\",0);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tmCSB_dragger.add(mCSB_container).css(\"top\",0);\r\n\t\t\t\t}\r\n\t\t\t\tmCSB_scrollTools.css(\"display\",\"none\");\r\n\t\t\t\tmCSB_container.addClass(\"mCS_no_scrollbar\");\r\n\t\t\t\t$this.data({\"bindEvent_mousewheel\":false,\"bindEvent_focusin\":false});\r\n\t\t\t}\r\n\t\t},\r\n\t\tscrolling:function(mCustomScrollBox,mCSB_container,mCSB_draggerContainer,mCSB_dragger,mCSB_buttonUp,mCSB_buttonDown,mCSB_buttonLeft,mCSB_buttonRight){\r\n\t\t\tvar $this=$(this);\r\n\t\t\t/*while scrolling callback*/\r\n\t\t\t$this.mCustomScrollbar(\"callbacks\",\"whileScrolling\"); \r\n\t\t\t/*drag scrolling*/\r\n\t\t\tif(!mCSB_dragger.hasClass(\"ui-draggable\")){ /*apply drag function once*/\r\n\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\tvar draggableAxis=\"x\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar draggableAxis=\"y\";\r\n\t\t\t\t}\r\n\t\t\t\tmCSB_dragger.draggable({ \r\n\t\t\t\t\taxis:draggableAxis,\r\n\t\t\t\t\tcontainment:\"parent\",\r\n\t\t\t\t\tdrag:function(event,ui){\r\n\t\t\t\t\t\t$this.mCustomScrollbar(\"scroll\");\r\n\t\t\t\t\t\tmCSB_dragger.addClass(\"mCSB_dragger_onDrag\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstop:function(event,ui){\r\n\t\t\t\t\t\tmCSB_dragger.removeClass(\"mCSB_dragger_onDrag\");\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(!$this.data(\"bindEvent_scrollbar_click\")){ /*bind once*/\r\n\t\t\t\tmCSB_draggerContainer.bind(\"click\",function(e){\r\n\t\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\t\tvar mouseCoord=(e.pageX-mCSB_draggerContainer.offset().left);\r\n\t\t\t\t\t\tif(mouseCoord<mCSB_dragger.position().left || mouseCoord>(mCSB_dragger.position().left+mCSB_dragger.width())){\r\n\t\t\t\t\t\t\tvar scrollToPos=mouseCoord;\r\n\t\t\t\t\t\t\tif(scrollToPos>=mCSB_draggerContainer.width()-mCSB_dragger.width()){ /*max dragger position is bottom*/\r\n\t\t\t\t\t\t\t\tscrollToPos=mCSB_draggerContainer.width()-mCSB_dragger.width();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmCSB_dragger.css(\"left\",scrollToPos);\r\n\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scroll\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar mouseCoord=(e.pageY-mCSB_draggerContainer.offset().top);\r\n\t\t\t\t\t\tif(mouseCoord<mCSB_dragger.position().top || mouseCoord>(mCSB_dragger.position().top+mCSB_dragger.height())){\r\n\t\t\t\t\t\t\tvar scrollToPos=mouseCoord;\r\n\t\t\t\t\t\t\tif(scrollToPos>=mCSB_draggerContainer.height()-mCSB_dragger.height()){ /*max dragger position is bottom*/\r\n\t\t\t\t\t\t\t\tscrollToPos=mCSB_draggerContainer.height()-mCSB_dragger.height();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmCSB_dragger.css(\"top\",scrollToPos);\r\n\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scroll\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t$this.data({\"bindEvent_scrollbar_click\":true});\r\n\t\t\t}\r\n\t\t\t/*mousewheel scrolling*/\r\n\t\t\tif($this.data(\"mouseWheel\")){\r\n\t\t\t\tvar mousewheelVel=$this.data(\"mouseWheel\");\r\n\t\t\t\tif($this.data(\"mouseWheel\")===\"auto\"){\r\n\t\t\t\t\tmousewheelVel=8; /*default mousewheel velocity*/\r\n\t\t\t\t\t/*check for safari browser on mac osx to lower mousewheel velocity*/\r\n\t\t\t\t\tvar os=navigator.userAgent;\r\n\t\t\t\t\tif(os.indexOf(\"Mac\")!=-1 && os.indexOf(\"Safari\")!=-1 && os.indexOf(\"AppleWebKit\")!=-1 && os.indexOf(\"Chrome\")==-1){ \r\n\t\t\t\t\t\tmousewheelVel=1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!$this.data(\"bindEvent_mousewheel\")){ /*bind once*/\r\n\t\t\t\t\tmCustomScrollBox.bind(\"mousewheel\",function(event,delta){\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tvar vel=Math.abs(delta*mousewheelVel);\r\n\t\t\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\t\t\tif($this.data(\"mouseWheel\")===\"pixels\"){\r\n\t\t\t\t\t\t\t\tif(delta<0){\r\n\t\t\t\t\t\t\t\t\tdelta=-1;\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tdelta=1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar scrollTo=Math.abs(Math.round(mCSB_container.position().left))-(delta*$this.data(\"mouseWheelPixels\"));\r\n\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",scrollTo);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tvar posX=mCSB_dragger.position().left-(delta*vel);\r\n\t\t\t\t\t\t\t\tmCSB_dragger.css(\"left\",posX);\r\n\t\t\t\t\t\t\t\tif(mCSB_dragger.position().left<0){\r\n\t\t\t\t\t\t\t\t\tmCSB_dragger.css(\"left\",0);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar mCSB_draggerContainerW=mCSB_draggerContainer.width(),\r\n\t\t\t\t\t\t\t\t\tmCSB_draggerW=mCSB_dragger.width();\r\n\t\t\t\t\t\t\t\tif(mCSB_dragger.position().left>mCSB_draggerContainerW-mCSB_draggerW){\r\n\t\t\t\t\t\t\t\t\tmCSB_dragger.css(\"left\",mCSB_draggerContainerW-mCSB_draggerW);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scroll\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif($this.data(\"mouseWheel\")===\"pixels\"){\r\n\t\t\t\t\t\t\t\tif(delta<0){\r\n\t\t\t\t\t\t\t\t\tdelta=-1;\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tdelta=1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar scrollTo=Math.abs(Math.round(mCSB_container.position().top))-(delta*$this.data(\"mouseWheelPixels\"));\r\n\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",scrollTo);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tvar posY=mCSB_dragger.position().top-(delta*vel);\r\n\t\t\t\t\t\t\t\tmCSB_dragger.css(\"top\",posY);\r\n\t\t\t\t\t\t\t\tif(mCSB_dragger.position().top<0){\r\n\t\t\t\t\t\t\t\t\tmCSB_dragger.css(\"top\",0);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar mCSB_draggerContainerH=mCSB_draggerContainer.height(),\r\n\t\t\t\t\t\t\t\t\tmCSB_draggerH=mCSB_dragger.height();\r\n\t\t\t\t\t\t\t\tif(mCSB_dragger.position().top>mCSB_draggerContainerH-mCSB_draggerH){\r\n\t\t\t\t\t\t\t\t\tmCSB_dragger.css(\"top\",mCSB_draggerContainerH-mCSB_draggerH);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scroll\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$this.data({\"bindEvent_mousewheel\":true});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/*buttons scrolling*/\r\n\t\t\tif($this.data(\"scrollButtons_enable\")){\r\n\t\t\t\tif($this.data(\"scrollButtons_scrollType\")===\"pixels\"){ /*scroll by pixels*/\r\n\t\t\t\t\tvar pixelsScrollTo;\r\n\t\t\t\t\tif($.browser.msie && parseInt($.browser.version)<9){ /*stupid ie8*/\r\n\t\t\t\t\t\t$this.data(\"scrollInertia\",0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\t\tmCSB_buttonRight.add(mCSB_buttonLeft).unbind(\"mousedown touchstart onmsgesturestart mouseup mouseout touchend onmsgestureend\",mCSB_buttonRight_stop,mCSB_buttonLeft_stop);\r\n\t\t\t\t\t\t$this.data({\"bindEvent_buttonsContinuous_x\":false});\r\n\t\t\t\t\t\tif(!$this.data(\"bindEvent_buttonsPixels_x\")){ /*bind once*/\r\n\t\t\t\t\t\t\t/*scroll right*/\r\n\t\t\t\t\t\t\tmCSB_buttonRight.bind(\"click\",function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tif(!mCSB_container.is(\":animated\")){\r\n\t\t\t\t\t\t\t\t\tpixelsScrollTo=Math.abs(mCSB_container.position().left)+$this.data(\"scrollButtons_scrollAmount\");\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",pixelsScrollTo);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t/*scroll left*/\r\n\t\t\t\t\t\t\tmCSB_buttonLeft.bind(\"click\",function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tif(!mCSB_container.is(\":animated\")){\r\n\t\t\t\t\t\t\t\t\tpixelsScrollTo=Math.abs(mCSB_container.position().left)-$this.data(\"scrollButtons_scrollAmount\");\r\n\t\t\t\t\t\t\t\t\tif(mCSB_container.position().left>=-$this.data(\"scrollButtons_scrollAmount\")){\r\n\t\t\t\t\t\t\t\t\t\tpixelsScrollTo=\"left\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",pixelsScrollTo);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t$this.data({\"bindEvent_buttonsPixels_x\":true});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmCSB_buttonDown.add(mCSB_buttonUp).unbind(\"mousedown touchstart onmsgesturestart mouseup mouseout touchend onmsgestureend\",mCSB_buttonRight_stop,mCSB_buttonLeft_stop);\r\n\t\t\t\t\t\t$this.data({\"bindEvent_buttonsContinuous_y\":false});\r\n\t\t\t\t\t\tif(!$this.data(\"bindEvent_buttonsPixels_y\")){ /*bind once*/\r\n\t\t\t\t\t\t\t/*scroll down*/\r\n\t\t\t\t\t\t\tmCSB_buttonDown.bind(\"click\",function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tif(!mCSB_container.is(\":animated\")){\r\n\t\t\t\t\t\t\t\t\tpixelsScrollTo=Math.abs(mCSB_container.position().top)+$this.data(\"scrollButtons_scrollAmount\");\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",pixelsScrollTo);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t/*scroll up*/\r\n\t\t\t\t\t\t\tmCSB_buttonUp.bind(\"click\",function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tif(!mCSB_container.is(\":animated\")){\r\n\t\t\t\t\t\t\t\t\tpixelsScrollTo=Math.abs(mCSB_container.position().top)-$this.data(\"scrollButtons_scrollAmount\");\r\n\t\t\t\t\t\t\t\t\tif(mCSB_container.position().top>=-$this.data(\"scrollButtons_scrollAmount\")){\r\n\t\t\t\t\t\t\t\t\t\tpixelsScrollTo=\"top\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",pixelsScrollTo);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t$this.data({\"bindEvent_buttonsPixels_y\":true});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{ /*continuous scrolling*/\r\n\t\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\t\tmCSB_buttonRight.add(mCSB_buttonLeft).unbind(\"click\");\r\n\t\t\t\t\t\t$this.data({\"bindEvent_buttonsPixels_x\":false});\r\n\t\t\t\t\t\tif(!$this.data(\"bindEvent_buttonsContinuous_x\")){ /*bind once*/\r\n\t\t\t\t\t\t\t/*scroll right*/\r\n\t\t\t\t\t\t\tmCSB_buttonRight.bind(\"mousedown touchstart onmsgesturestart\",function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t$this.data({\"mCSB_buttonScrollRight\":setInterval(function(){\r\n\t\t\t\t\t\t\t\t\tvar scrollTo=Math.round((Math.abs(Math.round(mCSB_container.position().left))+$this.data(\"scrollButtons_scrollSpeed\"))/$this.data(\"scrollAmount\"));\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",scrollTo,{moveDragger:true});\r\n\t\t\t\t\t\t\t\t},30)});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar mCSB_buttonRight_stop=function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\tclearInterval($this.data(\"mCSB_buttonScrollRight\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmCSB_buttonRight.bind(\"mouseup touchend onmsgestureend mouseout\",mCSB_buttonRight_stop);\r\n\t\t\t\t\t\t\t/*scroll left*/\r\n\t\t\t\t\t\t\tmCSB_buttonLeft.bind(\"mousedown touchstart onmsgesturestart\",function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t$this.data({\"mCSB_buttonScrollLeft\":setInterval(function(){\r\n\t\t\t\t\t\t\t\t\tvar scrollTo=Math.round((Math.abs(Math.round(mCSB_container.position().left))-$this.data(\"scrollButtons_scrollSpeed\"))/$this.data(\"scrollAmount\"));\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",scrollTo,{moveDragger:true});\r\n\t\t\t\t\t\t\t\t},30)});\r\n\t\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\t\tvar mCSB_buttonLeft_stop=function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\tclearInterval($this.data(\"mCSB_buttonScrollLeft\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmCSB_buttonLeft.bind(\"mouseup touchend onmsgestureend mouseout\",mCSB_buttonLeft_stop);\r\n\t\t\t\t\t\t\t$this.data({\"bindEvent_buttonsContinuous_x\":true});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmCSB_buttonDown.add(mCSB_buttonUp).unbind(\"click\");\r\n\t\t\t\t\t\t$this.data({\"bindEvent_buttonsPixels_y\":false});\r\n\t\t\t\t\t\tif(!$this.data(\"bindEvent_buttonsContinuous_y\")){ /*bind once*/\r\n\t\t\t\t\t\t\t/*scroll down*/\r\n\t\t\t\t\t\t\tmCSB_buttonDown.bind(\"mousedown touchstart onmsgesturestart\",function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t$this.data({\"mCSB_buttonScrollDown\":setInterval(function(){\r\n\t\t\t\t\t\t\t\t\tvar scrollTo=Math.round((Math.abs(Math.round(mCSB_container.position().top))+$this.data(\"scrollButtons_scrollSpeed\"))/$this.data(\"scrollAmount\"));\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",scrollTo,{moveDragger:true});\r\n\t\t\t\t\t\t\t\t},30)});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar mCSB_buttonDown_stop=function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\tclearInterval($this.data(\"mCSB_buttonScrollDown\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmCSB_buttonDown.bind(\"mouseup touchend onmsgestureend mouseout\",mCSB_buttonDown_stop);\r\n\t\t\t\t\t\t\t/*scroll up*/\r\n\t\t\t\t\t\t\tmCSB_buttonUp.bind(\"mousedown touchstart onmsgesturestart\",function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t$this.data({\"mCSB_buttonScrollUp\":setInterval(function(){\r\n\t\t\t\t\t\t\t\t\tvar scrollTo=Math.round((Math.abs(Math.round(mCSB_container.position().top))-$this.data(\"scrollButtons_scrollSpeed\"))/$this.data(\"scrollAmount\"));\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",scrollTo,{moveDragger:true});\r\n\t\t\t\t\t\t\t\t},30)});\r\n\t\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\t\tvar mCSB_buttonUp_stop=function(e){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\tclearInterval($this.data(\"mCSB_buttonScrollUp\"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmCSB_buttonUp.bind(\"mouseup touchend onmsgestureend mouseout\",mCSB_buttonUp_stop);\r\n\t\t\t\t\t\t\t$this.data({\"bindEvent_buttonsContinuous_y\":true});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/*scrolling on element focus (e.g. via TAB key)*/\r\n\t\t\tif($this.data(\"autoScrollOnFocus\")){\r\n\t\t\t\tif(!$this.data(\"bindEvent_focusin\")){ /*bind once*/\r\n\t\t\t\t\tmCustomScrollBox.bind(\"focusin\",function(){\r\n\t\t\t\t\t\tmCustomScrollBox.scrollTop(0).scrollLeft(0);\r\n\t\t\t\t\t\tvar focusedElem=$(document.activeElement);\r\n\t\t\t\t\t\tif(focusedElem.is(\"input,textarea,select,button,a[tabindex],area,object\")){\r\n\t\t\t\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\t\t\t\tvar mCSB_containerX=mCSB_container.position().left,\r\n\t\t\t\t\t\t\t\t\tfocusedElemX=focusedElem.position().left,\r\n\t\t\t\t\t\t\t\t\tmCustomScrollBoxW=mCustomScrollBox.width(),\r\n\t\t\t\t\t\t\t\t\tfocusedElemW=focusedElem.outerWidth();\r\n\t\t\t\t\t\t\t\tif(mCSB_containerX+focusedElemX>=0 && mCSB_containerX+focusedElemX<=mCustomScrollBoxW-focusedElemW){\r\n\t\t\t\t\t\t\t\t\t/*just focus...*/\r\n\t\t\t\t\t\t\t\t}else{ /*scroll, then focus*/\r\n\t\t\t\t\t\t\t\t\tvar moveDragger=focusedElemX/$this.data(\"scrollAmount\");\r\n\t\t\t\t\t\t\t\t\tif(moveDragger>=mCSB_draggerContainer.width()-mCSB_dragger.width()){ /*max dragger position is bottom*/\r\n\t\t\t\t\t\t\t\t\t\tmoveDragger=mCSB_draggerContainer.width()-mCSB_dragger.width();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tmCSB_dragger.css(\"left\",moveDragger);\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scroll\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tvar mCSB_containerY=mCSB_container.position().top,\r\n\t\t\t\t\t\t\t\t\tfocusedElemY=focusedElem.position().top,\r\n\t\t\t\t\t\t\t\t\tmCustomScrollBoxH=mCustomScrollBox.height(),\r\n\t\t\t\t\t\t\t\t\tfocusedElemH=focusedElem.outerHeight();\r\n\t\t\t\t\t\t\t\tif(mCSB_containerY+focusedElemY>=0 && mCSB_containerY+focusedElemY<=mCustomScrollBoxH-focusedElemH){\r\n\t\t\t\t\t\t\t\t\t/*just focus...*/\r\n\t\t\t\t\t\t\t\t}else{ /*scroll, then focus*/\r\n\t\t\t\t\t\t\t\t\tvar moveDragger=focusedElemY/$this.data(\"scrollAmount\");\r\n\t\t\t\t\t\t\t\t\tif(moveDragger>=mCSB_draggerContainer.height()-mCSB_dragger.height()){ /*max dragger position is bottom*/\r\n\t\t\t\t\t\t\t\t\t\tmoveDragger=mCSB_draggerContainer.height()-mCSB_dragger.height();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tmCSB_dragger.css(\"top\",moveDragger);\r\n\t\t\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scroll\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$this.data({\"bindEvent_focusin\":true});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/*touch events*/\r\n\t\t\tif($(document).data(\"mCS-is-touch-device\")){\r\n\t\t\t\t/*scrollbar touch-drag*/\r\n\t\t\t\tif(!$this.data(\"bindEvent_scrollbar_touch\")){ /*bind once*/\r\n\t\t\t\t\tvar mCSB_draggerTouchY,\r\n\t\t\t\t\t\tmCSB_draggerTouchX;\r\n\t\t\t\t\tmCSB_dragger.bind(\"touchstart onmsgesturestart\",function(e){\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tvar touch=e.originalEvent.touches[0] || e.originalEvent.changedTouches[0],\r\n\t\t\t\t\t\t\telem=$(this),\r\n\t\t\t\t\t\t\telemOffset=elem.offset(),\r\n\t\t\t\t\t\t\tx=touch.pageX-elemOffset.left,\r\n\t\t\t\t\t\t\ty=touch.pageY-elemOffset.top;\r\n\t\t\t\t\t\tif(x<elem.width() && x>0 && y<elem.height() && y>0){\r\n\t\t\t\t\t\t\tmCSB_draggerTouchY=y;\r\n\t\t\t\t\t\t\tmCSB_draggerTouchX=x;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tmCSB_dragger.bind(\"touchmove onmsgesturechange\",function(e){\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tvar touch=e.originalEvent.touches[0] || e.originalEvent.changedTouches[0],\r\n\t\t\t\t\t\t\telem=$(this),\r\n\t\t\t\t\t\t\telemOffset=elem.offset(),\r\n\t\t\t\t\t\t\tx=touch.pageX-elemOffset.left,\r\n\t\t\t\t\t\t\ty=touch.pageY-elemOffset.top;\r\n\t\t\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",(mCSB_dragger.position().left-(mCSB_draggerTouchX))+x,{moveDragger:true});\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",(mCSB_dragger.position().top-(mCSB_draggerTouchY))+y,{moveDragger:true});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$this.data({\"bindEvent_scrollbar_touch\":true});\r\n\t\t\t\t}\r\n\t\t\t\t/*content touch-drag*/\r\n\t\t\t\tif(!$this.data(\"bindEvent_content_touch\")){ /*bind once*/\r\n\t\t\t\t\tvar touch,\r\n\t\t\t\t\t\telem,\r\n\t\t\t\t\t\telemOffset,\r\n\t\t\t\t\t\tx,\r\n\t\t\t\t\t\ty,\r\n\t\t\t\t\t\tmCSB_containerTouchY,\r\n\t\t\t\t\t\tmCSB_containerTouchX;\r\n\t\t\t\t\tmCSB_container.bind(\"touchstart onmsgesturestart\",function(e){\r\n\t\t\t\t\t\ttouch=e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n\t\t\t\t\t\telem=$(this);\r\n\t\t\t\t\t\telemOffset=elem.offset();\r\n\t\t\t\t\t\tx=touch.pageX-elemOffset.left;\r\n\t\t\t\t\t\ty=touch.pageY-elemOffset.top;\r\n\t\t\t\t\t\tmCSB_containerTouchY=y;\r\n\t\t\t\t\t\tmCSB_containerTouchX=x;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tmCSB_container.bind(\"touchmove onmsgesturechange\",function(e){\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\ttouch=e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n\t\t\t\t\t\telem=$(this).parent();\r\n\t\t\t\t\t\telemOffset=elem.offset();\r\n\t\t\t\t\t\tx=touch.pageX-elemOffset.left;\r\n\t\t\t\t\t\ty=touch.pageY-elemOffset.top;\r\n\t\t\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",mCSB_containerTouchX-x);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t$this.mCustomScrollbar(\"scrollTo\",mCSB_containerTouchY-y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$this.data({\"bindEvent_content_touch\":true});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tscroll:function(bypassCallbacks){\r\n\t\t\tvar $this=$(this),\r\n\t\t\t\tmCSB_dragger=$this.find(\".mCSB_dragger\"),\r\n\t\t\t\tmCSB_container=$this.find(\".mCSB_container\"),\r\n\t\t\t\tmCustomScrollBox=$this.find(\".mCustomScrollBox\");\r\n\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\tvar draggerX=mCSB_dragger.position().left,\r\n\t\t\t\t\ttargX=-draggerX*$this.data(\"scrollAmount\"),\r\n\t\t\t\t\tthisX=mCSB_container.position().left,\r\n\t\t\t\t\tposX=Math.round(thisX-targX);\r\n\t\t\t}else{\r\n\t\t\t\tvar draggerY=mCSB_dragger.position().top,\r\n\t\t\t\t\ttargY=-draggerY*$this.data(\"scrollAmount\"),\r\n\t\t\t\t\tthisY=mCSB_container.position().top,\r\n\t\t\t\t\tposY=Math.round(thisY-targY);\r\n\t\t\t}\r\n\t\t\tif($.browser.webkit){ /*fix webkit zoom and jquery animate*/\r\n\t\t\t\tvar screenCssPixelRatio=(window.outerWidth-8)/window.innerWidth,\r\n\t\t\t\t\tisZoomed=(screenCssPixelRatio<.98 || screenCssPixelRatio>1.02);\r\n\t\t\t}\r\n\t\t\tif($this.data(\"scrollInertia\")===0 || isZoomed){\r\n\t\t\t\tif(!bypassCallbacks){\r\n\t\t\t\t\t$this.mCustomScrollbar(\"callbacks\",\"onScrollStart\"); /*user custom callback functions*/\r\n\t\t\t\t}\r\n\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\tmCSB_container.css(\"left\",targX);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tmCSB_container.css(\"top\",targY);\r\n\t\t\t\t}\r\n\t\t\t\tif(!bypassCallbacks){\r\n\t\t\t\t\t/*user custom callback functions*/\r\n\t\t\t\t\tif($this.data(\"whileScrolling\")){\r\n\t\t\t\t\t\t$this.data(\"whileScrolling_Callback\").call();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$this.mCustomScrollbar(\"callbacks\",\"onScroll\");  \r\n\t\t\t\t}\r\n\t\t\t\t$this.data({\"mCS_Init\":false});\r\n\t\t\t}else{\r\n\t\t\t\tif(!bypassCallbacks){\r\n\t\t\t\t\t$this.mCustomScrollbar(\"callbacks\",\"onScrollStart\"); /*user custom callback functions*/\r\n\t\t\t\t}\r\n\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\tmCSB_container.stop().animate({left:\"-=\"+posX},$this.data(\"scrollInertia\"),$this.data(\"scrollEasing\"),function(){\r\n\t\t\t\t\t\tif(!bypassCallbacks){\r\n\t\t\t\t\t\t\t$this.mCustomScrollbar(\"callbacks\",\"onScroll\"); /*user custom callback functions*/\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$this.data({\"mCS_Init\":false});\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tmCSB_container.stop().animate({top:\"-=\"+posY},$this.data(\"scrollInertia\"),$this.data(\"scrollEasing\"),function(){\r\n\t\t\t\t\t\tif(!bypassCallbacks){\r\n\t\t\t\t\t\t\t$this.mCustomScrollbar(\"callbacks\",\"onScroll\"); /*user custom callback functions*/\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$this.data({\"mCS_Init\":false});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tscrollTo:function(scrollTo,options){\r\n\t\t\tvar defaults={\r\n\t\t\t\tmoveDragger:false,\r\n\t\t\t\tcallback:true\r\n\t\t\t},\r\n\t\t\t\toptions=$.extend(defaults,options),\r\n\t\t\t\t$this=$(this),\r\n\t\t\t\tscrollToPos,\r\n\t\t\t\tmCustomScrollBox=$this.find(\".mCustomScrollBox\"),\r\n\t\t\t\tmCSB_container=mCustomScrollBox.children(\".mCSB_container\"),\r\n\t\t\t\tmCSB_draggerContainer=$this.find(\".mCSB_draggerContainer\"),\r\n\t\t\t\tmCSB_dragger=mCSB_draggerContainer.children(\".mCSB_dragger\"),\r\n\t\t\t\ttargetPos;\r\n\t\t\tif(scrollTo || scrollTo===0){\r\n\t\t\t\tif(typeof(scrollTo)===\"number\"){ /*if integer, scroll by number of pixels*/\r\n\t\t\t\t\tif(options.moveDragger){ /*scroll dragger*/\r\n\t\t\t\t\t\tscrollToPos=scrollTo;\r\n\t\t\t\t\t}else{ /*scroll content by default*/\r\n\t\t\t\t\t\ttargetPos=scrollTo;\r\n\t\t\t\t\t\tscrollToPos=Math.round(targetPos/$this.data(\"scrollAmount\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(typeof(scrollTo)===\"string\"){ /*if string, scroll by element position*/\r\n\t\t\t\t\tvar target;\r\n\t\t\t\t\tif(scrollTo===\"top\"){ /*scroll to top*/\r\n\t\t\t\t\t\ttarget=0;\r\n\t\t\t\t\t}else if(scrollTo===\"bottom\" && !$this.data(\"horizontalScroll\")){ /*scroll to bottom*/\r\n\t\t\t\t\t\ttarget=mCSB_container.outerHeight()-mCustomScrollBox.height();\r\n\t\t\t\t\t}else if(scrollTo===\"left\"){ /*scroll to left*/\r\n\t\t\t\t\t\ttarget=0;\r\n\t\t\t\t\t}else if(scrollTo===\"right\" && $this.data(\"horizontalScroll\")){ /*scroll to right*/\r\n\t\t\t\t\t\ttarget=mCSB_container.outerWidth()-mCustomScrollBox.width();\r\n\t\t\t\t\t}else if(scrollTo===\"first\"){ /*scroll to first element position*/\r\n\t\t\t\t\t\ttarget=$this.find(\".mCSB_container\").find(\":first\");\r\n\t\t\t\t\t}else if(scrollTo===\"last\"){ /*scroll to last element position*/\r\n\t\t\t\t\t\ttarget=$this.find(\".mCSB_container\").find(\":last\");\r\n\t\t\t\t\t}else{ /*scroll to element position*/\r\n\t\t\t\t\t\ttarget=$this.find(scrollTo);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(target.length===1){ /*if such unique element exists, scroll to it*/\r\n\t\t\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\t\t\ttargetPos=target.position().left;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ttargetPos=target.position().top;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tscrollToPos=Math.ceil(targetPos/$this.data(\"scrollAmount\"));\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tscrollToPos=target;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t/*scroll to*/\r\n\t\t\t\tif(scrollToPos<0){\r\n\t\t\t\t\tscrollToPos=0;\r\n\t\t\t\t}\r\n\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\tif(scrollToPos>=mCSB_draggerContainer.width()-mCSB_dragger.width()){ /*max dragger position is bottom*/\r\n\t\t\t\t\t\tscrollToPos=mCSB_draggerContainer.width()-mCSB_dragger.width();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmCSB_dragger.css(\"left\",scrollToPos);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(scrollToPos>=mCSB_draggerContainer.height()-mCSB_dragger.height()){ /*max dragger position is bottom*/\r\n\t\t\t\t\t\tscrollToPos=mCSB_draggerContainer.height()-mCSB_dragger.height();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmCSB_dragger.css(\"top\",scrollToPos);\r\n\t\t\t\t}\r\n\t\t\t\tif(options.callback){\r\n\t\t\t\t\t$this.mCustomScrollbar(\"scroll\",false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$this.mCustomScrollbar(\"scroll\",true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcallbacks:function(callback){\r\n\t\t\tvar $this=$(this),\r\n\t\t\t\tmCustomScrollBox=$this.find(\".mCustomScrollBox\"),\r\n\t\t\t\tmCSB_container=$this.find(\".mCSB_container\");\r\n\t\t\tswitch(callback){\r\n\t\t\t\t/*start scrolling callback*/\r\n\t\t\t\tcase \"onScrollStart\":\r\n\t\t\t\t\tif(!mCSB_container.is(\":animated\")){\r\n\t\t\t\t\t\t$this.data(\"onScrollStart_Callback\").call();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t/*end scrolling callback*/\r\n\t\t\t\tcase \"onScroll\":\r\n\t\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\t\tvar mCSB_containerX=Math.round(mCSB_container.position().left);\r\n\t\t\t\t\t\tif(mCSB_containerX<0 && mCSB_containerX<=mCustomScrollBox.width()-mCSB_container.outerWidth()+$this.data(\"onTotalScroll_Offset\")){\r\n\t\t\t\t\t\t\t$this.data(\"onTotalScroll_Callback\").call();\r\n\t\t\t\t\t\t}else if(mCSB_containerX>=-$this.data(\"onTotalScroll_Offset\")){\r\n\t\t\t\t\t\t\t$this.data(\"onTotalScrollBack_Callback\").call();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t$this.data(\"onScroll_Callback\").call();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar mCSB_containerY=Math.round(mCSB_container.position().top);\r\n\t\t\t\t\t\tif(mCSB_containerY<0 && mCSB_containerY<=mCustomScrollBox.height()-mCSB_container.outerHeight()+$this.data(\"onTotalScroll_Offset\")){\r\n\t\t\t\t\t\t\t$this.data(\"onTotalScroll_Callback\").call();\r\n\t\t\t\t\t\t}else if(mCSB_containerY>=-$this.data(\"onTotalScroll_Offset\")){\r\n\t\t\t\t\t\t\t$this.data(\"onTotalScrollBack_Callback\").call();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t$this.data(\"onScroll_Callback\").call();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t/*while scrolling callback*/\r\n\t\t\t\tcase \"whileScrolling\":\r\n\t\t\t\t\tif($this.data(\"whileScrolling_Callback\") && !$this.data(\"whileScrolling\")){\r\n\t\t\t\t\t\t$this.data({\"whileScrolling\":setInterval(function(){\r\n\t\t\t\t\t\t\tif(mCSB_container.is(\":animated\") && !$this.data(\"mCS_Init\")){\r\n\t\t\t\t\t\t\t\t$this.data(\"whileScrolling_Callback\").call();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},$this.data(\"whileScrolling_Interval\"))});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdisable:function(resetScroll){\r\n\t\t\tvar $this=$(this),\r\n\t\t\t\tmCustomScrollBox=$this.children(\".mCustomScrollBox\"),\r\n\t\t\t\tmCSB_container=mCustomScrollBox.children(\".mCSB_container\"),\r\n\t\t\t\tmCSB_scrollTools=mCustomScrollBox.children(\".mCSB_scrollTools\"),\r\n\t\t\t\tmCSB_dragger=mCSB_scrollTools.find(\".mCSB_dragger\");\r\n\t\t\tmCustomScrollBox.unbind(\"mousewheel focusin\");\r\n\t\t\tif(resetScroll){\r\n\t\t\t\tif($this.data(\"horizontalScroll\")){\r\n\t\t\t\t\tmCSB_dragger.add(mCSB_container).css(\"left\",0);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tmCSB_dragger.add(mCSB_container).css(\"top\",0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tmCSB_scrollTools.css(\"display\",\"none\");\r\n\t\t\tmCSB_container.addClass(\"mCS_no_scrollbar\");\r\n\t\t\t$this.data({\"bindEvent_mousewheel\":false,\"bindEvent_focusin\":false}).addClass(\"mCS_disabled\");\r\n\t\t},\r\n\t\tdestroy:function(){\r\n\t\t\tvar $this=$(this),\r\n\t\t\t\tcontent=$this.find(\".mCSB_container\").html();\r\n\t\t\t$this.find(\".mCustomScrollBox\").remove();\r\n\t\t\t$this.html(content).removeClass(\"mCustomScrollbar _mCS_\"+$(document).data(\"mCustomScrollbar-index\")).addClass(\"mCS_destroyed\");\r\n\t\t}\r\n\t}\r\n\t$.fn.mCustomScrollbar=function(method){\r\n\t\tif(methods[method]){\r\n\t\t\treturn methods[method].apply(this,Array.prototype.slice.call(arguments,1));\r\n\t\t}else if(typeof method===\"object\" || !method){\r\n\t\t\treturn methods.init.apply(this,arguments);\r\n\t\t}else{\r\n\t\t\t$.error(\"Method \"+method+\" does not exist\");\r\n\t\t}\r\n\t};\r\n})(jQuery); \r\n/*iOS 6 bug fix \r\n  iOS 6 suffers from a bug that kills timers that are created while a page is scrolling. \r\n  The following fixes that problem by recreating timers after scrolling finishes (with interval correction).*/\r\nvar iOSVersion=iOSVersion();\r\nif(iOSVersion>=6){\r\n\t(function(h){var a={};var d={};var e=h.setTimeout;var f=h.setInterval;var i=h.clearTimeout;var c=h.clearInterval;if(!h.addEventListener){return false}function j(q,n,l){var p,k=l[0],m=(q===f);function o(){if(k){k.apply(h,arguments);if(!m){delete n[p];k=null}}}l[0]=o;p=q.apply(h,l);n[p]={args:l,created:Date.now(),cb:k,id:p};return p}function b(q,o,k,r,t){var l=k[r];if(!l){return}var m=(q===f);o(l.id);if(!m){var n=l.args[1];var p=Date.now()-l.created;if(p<0){p=0}n-=p;if(n<0){n=0}l.args[1]=n}function s(){if(l.cb){l.cb.apply(h,arguments);if(!m){delete k[r];l.cb=null}}}l.args[0]=s;l.created=Date.now();l.id=q.apply(h,l.args)}h.setTimeout=function(){return j(e,a,arguments)};h.setInterval=function(){return j(f,d,arguments)};h.clearTimeout=function(l){var k=a[l];if(k){delete a[l];i(k.id)}};h.clearInterval=function(l){var k=d[l];if(k){delete d[l];c(k.id)}};var g=h;while(g.location!=g.parent.location){g=g.parent}g.addEventListener(\"scroll\",function(){var k;for(k in a){b(e,i,a,k)}for(k in d){b(f,c,d,k)}})}(window));\r\n}\r\nfunction iOSVersion(){\r\n\tvar agent=window.navigator.userAgent,\r\n\t\tstart=agent.indexOf('OS ');\r\n\tif((agent.indexOf('iPhone')>-1 || agent.indexOf('iPad')>-1) && start>-1){\r\n\t\treturn window.Number(agent.substr(start+3,3).replace('_','.'));\r\n\t}\r\n\treturn 0;\r\n}","/*! Javascript plotting library for jQuery, v. 0.7.\n *\n * Released under the MIT license by IOLA, December 2007.\n *\n */\n\n// first an inline dependency, jquery.colorhelpers.js, we inline it here\n// for convenience\n\n/* Plugin for jQuery for working with colors.\n * \n * Version 1.1.\n * \n * Inspiration from jQuery color animation plugin by John Resig.\n *\n * Released under the MIT license by Ole Laursen, October 2009.\n *\n * Examples:\n *\n *   $.color.parse(\"#fff\").scale('rgb', 0.25).add('a', -0.5).toString()\n *   var c = $.color.extract($(\"#mydiv\"), 'background-color');\n *   console.log(c.r, c.g, c.b, c.a);\n *   $.color.make(100, 50, 25, 0.4).toString() // returns \"rgba(100,50,25,0.4)\"\n *\n * Note that .scale() and .add() return the same modified object\n * instead of making a new one.\n *\n * V. 1.1: Fix error handling so e.g. parsing an empty string does\n * produce a color rather than just crashing.\n */ \n(function(B){B.color={};B.color.make=function(F,E,C,D){var G={};G.r=F||0;G.g=E||0;G.b=C||0;G.a=D!=null?D:1;G.add=function(J,I){for(var H=0;H<J.length;++H){G[J.charAt(H)]+=I}return G.normalize()};G.scale=function(J,I){for(var H=0;H<J.length;++H){G[J.charAt(H)]*=I}return G.normalize()};G.toString=function(){if(G.a>=1){return\"rgb(\"+[G.r,G.g,G.b].join(\",\")+\")\"}else{return\"rgba(\"+[G.r,G.g,G.b,G.a].join(\",\")+\")\"}};G.normalize=function(){function H(J,K,I){return K<J?J:(K>I?I:K)}G.r=H(0,parseInt(G.r),255);G.g=H(0,parseInt(G.g),255);G.b=H(0,parseInt(G.b),255);G.a=H(0,G.a,1);return G};G.clone=function(){return B.color.make(G.r,G.b,G.g,G.a)};return G.normalize()};B.color.extract=function(D,C){var E;do{E=D.css(C).toLowerCase();if(E!=\"\"&&E!=\"transparent\"){break}D=D.parent()}while(!B.nodeName(D.get(0),\"body\"));if(E==\"rgba(0, 0, 0, 0)\"){E=\"transparent\"}return B.color.parse(E)};B.color.parse=function(F){var E,C=B.color.make;if(E=/rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/.exec(F)){return C(parseInt(E[1],10),parseInt(E[2],10),parseInt(E[3],10))}if(E=/rgba\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(F)){return C(parseInt(E[1],10),parseInt(E[2],10),parseInt(E[3],10),parseFloat(E[4]))}if(E=/rgb\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*\\)/.exec(F)){return C(parseFloat(E[1])*2.55,parseFloat(E[2])*2.55,parseFloat(E[3])*2.55)}if(E=/rgba\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(F)){return C(parseFloat(E[1])*2.55,parseFloat(E[2])*2.55,parseFloat(E[3])*2.55,parseFloat(E[4]))}if(E=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(F)){return C(parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16))}if(E=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(F)){return C(parseInt(E[1]+E[1],16),parseInt(E[2]+E[2],16),parseInt(E[3]+E[3],16))}var D=B.trim(F).toLowerCase();if(D==\"transparent\"){return C(255,255,255,0)}else{E=A[D]||[0,0,0];return C(E[0],E[1],E[2])}};var A={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);\n\n// the actual Flot code\n(function($) {\n    function Plot(placeholder, data_, options_, plugins) {\n        // data is on the form:\n        //   [ series1, series2 ... ]\n        // where series is either just the data as [ [x1, y1], [x2, y2], ... ]\n        // or { data: [ [x1, y1], [x2, y2], ... ], label: \"some label\", ... }\n        \n        var series = [],\n            options = {\n                // the color theme used for graphs\n                colors: [\"#edc240\", \"#afd8f8\", \"#cb4b4b\", \"#4da74d\", \"#9440ed\"],\n                legend: {\n                    show: true,\n                    noColumns: 1, // number of colums in legend table\n                    labelFormatter: null, // fn: string -> string\n                    labelBoxBorderColor: \"#ccc\", // border color for the little label boxes\n                    container: null, // container (as jQuery object) to put legend in, null means default on top of graph\n                    position: \"ne\", // position of default legend container within plot\n                    margin: 5, // distance from grid edge to default legend container within plot\n                    backgroundColor: null, // null means auto-detect\n                    backgroundOpacity: 0.85 // set to 0 to avoid background\n                },\n                xaxis: {\n                    show: null, // null = auto-detect, true = always, false = never\n                    position: \"bottom\", // or \"top\"\n                    mode: null, // null or \"time\"\n                    color: null, // base color, labels, ticks\n                    tickColor: null, // possibly different color of ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    transform: null, // null or f: number -> number to transform axis\n                    inverseTransform: null, // if transform is set, this should be the inverse function\n                    min: null, // min. value to show, null means set automatically\n                    max: null, // max. value to show, null means set automatically\n                    autoscaleMargin: null, // margin in % to add if auto-setting min/max\n                    ticks: null, // either [1, 3] or [[1, \"a\"], 3] or (fn: axis info -> ticks) or app. number of ticks for auto-ticks\n                    tickFormatter: null, // fn: number -> string\n                    labelWidth: null, // size of tick labels in pixels\n                    labelHeight: null,\n                    reserveSpace: null, // whether to reserve space even if axis isn't shown\n                    tickLength: null, // size in pixels of ticks, or \"full\" for whole line\n                    alignTicksWithAxis: null, // axis number or null for no sync\n                    \n                    // mode specific options\n                    tickDecimals: null, // no. of decimals, null means auto\n                    tickSize: null, // number or [number, \"unit\"]\n                    minTickSize: null, // number or [number, \"unit\"]\n                    monthNames: null, // list of names of months\n                    timeformat: null, // format string to use\n                    twelveHourClock: false // 12 or 24 time in time mode\n                },\n                yaxis: {\n                    autoscaleMargin: 0.02,\n                    position: \"left\" // or \"right\"\n                },\n                xaxes: [],\n                yaxes: [],\n                series: {\n                    points: {\n                        show: false,\n                        radius: 3,\n                        lineWidth: 2, // in pixels\n                        fill: true,\n                        fillColor: \"#ffffff\",\n                        symbol: \"circle\" // or callback\n                    },\n                    lines: {\n                        // we don't put in show: false so we can see\n                        // whether lines were actively disabled \n                        lineWidth: 2, // in pixels\n                        fill: false,\n                        fillColor: null,\n                        steps: false\n                    },\n                    bars: {\n                        show: false,\n                        lineWidth: 2, // in pixels\n                        barWidth: 1, // in units of the x axis\n                        fill: true,\n                        fillColor: null,\n                        align: \"left\", // or \"center\" \n                        horizontal: false\n                    },\n                    shadowSize: 3\n                },\n                grid: {\n                    show: true,\n                    aboveData: false,\n                    color: \"#545454\", // primary color used for outline and labels\n                    backgroundColor: null, // null for transparent, else color\n                    borderColor: null, // set if different from the grid color\n                    tickColor: null, // color for the ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    labelMargin: 5, // in pixels\n                    axisMargin: 8, // in pixels\n                    borderWidth: 2, // in pixels\n                    minBorderMargin: null, // in pixels, null means taken from points radius\n                    markings: null, // array of ranges or fn: axes -> array of ranges\n                    markingsColor: \"#f4f4f4\",\n                    markingsLineWidth: 2,\n                    // interactive stuff\n                    clickable: false,\n                    hoverable: false,\n                    autoHighlight: true, // highlight in case mouse is near\n                    mouseActiveRadius: 10 // how far the mouse can be away to activate an item\n                },\n                hooks: {}\n            },\n        canvas = null,      // the canvas for the plot itself\n        overlay = null,     // canvas for interactive stuff on top of plot\n        eventHolder = null, // jQuery object that events should be bound to\n        ctx = null, octx = null,\n        xaxes = [], yaxes = [],\n        plotOffset = { left: 0, right: 0, top: 0, bottom: 0},\n        canvasWidth = 0, canvasHeight = 0,\n        plotWidth = 0, plotHeight = 0,\n        hooks = {\n            processOptions: [],\n            processRawData: [],\n            processDatapoints: [],\n            drawSeries: [],\n            draw: [],\n            bindEvents: [],\n            drawOverlay: [],\n            shutdown: []\n        },\n        plot = this;\n\n        // public functions\n        plot.setData = setData;\n        plot.setupGrid = setupGrid;\n        plot.draw = draw;\n        plot.getPlaceholder = function() { return placeholder; };\n        plot.getCanvas = function() { return canvas; };\n        plot.getPlotOffset = function() { return plotOffset; };\n        plot.width = function () { return plotWidth; };\n        plot.height = function () { return plotHeight; };\n        plot.offset = function () {\n            var o = eventHolder.offset();\n            o.left += plotOffset.left;\n            o.top += plotOffset.top;\n            return o;\n        };\n        plot.getData = function () { return series; };\n        plot.getAxes = function () {\n            var res = {}, i;\n            $.each(xaxes.concat(yaxes), function (_, axis) {\n                if (axis)\n                    res[axis.direction + (axis.n != 1 ? axis.n : \"\") + \"axis\"] = axis;\n            });\n            return res;\n        };\n        plot.getXAxes = function () { return xaxes; };\n        plot.getYAxes = function () { return yaxes; };\n        plot.c2p = canvasToAxisCoords;\n        plot.p2c = axisToCanvasCoords;\n        plot.getOptions = function () { return options; };\n        plot.highlight = highlight;\n        plot.unhighlight = unhighlight;\n        plot.triggerRedrawOverlay = triggerRedrawOverlay;\n        plot.pointOffset = function(point) {\n            return {\n                left: parseInt(xaxes[axisNumber(point, \"x\") - 1].p2c(+point.x) + plotOffset.left),\n                top: parseInt(yaxes[axisNumber(point, \"y\") - 1].p2c(+point.y) + plotOffset.top)\n            };\n        };\n        plot.shutdown = shutdown;\n        plot.resize = function () {\n            getCanvasDimensions();\n            resizeCanvas(canvas);\n            resizeCanvas(overlay);\n        };\n\n        // public attributes\n        plot.hooks = hooks;\n        \n        // initialize\n        initPlugins(plot);\n        parseOptions(options_);\n        setupCanvases();\n        setData(data_);\n        setupGrid();\n        draw();\n        bindEvents();\n\n\n        function executeHooks(hook, args) {\n            args = [plot].concat(args);\n            for (var i = 0; i < hook.length; ++i)\n                hook[i].apply(this, args);\n        }\n\n        function initPlugins() {\n            for (var i = 0; i < plugins.length; ++i) {\n                var p = plugins[i];\n                p.init(plot);\n                if (p.options)\n                    $.extend(true, options, p.options);\n            }\n        }\n        \n        function parseOptions(opts) {\n            var i;\n            \n            $.extend(true, options, opts);\n            \n            if (options.xaxis.color == null)\n                options.xaxis.color = options.grid.color;\n            if (options.yaxis.color == null)\n                options.yaxis.color = options.grid.color;\n            \n            if (options.xaxis.tickColor == null) // backwards-compatibility\n                options.xaxis.tickColor = options.grid.tickColor;\n            if (options.yaxis.tickColor == null) // backwards-compatibility\n                options.yaxis.tickColor = options.grid.tickColor;\n\n            if (options.grid.borderColor == null)\n                options.grid.borderColor = options.grid.color;\n            if (options.grid.tickColor == null)\n                options.grid.tickColor = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n            \n            // fill in defaults in axes, copy at least always the\n            // first as the rest of the code assumes it'll be there\n            for (i = 0; i < Math.max(1, options.xaxes.length); ++i)\n                options.xaxes[i] = $.extend(true, {}, options.xaxis, options.xaxes[i]);\n            for (i = 0; i < Math.max(1, options.yaxes.length); ++i)\n                options.yaxes[i] = $.extend(true, {}, options.yaxis, options.yaxes[i]);\n\n            // backwards compatibility, to be removed in future\n            if (options.xaxis.noTicks && options.xaxis.ticks == null)\n                options.xaxis.ticks = options.xaxis.noTicks;\n            if (options.yaxis.noTicks && options.yaxis.ticks == null)\n                options.yaxis.ticks = options.yaxis.noTicks;\n            if (options.x2axis) {\n                options.xaxes[1] = $.extend(true, {}, options.xaxis, options.x2axis);\n                options.xaxes[1].position = \"top\";\n            }\n            if (options.y2axis) {\n                options.yaxes[1] = $.extend(true, {}, options.yaxis, options.y2axis);\n                options.yaxes[1].position = \"right\";\n            }\n            if (options.grid.coloredAreas)\n                options.grid.markings = options.grid.coloredAreas;\n            if (options.grid.coloredAreasColor)\n                options.grid.markingsColor = options.grid.coloredAreasColor;\n            if (options.lines)\n                $.extend(true, options.series.lines, options.lines);\n            if (options.points)\n                $.extend(true, options.series.points, options.points);\n            if (options.bars)\n                $.extend(true, options.series.bars, options.bars);\n            if (options.shadowSize != null)\n                options.series.shadowSize = options.shadowSize;\n\n            // save options on axes for future reference\n            for (i = 0; i < options.xaxes.length; ++i)\n                getOrCreateAxis(xaxes, i + 1).options = options.xaxes[i];\n            for (i = 0; i < options.yaxes.length; ++i)\n                getOrCreateAxis(yaxes, i + 1).options = options.yaxes[i];\n\n            // add hooks from options\n            for (var n in hooks)\n                if (options.hooks[n] && options.hooks[n].length)\n                    hooks[n] = hooks[n].concat(options.hooks[n]);\n\n            executeHooks(hooks.processOptions, [options]);\n        }\n\n        function setData(d) {\n            series = parseData(d);\n            fillInSeriesOptions();\n            processData();\n        }\n        \n        function parseData(d) {\n            var res = [];\n            for (var i = 0; i < d.length; ++i) {\n                var s = $.extend(true, {}, options.series);\n\n                if (d[i].data != null) {\n                    s.data = d[i].data; // move the data instead of deep-copy\n                    delete d[i].data;\n\n                    $.extend(true, s, d[i]);\n\n                    d[i].data = s.data;\n                }\n                else\n                    s.data = d[i];\n                res.push(s);\n            }\n\n            return res;\n        }\n        \n        function axisNumber(obj, coord) {\n            var a = obj[coord + \"axis\"];\n            if (typeof a == \"object\") // if we got a real axis, extract number\n                a = a.n;\n            if (typeof a != \"number\")\n                a = 1; // default to first axis\n            return a;\n        }\n\n        function allAxes() {\n            // return flat array without annoying null entries\n            return $.grep(xaxes.concat(yaxes), function (a) { return a; });\n        }\n        \n        function canvasToAxisCoords(pos) {\n            // return an object with x/y corresponding to all used axes \n            var res = {}, i, axis;\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used)\n                    res[\"x\" + axis.n] = axis.c2p(pos.left);\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used)\n                    res[\"y\" + axis.n] = axis.c2p(pos.top);\n            }\n            \n            if (res.x1 !== undefined)\n                res.x = res.x1;\n            if (res.y1 !== undefined)\n                res.y = res.y1;\n\n            return res;\n        }\n        \n        function axisToCanvasCoords(pos) {\n            // get canvas coords from the first pair of x/y found in pos\n            var res = {}, i, axis, key;\n\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used) {\n                    key = \"x\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"x\";\n\n                    if (pos[key] != null) {\n                        res.left = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n            \n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used) {\n                    key = \"y\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"y\";\n\n                    if (pos[key] != null) {\n                        res.top = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n            \n            return res;\n        }\n        \n        function getOrCreateAxis(axes, number) {\n            if (!axes[number - 1])\n                axes[number - 1] = {\n                    n: number, // save the number for future reference\n                    direction: axes == xaxes ? \"x\" : \"y\",\n                    options: $.extend(true, {}, axes == xaxes ? options.xaxis : options.yaxis)\n                };\n                \n            return axes[number - 1];\n        }\n\n        function fillInSeriesOptions() {\n            var i;\n            \n            // collect what we already got of colors\n            var neededColors = series.length,\n                usedColors = [],\n                assignedColors = [];\n            for (i = 0; i < series.length; ++i) {\n                var sc = series[i].color;\n                if (sc != null) {\n                    --neededColors;\n                    if (typeof sc == \"number\")\n                        assignedColors.push(sc);\n                    else\n                        usedColors.push($.color.parse(series[i].color));\n                }\n            }\n            \n            // we might need to generate more colors if higher indices\n            // are assigned\n            for (i = 0; i < assignedColors.length; ++i) {\n                neededColors = Math.max(neededColors, assignedColors[i] + 1);\n            }\n\n            // produce colors as needed\n            var colors = [], variation = 0;\n            i = 0;\n            while (colors.length < neededColors) {\n                var c;\n                if (options.colors.length == i) // check degenerate case\n                    c = $.color.make(100, 100, 100);\n                else\n                    c = $.color.parse(options.colors[i]);\n\n                // vary color if needed\n                var sign = variation % 2 == 1 ? -1 : 1;\n                c.scale('rgb', 1 + sign * Math.ceil(variation / 2) * 0.2)\n\n                // FIXME: if we're getting to close to something else,\n                // we should probably skip this one\n                colors.push(c);\n                \n                ++i;\n                if (i >= options.colors.length) {\n                    i = 0;\n                    ++variation;\n                }\n            }\n\n            // fill in the options\n            var colori = 0, s;\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                \n                // assign colors\n                if (s.color == null) {\n                    s.color = colors[colori].toString();\n                    ++colori;\n                }\n                else if (typeof s.color == \"number\")\n                    s.color = colors[s.color].toString();\n\n                // turn on lines automatically in case nothing is set\n                if (s.lines.show == null) {\n                    var v, show = true;\n                    for (v in s)\n                        if (s[v] && s[v].show) {\n                            show = false;\n                            break;\n                        }\n                    if (show)\n                        s.lines.show = true;\n                }\n\n                // setup axes\n                s.xaxis = getOrCreateAxis(xaxes, axisNumber(s, \"x\"));\n                s.yaxis = getOrCreateAxis(yaxes, axisNumber(s, \"y\"));\n            }\n        }\n        \n        function processData() {\n            var topSentry = Number.POSITIVE_INFINITY,\n                bottomSentry = Number.NEGATIVE_INFINITY,\n                fakeInfinity = Number.MAX_VALUE,\n                i, j, k, m, length,\n                s, points, ps, x, y, axis, val, f, p;\n\n            function updateAxis(axis, min, max) {\n                if (min < axis.datamin && min != -fakeInfinity)\n                    axis.datamin = min;\n                if (max > axis.datamax && max != fakeInfinity)\n                    axis.datamax = max;\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                // init axis\n                axis.datamin = topSentry;\n                axis.datamax = bottomSentry;\n                axis.used = false;\n            });\n            \n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                s.datapoints = { points: [] };\n                \n                executeHooks(hooks.processRawData, [ s, s.data, s.datapoints ]);\n            }\n            \n            // first pass: clean and copy data\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                var data = s.data, format = s.datapoints.format;\n\n                if (!format) {\n                    format = [];\n                    // find out how to copy\n                    format.push({ x: true, number: true, required: true });\n                    format.push({ y: true, number: true, required: true });\n\n                    if (s.bars.show || (s.lines.show && s.lines.fill)) {\n                        format.push({ y: true, number: true, required: false, defaultValue: 0 });\n                        if (s.bars.horizontal) {\n                            delete format[format.length - 1].y;\n                            format[format.length - 1].x = true;\n                        }\n                    }\n                    \n                    s.datapoints.format = format;\n                }\n\n                if (s.datapoints.pointsize != null)\n                    continue; // already filled in\n\n                s.datapoints.pointsize = format.length;\n                \n                ps = s.datapoints.pointsize;\n                points = s.datapoints.points;\n\n                insertSteps = s.lines.show && s.lines.steps;\n                s.xaxis.used = s.yaxis.used = true;\n                \n                for (j = k = 0; j < data.length; ++j, k += ps) {\n                    p = data[j];\n\n                    var nullify = p == null;\n                    if (!nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = p[m];\n                            f = format[m];\n\n                            if (f) {\n                                if (f.number && val != null) {\n                                    val = +val; // convert to number\n                                    if (isNaN(val))\n                                        val = null;\n                                    else if (val == Infinity)\n                                        val = fakeInfinity;\n                                    else if (val == -Infinity)\n                                        val = -fakeInfinity;\n                                }\n\n                                if (val == null) {\n                                    if (f.required)\n                                        nullify = true;\n                                    \n                                    if (f.defaultValue != null)\n                                        val = f.defaultValue;\n                                }\n                            }\n                            \n                            points[k + m] = val;\n                        }\n                    }\n                    \n                    if (nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = points[k + m];\n                            if (val != null) {\n                                f = format[m];\n                                // extract min/max info\n                                if (f.x)\n                                    updateAxis(s.xaxis, val, val);\n                                if (f.y)\n                                    updateAxis(s.yaxis, val, val);\n                            }\n                            points[k + m] = null;\n                        }\n                    }\n                    else {\n                        // a little bit of line specific stuff that\n                        // perhaps shouldn't be here, but lacking\n                        // better means...\n                        if (insertSteps && k > 0\n                            && points[k - ps] != null\n                            && points[k - ps] != points[k]\n                            && points[k - ps + 1] != points[k + 1]) {\n                            // copy the point to make room for a middle point\n                            for (m = 0; m < ps; ++m)\n                                points[k + ps + m] = points[k + m];\n\n                            // middle point has same y\n                            points[k + 1] = points[k - ps + 1];\n\n                            // we've added a point, better reflect that\n                            k += ps;\n                        }\n                    }\n                }\n            }\n\n            // give the hooks a chance to run\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                \n                executeHooks(hooks.processDatapoints, [ s, s.datapoints]);\n            }\n\n            // second pass: find datamax/datamin for auto-scaling\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                points = s.datapoints.points,\n                ps = s.datapoints.pointsize;\n\n                var xmin = topSentry, ymin = topSentry,\n                    xmax = bottomSentry, ymax = bottomSentry;\n                \n                for (j = 0; j < points.length; j += ps) {\n                    if (points[j] == null)\n                        continue;\n\n                    for (m = 0; m < ps; ++m) {\n                        val = points[j + m];\n                        f = format[m];\n                        if (!f || val == fakeInfinity || val == -fakeInfinity)\n                            continue;\n                        \n                        if (f.x) {\n                            if (val < xmin)\n                                xmin = val;\n                            if (val > xmax)\n                                xmax = val;\n                        }\n                        if (f.y) {\n                            if (val < ymin)\n                                ymin = val;\n                            if (val > ymax)\n                                ymax = val;\n                        }\n                    }\n                }\n                \n                if (s.bars.show) {\n                    // make sure we got room for the bar on the dancing floor\n                    var delta = s.bars.align == \"left\" ? 0 : -s.bars.barWidth/2;\n                    if (s.bars.horizontal) {\n                        ymin += delta;\n                        ymax += delta + s.bars.barWidth;\n                    }\n                    else {\n                        xmin += delta;\n                        xmax += delta + s.bars.barWidth;\n                    }\n                }\n                \n                updateAxis(s.xaxis, xmin, xmax);\n                updateAxis(s.yaxis, ymin, ymax);\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                if (axis.datamin == topSentry)\n                    axis.datamin = null;\n                if (axis.datamax == bottomSentry)\n                    axis.datamax = null;\n            });\n        }\n\n        function makeCanvas(skipPositioning, cls) {\n            var c = document.createElement('canvas');\n            c.className = cls;\n            c.width = canvasWidth;\n            c.height = canvasHeight;\n                    \n            if (!skipPositioning)\n                $(c).css({ position: 'absolute', left: 0, top: 0 });\n                \n            $(c).appendTo(placeholder);\n                \n            if (!c.getContext) // excanvas hack\n                c = window.G_vmlCanvasManager.initElement(c);\n\n            // used for resetting in case we get replotted\n            c.getContext(\"2d\").save();\n            \n            return c;\n        }\n\n        function getCanvasDimensions() {\n            canvasWidth = placeholder.width();\n            canvasHeight = placeholder.height();\n            \n            if (canvasWidth <= 0 || canvasHeight <= 0)\n                throw \"Invalid dimensions for plot, width = \" + canvasWidth + \", height = \" + canvasHeight;\n        }\n\n        function resizeCanvas(c) {\n            // resizing should reset the state (excanvas seems to be\n            // buggy though)\n            if (c.width != canvasWidth)\n                c.width = canvasWidth;\n\n            if (c.height != canvasHeight)\n                c.height = canvasHeight;\n\n            // so try to get back to the initial state (even if it's\n            // gone now, this should be safe according to the spec)\n            var cctx = c.getContext(\"2d\");\n            cctx.restore();\n\n            // and save again\n            cctx.save();\n        }\n        \n        function setupCanvases() {\n            var reused,\n                existingCanvas = placeholder.children(\"canvas.base\"),\n                existingOverlay = placeholder.children(\"canvas.overlay\");\n\n            if (existingCanvas.length == 0 || existingOverlay == 0) {\n                // init everything\n                \n                placeholder.html(\"\"); // make sure placeholder is clear\n            \n                placeholder.css({ padding: 0 }); // padding messes up the positioning\n                \n                if (placeholder.css(\"position\") == 'static')\n                    placeholder.css(\"position\", \"relative\"); // for positioning labels and overlay\n\n                getCanvasDimensions();\n                \n                canvas = makeCanvas(true, \"base\");\n                overlay = makeCanvas(false, \"overlay\"); // overlay canvas for interactive features\n\n                reused = false;\n            }\n            else {\n                // reuse existing elements\n\n                canvas = existingCanvas.get(0);\n                overlay = existingOverlay.get(0);\n\n                reused = true;\n            }\n\n            ctx = canvas.getContext(\"2d\");\n            octx = overlay.getContext(\"2d\");\n\n            // we include the canvas in the event holder too, because IE 7\n            // sometimes has trouble with the stacking order\n            eventHolder = $([overlay, canvas]);\n\n            if (reused) {\n                // run shutdown in the old plot object\n                placeholder.data(\"plot\").shutdown();\n\n                // reset reused canvases\n                plot.resize();\n                \n                // make sure overlay pixels are cleared (canvas is cleared when we redraw)\n                octx.clearRect(0, 0, canvasWidth, canvasHeight);\n                \n                // then whack any remaining obvious garbage left\n                eventHolder.unbind();\n                placeholder.children().not([canvas, overlay]).remove();\n            }\n\n            // save in case we get replotted\n            placeholder.data(\"plot\", plot);\n        }\n\n        function bindEvents() {\n            // bind events\n            if (options.grid.hoverable) {\n                eventHolder.mousemove(onMouseMove);\n                eventHolder.mouseleave(onMouseLeave);\n            }\n\n            if (options.grid.clickable)\n                eventHolder.click(onClick);\n\n            executeHooks(hooks.bindEvents, [eventHolder]);\n        }\n\n        function shutdown() {\n            if (redrawTimeout)\n                clearTimeout(redrawTimeout);\n            \n            eventHolder.unbind(\"mousemove\", onMouseMove);\n            eventHolder.unbind(\"mouseleave\", onMouseLeave);\n            eventHolder.unbind(\"click\", onClick);\n            \n            executeHooks(hooks.shutdown, [eventHolder]);\n        }\n\n        function setTransformationHelpers(axis) {\n            // set helper functions on the axis, assumes plot area\n            // has been computed already\n            \n            function identity(x) { return x; }\n            \n            var s, m, t = axis.options.transform || identity,\n                it = axis.options.inverseTransform;\n            \n            // precompute how much the axis is scaling a point\n            // in canvas space\n            if (axis.direction == \"x\") {\n                s = axis.scale = plotWidth / Math.abs(t(axis.max) - t(axis.min));\n                m = Math.min(t(axis.max), t(axis.min));\n            }\n            else {\n                s = axis.scale = plotHeight / Math.abs(t(axis.max) - t(axis.min));\n                s = -s;\n                m = Math.max(t(axis.max), t(axis.min));\n            }\n\n            // data point to canvas coordinate\n            if (t == identity) // slight optimization\n                axis.p2c = function (p) { return (p - m) * s; };\n            else\n                axis.p2c = function (p) { return (t(p) - m) * s; };\n            // canvas coordinate to data point\n            if (!it)\n                axis.c2p = function (c) { return m + c / s; };\n            else\n                axis.c2p = function (c) { return it(m + c / s); };\n        }\n\n        function measureTickLabels(axis) {\n            var opts = axis.options, i, ticks = axis.ticks || [], labels = [],\n                l, w = opts.labelWidth, h = opts.labelHeight, dummyDiv;\n\n            function makeDummyDiv(labels, width) {\n                return $('<div style=\"position:absolute;top:-10000px;' + width + 'font-size:smaller\">' +\n                         '<div class=\"' + axis.direction + 'Axis ' + axis.direction + axis.n + 'Axis\">'\n                         + labels.join(\"\") + '</div></div>')\n                    .appendTo(placeholder);\n            }\n            \n            if (axis.direction == \"x\") {\n                // to avoid measuring the widths of the labels (it's slow), we\n                // construct fixed-size boxes and put the labels inside\n                // them, we don't need the exact figures and the\n                // fixed-size box content is easy to center\n                if (w == null)\n                    w = Math.floor(canvasWidth / (ticks.length > 0 ? ticks.length : 1));\n\n                // measure x label heights\n                if (h == null) {\n                    labels = [];\n                    for (i = 0; i < ticks.length; ++i) {\n                        l = ticks[i].label;\n                        if (l)\n                            labels.push('<div class=\"tickLabel\" style=\"float:left;width:' + w + 'px\">' + l + '</div>');\n                    }\n\n                    if (labels.length > 0) {\n                        // stick them all in the same div and measure\n                        // collective height\n                        labels.push('<div style=\"clear:left\"></div>');\n                        dummyDiv = makeDummyDiv(labels, \"width:10000px;\");\n                        h = dummyDiv.height();\n                        dummyDiv.remove();\n                    }\n                }\n            }\n            else if (w == null || h == null) {\n                // calculate y label dimensions\n                for (i = 0; i < ticks.length; ++i) {\n                    l = ticks[i].label;\n                    if (l)\n                        labels.push('<div class=\"tickLabel\">' + l + '</div>');\n                }\n                \n                if (labels.length > 0) {\n                    dummyDiv = makeDummyDiv(labels, \"\");\n                    if (w == null)\n                        w = dummyDiv.children().width();\n                    if (h == null)\n                        h = dummyDiv.find(\"div.tickLabel\").height();\n                    dummyDiv.remove();\n                }\n            }\n\n            if (w == null)\n                w = 0;\n            if (h == null)\n                h = 0;\n\n            axis.labelWidth = w;\n            axis.labelHeight = h;\n        }\n\n        function allocateAxisBoxFirstPhase(axis) {\n            // find the bounding box of the axis by looking at label\n            // widths/heights and ticks, make room by diminishing the\n            // plotOffset\n\n            var lw = axis.labelWidth,\n                lh = axis.labelHeight,\n                pos = axis.options.position,\n                tickLength = axis.options.tickLength,\n                axismargin = options.grid.axisMargin,\n                padding = options.grid.labelMargin,\n                all = axis.direction == \"x\" ? xaxes : yaxes,\n                index;\n\n            // determine axis margin\n            var samePosition = $.grep(all, function (a) {\n                return a && a.options.position == pos && a.reserveSpace;\n            });\n            if ($.inArray(axis, samePosition) == samePosition.length - 1)\n                axismargin = 0; // outermost\n\n            // determine tick length - if we're innermost, we can use \"full\"\n            if (tickLength == null)\n                tickLength = \"full\";\n\n            var sameDirection = $.grep(all, function (a) {\n                return a && a.reserveSpace;\n            });\n\n            var innermost = $.inArray(axis, sameDirection) == 0;\n            if (!innermost && tickLength == \"full\")\n                tickLength = 5;\n                \n            if (!isNaN(+tickLength))\n                padding += +tickLength;\n\n            // compute box\n            if (axis.direction == \"x\") {\n                lh += padding;\n                \n                if (pos == \"bottom\") {\n                    plotOffset.bottom += lh + axismargin;\n                    axis.box = { top: canvasHeight - plotOffset.bottom, height: lh };\n                }\n                else {\n                    axis.box = { top: plotOffset.top + axismargin, height: lh };\n                    plotOffset.top += lh + axismargin;\n                }\n            }\n            else {\n                lw += padding;\n                \n                if (pos == \"left\") {\n                    axis.box = { left: plotOffset.left + axismargin, width: lw };\n                    plotOffset.left += lw + axismargin;\n                }\n                else {\n                    plotOffset.right += lw + axismargin;\n                    axis.box = { left: canvasWidth - plotOffset.right, width: lw };\n                }\n            }\n\n             // save for future reference\n            axis.position = pos;\n            axis.tickLength = tickLength;\n            axis.box.padding = padding;\n            axis.innermost = innermost;\n        }\n\n        function allocateAxisBoxSecondPhase(axis) {\n            // set remaining bounding box coordinates\n            if (axis.direction == \"x\") {\n                axis.box.left = plotOffset.left;\n                axis.box.width = plotWidth;\n            }\n            else {\n                axis.box.top = plotOffset.top;\n                axis.box.height = plotHeight;\n            }\n        }\n        \n        function setupGrid() {\n            var i, axes = allAxes();\n\n            // first calculate the plot and axis box dimensions\n\n            $.each(axes, function (_, axis) {\n                axis.show = axis.options.show;\n                if (axis.show == null)\n                    axis.show = axis.used; // by default an axis is visible if it's got data\n                \n                axis.reserveSpace = axis.show || axis.options.reserveSpace;\n\n                setRange(axis);\n            });\n\n            allocatedAxes = $.grep(axes, function (axis) { return axis.reserveSpace; });\n\n            plotOffset.left = plotOffset.right = plotOffset.top = plotOffset.bottom = 0;\n            if (options.grid.show) {\n                $.each(allocatedAxes, function (_, axis) {\n                    // make the ticks\n                    setupTickGeneration(axis);\n                    setTicks(axis);\n                    snapRangeToTicks(axis, axis.ticks);\n\n                    // find labelWidth/Height for axis\n                    measureTickLabels(axis);\n                });\n\n                // with all dimensions in house, we can compute the\n                // axis boxes, start from the outside (reverse order)\n                for (i = allocatedAxes.length - 1; i >= 0; --i)\n                    allocateAxisBoxFirstPhase(allocatedAxes[i]);\n\n                // make sure we've got enough space for things that\n                // might stick out\n                var minMargin = options.grid.minBorderMargin;\n                if (minMargin == null) {\n                    minMargin = 0;\n                    for (i = 0; i < series.length; ++i)\n                        minMargin = Math.max(minMargin, series[i].points.radius + series[i].points.lineWidth/2);\n                }\n                    \n                for (var a in plotOffset) {\n                    plotOffset[a] += options.grid.borderWidth;\n                    plotOffset[a] = Math.max(minMargin, plotOffset[a]);\n                }\n            }\n            \n            plotWidth = canvasWidth - plotOffset.left - plotOffset.right;\n            plotHeight = canvasHeight - plotOffset.bottom - plotOffset.top;\n\n            // now we got the proper plotWidth/Height, we can compute the scaling\n            $.each(axes, function (_, axis) {\n                setTransformationHelpers(axis);\n            });\n\n            if (options.grid.show) {\n                $.each(allocatedAxes, function (_, axis) {\n                    allocateAxisBoxSecondPhase(axis);\n                });\n\n                insertAxisLabels();\n            }\n            \n            insertLegend();\n        }\n        \n        function setRange(axis) {\n            var opts = axis.options,\n                min = +(opts.min != null ? opts.min : axis.datamin),\n                max = +(opts.max != null ? opts.max : axis.datamax),\n                delta = max - min;\n\n            if (delta == 0.0) {\n                // degenerate case\n                var widen = max == 0 ? 1 : 0.01;\n\n                if (opts.min == null)\n                    min -= widen;\n                // always widen max if we couldn't widen min to ensure we\n                // don't fall into min == max which doesn't work\n                if (opts.max == null || opts.min != null)\n                    max += widen;\n            }\n            else {\n                // consider autoscaling\n                var margin = opts.autoscaleMargin;\n                if (margin != null) {\n                    if (opts.min == null) {\n                        min -= delta * margin;\n                        // make sure we don't go below zero if all values\n                        // are positive\n                        if (min < 0 && axis.datamin != null && axis.datamin >= 0)\n                            min = 0;\n                    }\n                    if (opts.max == null) {\n                        max += delta * margin;\n                        if (max > 0 && axis.datamax != null && axis.datamax <= 0)\n                            max = 0;\n                    }\n                }\n            }\n            axis.min = min;\n            axis.max = max;\n        }\n\n        function setupTickGeneration(axis) {\n            var opts = axis.options;\n                \n            // estimate number of ticks\n            var noTicks;\n            if (typeof opts.ticks == \"number\" && opts.ticks > 0)\n                noTicks = opts.ticks;\n            else\n                // heuristic based on the model a*sqrt(x) fitted to\n                // some data points that seemed reasonable\n                noTicks = 0.3 * Math.sqrt(axis.direction == \"x\" ? canvasWidth : canvasHeight);\n\n            var delta = (axis.max - axis.min) / noTicks,\n                size, generator, unit, formatter, i, magn, norm;\n\n            if (opts.mode == \"time\") {\n                // pretty handling of time\n                \n                // map of app. size of time units in milliseconds\n                var timeUnitSize = {\n                    \"second\": 1000,\n                    \"minute\": 60 * 1000,\n                    \"hour\": 60 * 60 * 1000,\n                    \"day\": 24 * 60 * 60 * 1000,\n                    \"month\": 30 * 24 * 60 * 60 * 1000,\n                    \"year\": 365.2425 * 24 * 60 * 60 * 1000\n                };\n\n\n                // the allowed tick sizes, after 1 year we use\n                // an integer algorithm\n                var spec = [\n                    [1, \"second\"], [2, \"second\"], [5, \"second\"], [10, \"second\"],\n                    [30, \"second\"], \n                    [1, \"minute\"], [2, \"minute\"], [5, \"minute\"], [10, \"minute\"],\n                    [30, \"minute\"], \n                    [1, \"hour\"], [2, \"hour\"], [4, \"hour\"],\n                    [8, \"hour\"], [12, \"hour\"],\n                    [1, \"day\"], [2, \"day\"], [3, \"day\"],\n                    [0.25, \"month\"], [0.5, \"month\"], [1, \"month\"],\n                    [2, \"month\"], [3, \"month\"], [6, \"month\"],\n                    [1, \"year\"]\n                ];\n\n                var minSize = 0;\n                if (opts.minTickSize != null) {\n                    if (typeof opts.tickSize == \"number\")\n                        minSize = opts.tickSize;\n                    else\n                        minSize = opts.minTickSize[0] * timeUnitSize[opts.minTickSize[1]];\n                }\n\n                for (var i = 0; i < spec.length - 1; ++i)\n                    if (delta < (spec[i][0] * timeUnitSize[spec[i][1]]\n                                 + spec[i + 1][0] * timeUnitSize[spec[i + 1][1]]) / 2\n                       && spec[i][0] * timeUnitSize[spec[i][1]] >= minSize)\n                        break;\n                size = spec[i][0];\n                unit = spec[i][1];\n                \n                // special-case the possibility of several years\n                if (unit == \"year\") {\n                    magn = Math.pow(10, Math.floor(Math.log(delta / timeUnitSize.year) / Math.LN10));\n                    norm = (delta / timeUnitSize.year) / magn;\n                    if (norm < 1.5)\n                        size = 1;\n                    else if (norm < 3)\n                        size = 2;\n                    else if (norm < 7.5)\n                        size = 5;\n                    else\n                        size = 10;\n\n                    size *= magn;\n                }\n\n                axis.tickSize = opts.tickSize || [size, unit];\n                \n                generator = function(axis) {\n                    var ticks = [],\n                        tickSize = axis.tickSize[0], unit = axis.tickSize[1],\n                        d = new Date(axis.min);\n                    \n                    var step = tickSize * timeUnitSize[unit];\n\n                    if (unit == \"second\")\n                        d.setUTCSeconds(floorInBase(d.getUTCSeconds(), tickSize));\n                    if (unit == \"minute\")\n                        d.setUTCMinutes(floorInBase(d.getUTCMinutes(), tickSize));\n                    if (unit == \"hour\")\n                        d.setUTCHours(floorInBase(d.getUTCHours(), tickSize));\n                    if (unit == \"month\")\n                        d.setUTCMonth(floorInBase(d.getUTCMonth(), tickSize));\n                    if (unit == \"year\")\n                        d.setUTCFullYear(floorInBase(d.getUTCFullYear(), tickSize));\n                    \n                    // reset smaller components\n                    d.setUTCMilliseconds(0);\n                    if (step >= timeUnitSize.minute)\n                        d.setUTCSeconds(0);\n                    if (step >= timeUnitSize.hour)\n                        d.setUTCMinutes(0);\n                    if (step >= timeUnitSize.day)\n                        d.setUTCHours(0);\n                    if (step >= timeUnitSize.day * 4)\n                        d.setUTCDate(1);\n                    if (step >= timeUnitSize.year)\n                        d.setUTCMonth(0);\n\n\n                    var carry = 0, v = Number.NaN, prev;\n                    do {\n                        prev = v;\n                        v = d.getTime();\n                        ticks.push(v);\n                        if (unit == \"month\") {\n                            if (tickSize < 1) {\n                                // a bit complicated - we'll divide the month\n                                // up but we need to take care of fractions\n                                // so we don't end up in the middle of a day\n                                d.setUTCDate(1);\n                                var start = d.getTime();\n                                d.setUTCMonth(d.getUTCMonth() + 1);\n                                var end = d.getTime();\n                                d.setTime(v + carry * timeUnitSize.hour + (end - start) * tickSize);\n                                carry = d.getUTCHours();\n                                d.setUTCHours(0);\n                            }\n                            else\n                                d.setUTCMonth(d.getUTCMonth() + tickSize);\n                        }\n                        else if (unit == \"year\") {\n                            d.setUTCFullYear(d.getUTCFullYear() + tickSize);\n                        }\n                        else\n                            d.setTime(v + step);\n                    } while (v < axis.max && v != prev);\n\n                    return ticks;\n                };\n\n                formatter = function (v, axis) {\n                    var d = new Date(v);\n\n                    // first check global format\n                    if (opts.timeformat != null)\n                        return $.plot.formatDate(d, opts.timeformat, opts.monthNames);\n                    \n                    var t = axis.tickSize[0] * timeUnitSize[axis.tickSize[1]];\n                    var span = axis.max - axis.min;\n                    var suffix = (opts.twelveHourClock) ? \" %p\" : \"\";\n                    \n                    if (t < timeUnitSize.minute)\n                        fmt = \"%h:%M:%S\" + suffix;\n                    else if (t < timeUnitSize.day) {\n                        if (span < 2 * timeUnitSize.day)\n                            fmt = \"%h:%M\" + suffix;\n                        else\n                            fmt = \"%b %d %h:%M\" + suffix;\n                    }\n                    else if (t < timeUnitSize.month)\n                        fmt = \"%b %d\";\n                    else if (t < timeUnitSize.year) {\n                        if (span < timeUnitSize.year)\n                            fmt = \"%b\";\n                        else\n                            fmt = \"%b %y\";\n                    }\n                    else\n                        fmt = \"%y\";\n                    \n                    return $.plot.formatDate(d, fmt, opts.monthNames);\n                };\n            }\n            else {\n                // pretty rounding of base-10 numbers\n                var maxDec = opts.tickDecimals;\n                var dec = -Math.floor(Math.log(delta) / Math.LN10);\n                if (maxDec != null && dec > maxDec)\n                    dec = maxDec;\n\n                magn = Math.pow(10, -dec);\n                norm = delta / magn; // norm is between 1.0 and 10.0\n                \n                if (norm < 1.5)\n                    size = 1;\n                else if (norm < 3) {\n                    size = 2;\n                    // special case for 2.5, requires an extra decimal\n                    if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\n                        size = 2.5;\n                        ++dec;\n                    }\n                }\n                else if (norm < 7.5)\n                    size = 5;\n                else\n                    size = 10;\n\n                size *= magn;\n                \n                if (opts.minTickSize != null && size < opts.minTickSize)\n                    size = opts.minTickSize;\n\n                axis.tickDecimals = Math.max(0, maxDec != null ? maxDec : dec);\n                axis.tickSize = opts.tickSize || size;\n\n                generator = function (axis) {\n                    var ticks = [];\n\n                    // spew out all possible ticks\n                    var start = floorInBase(axis.min, axis.tickSize),\n                        i = 0, v = Number.NaN, prev;\n                    do {\n                        prev = v;\n                        v = start + i * axis.tickSize;\n                        ticks.push(v);\n                        ++i;\n                    } while (v < axis.max && v != prev);\n                    return ticks;\n                };\n\n                formatter = function (v, axis) {\n                    return v.toFixed(axis.tickDecimals);\n                };\n            }\n\n            if (opts.alignTicksWithAxis != null) {\n                var otherAxis = (axis.direction == \"x\" ? xaxes : yaxes)[opts.alignTicksWithAxis - 1];\n                if (otherAxis && otherAxis.used && otherAxis != axis) {\n                    // consider snapping min/max to outermost nice ticks\n                    var niceTicks = generator(axis);\n                    if (niceTicks.length > 0) {\n                        if (opts.min == null)\n                            axis.min = Math.min(axis.min, niceTicks[0]);\n                        if (opts.max == null && niceTicks.length > 1)\n                            axis.max = Math.max(axis.max, niceTicks[niceTicks.length - 1]);\n                    }\n                    \n                    generator = function (axis) {\n                        // copy ticks, scaled to this axis\n                        var ticks = [], v, i;\n                        for (i = 0; i < otherAxis.ticks.length; ++i) {\n                            v = (otherAxis.ticks[i].v - otherAxis.min) / (otherAxis.max - otherAxis.min);\n                            v = axis.min + v * (axis.max - axis.min);\n                            ticks.push(v);\n                        }\n                        return ticks;\n                    };\n                    \n                    // we might need an extra decimal since forced\n                    // ticks don't necessarily fit naturally\n                    if (axis.mode != \"time\" && opts.tickDecimals == null) {\n                        var extraDec = Math.max(0, -Math.floor(Math.log(delta) / Math.LN10) + 1),\n                            ts = generator(axis);\n\n                        // only proceed if the tick interval rounded\n                        // with an extra decimal doesn't give us a\n                        // zero at end\n                        if (!(ts.length > 1 && /\\..*0$/.test((ts[1] - ts[0]).toFixed(extraDec))))\n                            axis.tickDecimals = extraDec;\n                    }\n                }\n            }\n\n            axis.tickGenerator = generator;\n            if ($.isFunction(opts.tickFormatter))\n                axis.tickFormatter = function (v, axis) { return \"\" + opts.tickFormatter(v, axis); };\n            else\n                axis.tickFormatter = formatter;\n        }\n        \n        function setTicks(axis) {\n            var oticks = axis.options.ticks, ticks = [];\n            if (oticks == null || (typeof oticks == \"number\" && oticks > 0))\n                ticks = axis.tickGenerator(axis);\n            else if (oticks) {\n                if ($.isFunction(oticks))\n                    // generate the ticks\n                    ticks = oticks({ min: axis.min, max: axis.max });\n                else\n                    ticks = oticks;\n            }\n\n            // clean up/labelify the supplied ticks, copy them over\n            var i, v;\n            axis.ticks = [];\n            for (i = 0; i < ticks.length; ++i) {\n                var label = null;\n                var t = ticks[i];\n                if (typeof t == \"object\") {\n                    v = +t[0];\n                    if (t.length > 1)\n                        label = t[1];\n                }\n                else\n                    v = +t;\n                if (label == null)\n                    label = axis.tickFormatter(v, axis);\n                if (!isNaN(v))\n                    axis.ticks.push({ v: v, label: label });\n            }\n        }\n\n        function snapRangeToTicks(axis, ticks) {\n            if (axis.options.autoscaleMargin && ticks.length > 0) {\n                // snap to ticks\n                if (axis.options.min == null)\n                    axis.min = Math.min(axis.min, ticks[0].v);\n                if (axis.options.max == null && ticks.length > 1)\n                    axis.max = Math.max(axis.max, ticks[ticks.length - 1].v);\n            }\n        }\n      \n        function draw() {\n            ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n            var grid = options.grid;\n\n            // draw background, if any\n            if (grid.show && grid.backgroundColor)\n                drawBackground();\n            \n            if (grid.show && !grid.aboveData)\n                drawGrid();\n\n            for (var i = 0; i < series.length; ++i) {\n                executeHooks(hooks.drawSeries, [ctx, series[i]]);\n                drawSeries(series[i]);\n            }\n\n            executeHooks(hooks.draw, [ctx]);\n            \n            if (grid.show && grid.aboveData)\n                drawGrid();\n        }\n\n        function extractRange(ranges, coord) {\n            var axis, from, to, key, axes = allAxes();\n\n            for (i = 0; i < axes.length; ++i) {\n                axis = axes[i];\n                if (axis.direction == coord) {\n                    key = coord + axis.n + \"axis\";\n                    if (!ranges[key] && axis.n == 1)\n                        key = coord + \"axis\"; // support x1axis as xaxis\n                    if (ranges[key]) {\n                        from = ranges[key].from;\n                        to = ranges[key].to;\n                        break;\n                    }\n                }\n            }\n\n            // backwards-compat stuff - to be removed in future\n            if (!ranges[key]) {\n                axis = coord == \"x\" ? xaxes[0] : yaxes[0];\n                from = ranges[coord + \"1\"];\n                to = ranges[coord + \"2\"];\n            }\n\n            // auto-reverse as an added bonus\n            if (from != null && to != null && from > to) {\n                var tmp = from;\n                from = to;\n                to = tmp;\n            }\n            \n            return { from: from, to: to, axis: axis };\n        }\n        \n        function drawBackground() {\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            ctx.fillStyle = getColorOrGradient(options.grid.backgroundColor, plotHeight, 0, \"rgba(255, 255, 255, 0)\");\n            ctx.fillRect(0, 0, plotWidth, plotHeight);\n            ctx.restore();\n        }\n\n        function drawGrid() {\n            var i;\n            \n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // draw markings\n            var markings = options.grid.markings;\n            if (markings) {\n                if ($.isFunction(markings)) {\n                    var axes = plot.getAxes();\n                    // xmin etc. is backwards compatibility, to be\n                    // removed in the future\n                    axes.xmin = axes.xaxis.min;\n                    axes.xmax = axes.xaxis.max;\n                    axes.ymin = axes.yaxis.min;\n                    axes.ymax = axes.yaxis.max;\n                    \n                    markings = markings(axes);\n                }\n\n                for (i = 0; i < markings.length; ++i) {\n                    var m = markings[i],\n                        xrange = extractRange(m, \"x\"),\n                        yrange = extractRange(m, \"y\");\n\n                    // fill in missing\n                    if (xrange.from == null)\n                        xrange.from = xrange.axis.min;\n                    if (xrange.to == null)\n                        xrange.to = xrange.axis.max;\n                    if (yrange.from == null)\n                        yrange.from = yrange.axis.min;\n                    if (yrange.to == null)\n                        yrange.to = yrange.axis.max;\n\n                    // clip\n                    if (xrange.to < xrange.axis.min || xrange.from > xrange.axis.max ||\n                        yrange.to < yrange.axis.min || yrange.from > yrange.axis.max)\n                        continue;\n\n                    xrange.from = Math.max(xrange.from, xrange.axis.min);\n                    xrange.to = Math.min(xrange.to, xrange.axis.max);\n                    yrange.from = Math.max(yrange.from, yrange.axis.min);\n                    yrange.to = Math.min(yrange.to, yrange.axis.max);\n\n                    if (xrange.from == xrange.to && yrange.from == yrange.to)\n                        continue;\n\n                    // then draw\n                    xrange.from = xrange.axis.p2c(xrange.from);\n                    xrange.to = xrange.axis.p2c(xrange.to);\n                    yrange.from = yrange.axis.p2c(yrange.from);\n                    yrange.to = yrange.axis.p2c(yrange.to);\n                    \n                    if (xrange.from == xrange.to || yrange.from == yrange.to) {\n                        // draw line\n                        ctx.beginPath();\n                        ctx.strokeStyle = m.color || options.grid.markingsColor;\n                        ctx.lineWidth = m.lineWidth || options.grid.markingsLineWidth;\n                        ctx.moveTo(xrange.from, yrange.from);\n                        ctx.lineTo(xrange.to, yrange.to);\n                        ctx.stroke();\n                    }\n                    else {\n                        // fill area\n                        ctx.fillStyle = m.color || options.grid.markingsColor;\n                        ctx.fillRect(xrange.from, yrange.to,\n                                     xrange.to - xrange.from,\n                                     yrange.from - yrange.to);\n                    }\n                }\n            }\n            \n            // draw the ticks\n            var axes = allAxes(), bw = options.grid.borderWidth;\n\n            for (var j = 0; j < axes.length; ++j) {\n                var axis = axes[j], box = axis.box,\n                    t = axis.tickLength, x, y, xoff, yoff;\n                if (!axis.show || axis.ticks.length == 0)\n                    continue\n                \n                ctx.strokeStyle = axis.options.tickColor || $.color.parse(axis.options.color).scale('a', 0.22).toString();\n                ctx.lineWidth = 1;\n\n                // find the edges\n                if (axis.direction == \"x\") {\n                    x = 0;\n                    if (t == \"full\")\n                        y = (axis.position == \"top\" ? 0 : plotHeight);\n                    else\n                        y = box.top - plotOffset.top + (axis.position == \"top\" ? box.height : 0);\n                }\n                else {\n                    y = 0;\n                    if (t == \"full\")\n                        x = (axis.position == \"left\" ? 0 : plotWidth);\n                    else\n                        x = box.left - plotOffset.left + (axis.position == \"left\" ? box.width : 0);\n                }\n                \n                // draw tick bar\n                if (!axis.innermost) {\n                    ctx.beginPath();\n                    xoff = yoff = 0;\n                    if (axis.direction == \"x\")\n                        xoff = plotWidth;\n                    else\n                        yoff = plotHeight;\n                    \n                    if (ctx.lineWidth == 1) {\n                        x = Math.floor(x) + 0.5;\n                        y = Math.floor(y) + 0.5;\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                    ctx.stroke();\n                }\n\n                // draw ticks\n                ctx.beginPath();\n                for (i = 0; i < axis.ticks.length; ++i) {\n                    var v = axis.ticks[i].v;\n                    \n                    xoff = yoff = 0;\n\n                    if (v < axis.min || v > axis.max\n                        // skip those lying on the axes if we got a border\n                        || (t == \"full\" && bw > 0\n                            && (v == axis.min || v == axis.max)))\n                        continue;\n\n                    if (axis.direction == \"x\") {\n                        x = axis.p2c(v);\n                        yoff = t == \"full\" ? -plotHeight : t;\n                        \n                        if (axis.position == \"top\")\n                            yoff = -yoff;\n                    }\n                    else {\n                        y = axis.p2c(v);\n                        xoff = t == \"full\" ? -plotWidth : t;\n                        \n                        if (axis.position == \"left\")\n                            xoff = -xoff;\n                    }\n\n                    if (ctx.lineWidth == 1) {\n                        if (axis.direction == \"x\")\n                            x = Math.floor(x) + 0.5;\n                        else\n                            y = Math.floor(y) + 0.5;\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                }\n                \n                ctx.stroke();\n            }\n            \n            \n            // draw border\n            if (bw) {\n                ctx.lineWidth = bw;\n                ctx.strokeStyle = options.grid.borderColor;\n                ctx.strokeRect(-bw/2, -bw/2, plotWidth + bw, plotHeight + bw);\n            }\n\n            ctx.restore();\n        }\n\n        function insertAxisLabels() {\n            placeholder.find(\".tickLabels\").remove();\n            \n            var html = ['<div class=\"tickLabels\" style=\"font-size:smaller\">'];\n\n            var axes = allAxes();\n            for (var j = 0; j < axes.length; ++j) {\n                var axis = axes[j], box = axis.box;\n                if (!axis.show)\n                    continue;\n                //debug: html.push('<div style=\"position:absolute;opacity:0.10;background-color:red;left:' + box.left + 'px;top:' + box.top + 'px;width:' + box.width +  'px;height:' + box.height + 'px\"></div>')\n                html.push('<div class=\"' + axis.direction + 'Axis ' + axis.direction + axis.n + 'Axis\" style=\"color:' + axis.options.color + '\">');\n                for (var i = 0; i < axis.ticks.length; ++i) {\n                    var tick = axis.ticks[i];\n                    if (!tick.label || tick.v < axis.min || tick.v > axis.max)\n                        continue;\n\n                    var pos = {}, align;\n                    \n                    if (axis.direction == \"x\") {\n                        align = \"center\";\n                        pos.left = Math.round(plotOffset.left + axis.p2c(tick.v) - axis.labelWidth/2);\n                        if (axis.position == \"bottom\")\n                            pos.top = box.top + box.padding;\n                        else\n                            pos.bottom = canvasHeight - (box.top + box.height - box.padding);\n                    }\n                    else {\n                        pos.top = Math.round(plotOffset.top + axis.p2c(tick.v) - axis.labelHeight/2);\n                        if (axis.position == \"left\") {\n                            pos.right = canvasWidth - (box.left + box.width - box.padding)\n                            align = \"right\";\n                        }\n                        else {\n                            pos.left = box.left + box.padding;\n                            align = \"left\";\n                        }\n                    }\n\n                    pos.width = axis.labelWidth;\n\n                    var style = [\"position:absolute\", \"text-align:\" + align ];\n                    for (var a in pos)\n                        style.push(a + \":\" + pos[a] + \"px\")\n                    \n                    html.push('<div class=\"tickLabel\" style=\"' + style.join(';') + '\">' + tick.label + '</div>');\n                }\n                html.push('</div>');\n            }\n\n            html.push('</div>');\n\n            placeholder.append(html.join(\"\"));\n        }\n\n        function drawSeries(series) {\n            if (series.lines.show)\n                drawSeriesLines(series);\n            if (series.bars.show)\n                drawSeriesBars(series);\n            if (series.points.show)\n                drawSeriesPoints(series);\n        }\n        \n        function drawSeriesLines(series) {\n            function plotLine(datapoints, xoffset, yoffset, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    prevx = null, prevy = null;\n                \n                ctx.beginPath();\n                for (var i = ps; i < points.length; i += ps) {\n                    var x1 = points[i - ps], y1 = points[i - ps + 1],\n                        x2 = points[i], y2 = points[i + 1];\n                    \n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min) {\n                        if (y2 < axisy.min)\n                            continue;   // line segment is outside\n                        // compute new intersection point\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min) {\n                        if (y1 < axisy.min)\n                            continue;\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max) {\n                        if (y2 > axisy.max)\n                            continue;\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max) {\n                        if (y1 > axisy.max)\n                            continue;\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (x1 != prevx || y1 != prevy)\n                        ctx.moveTo(axisx.p2c(x1) + xoffset, axisy.p2c(y1) + yoffset);\n                    \n                    prevx = x2;\n                    prevy = y2;\n                    ctx.lineTo(axisx.p2c(x2) + xoffset, axisy.p2c(y2) + yoffset);\n                }\n                ctx.stroke();\n            }\n\n            function plotLineArea(datapoints, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    bottom = Math.min(Math.max(0, axisy.min), axisy.max),\n                    i = 0, top, areaOpen = false,\n                    ypos = 1, segmentStart = 0, segmentEnd = 0;\n\n                // we process each segment in two turns, first forward\n                // direction to sketch out top, then once we hit the\n                // end we go backwards to sketch the bottom\n                while (true) {\n                    if (ps > 0 && i > points.length + ps)\n                        break;\n\n                    i += ps; // ps is negative if going backwards\n\n                    var x1 = points[i - ps],\n                        y1 = points[i - ps + ypos],\n                        x2 = points[i], y2 = points[i + ypos];\n\n                    if (areaOpen) {\n                        if (ps > 0 && x1 != null && x2 == null) {\n                            // at turning point\n                            segmentEnd = i;\n                            ps = -ps;\n                            ypos = 2;\n                            continue;\n                        }\n\n                        if (ps < 0 && i == segmentStart + ps) {\n                            // done with the reverse sweep\n                            ctx.fill();\n                            areaOpen = false;\n                            ps = -ps;\n                            ypos = 1;\n                            i = segmentStart = segmentEnd + ps;\n                            continue;\n                        }\n                    }\n\n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip x values\n                    \n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (!areaOpen) {\n                        // open area\n                        ctx.beginPath();\n                        ctx.moveTo(axisx.p2c(x1), axisy.p2c(bottom));\n                        areaOpen = true;\n                    }\n                    \n                    // now first check the case where both is outside\n                    if (y1 >= axisy.max && y2 >= axisy.max) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.max));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.max));\n                        continue;\n                    }\n                    else if (y1 <= axisy.min && y2 <= axisy.min) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.min));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.min));\n                        continue;\n                    }\n                    \n                    // else it's a bit more complicated, there might\n                    // be a flat maxed out rectangle first, then a\n                    // triangular cutout or reverse; to find these\n                    // keep track of the current x values\n                    var x1old = x1, x2old = x2;\n\n                    // clip the y values, without shortcutting, we\n                    // go through all cases in turn\n                    \n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min && y2 >= axisy.min) {\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min && y1 >= axisy.min) {\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max && y2 <= axisy.max) {\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max && y1 <= axisy.max) {\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // if the x value was changed we got a rectangle\n                    // to fill\n                    if (x1 != x1old) {\n                        ctx.lineTo(axisx.p2c(x1old), axisy.p2c(y1));\n                        // it goes to (x1, y1), but we fill that below\n                    }\n                    \n                    // fill triangular section, this sometimes result\n                    // in redundant points if (x1, y1) hasn't changed\n                    // from previous line to, but we just ignore that\n                    ctx.lineTo(axisx.p2c(x1), axisy.p2c(y1));\n                    ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n\n                    // fill the other rectangle if it's there\n                    if (x2 != x2old) {\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n                        ctx.lineTo(axisx.p2c(x2old), axisy.p2c(y2));\n                    }\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n            ctx.lineJoin = \"round\";\n\n            var lw = series.lines.lineWidth,\n                sw = series.shadowSize;\n            // FIXME: consider another form of shadow when filling is turned on\n            if (lw > 0 && sw > 0) {\n                // draw shadow as a thick and thin line with transparency\n                ctx.lineWidth = sw;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                // position shadow at angle from the mid of line\n                var angle = Math.PI/18;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/2), Math.cos(angle) * (lw/2 + sw/2), series.xaxis, series.yaxis);\n                ctx.lineWidth = sw/2;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/4), Math.cos(angle) * (lw/2 + sw/4), series.xaxis, series.yaxis);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            var fillStyle = getFillStyle(series.lines, series.color, 0, plotHeight);\n            if (fillStyle) {\n                ctx.fillStyle = fillStyle;\n                plotLineArea(series.datapoints, series.xaxis, series.yaxis);\n            }\n\n            if (lw > 0)\n                plotLine(series.datapoints, 0, 0, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function drawSeriesPoints(series) {\n            function plotPoints(datapoints, radius, fillStyle, offset, shadow, axisx, axisy, symbol) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n\n                for (var i = 0; i < points.length; i += ps) {\n                    var x = points[i], y = points[i + 1];\n                    if (x == null || x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                        continue;\n                    \n                    ctx.beginPath();\n                    x = axisx.p2c(x);\n                    y = axisy.p2c(y) + offset;\n                    if (symbol == \"circle\")\n                        ctx.arc(x, y, radius, 0, shadow ? Math.PI : Math.PI * 2, false);\n                    else\n                        symbol(ctx, x, y, radius, shadow);\n                    ctx.closePath();\n                    \n                    if (fillStyle) {\n                        ctx.fillStyle = fillStyle;\n                        ctx.fill();\n                    }\n                    ctx.stroke();\n                }\n            }\n            \n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            var lw = series.points.lineWidth,\n                sw = series.shadowSize,\n                radius = series.points.radius,\n                symbol = series.points.symbol;\n            if (lw > 0 && sw > 0) {\n                // draw shadow in two steps\n                var w = sw / 2;\n                ctx.lineWidth = w;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                plotPoints(series.datapoints, radius, null, w + w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n\n                ctx.strokeStyle = \"rgba(0,0,0,0.2)\";\n                plotPoints(series.datapoints, radius, null, w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            plotPoints(series.datapoints, radius,\n                       getFillStyle(series.points, series.color), 0, false,\n                       series.xaxis, series.yaxis, symbol);\n            ctx.restore();\n        }\n\n        function drawBar(x, y, b, barLeft, barRight, offset, fillStyleCallback, axisx, axisy, c, horizontal, lineWidth) {\n            var left, right, bottom, top,\n                drawLeft, drawRight, drawTop, drawBottom,\n                tmp;\n\n            // in horizontal mode, we start the bar from the left\n            // instead of from the bottom so it appears to be\n            // horizontal rather than vertical\n            if (horizontal) {\n                drawBottom = drawRight = drawTop = true;\n                drawLeft = false;\n                left = b;\n                right = x;\n                top = y + barLeft;\n                bottom = y + barRight;\n\n                // account for negative bars\n                if (right < left) {\n                    tmp = right;\n                    right = left;\n                    left = tmp;\n                    drawLeft = true;\n                    drawRight = false;\n                }\n            }\n            else {\n                drawLeft = drawRight = drawTop = true;\n                drawBottom = false;\n                left = x + barLeft;\n                right = x + barRight;\n                bottom = b;\n                top = y;\n\n                // account for negative bars\n                if (top < bottom) {\n                    tmp = top;\n                    top = bottom;\n                    bottom = tmp;\n                    drawBottom = true;\n                    drawTop = false;\n                }\n            }\n           \n            // clip\n            if (right < axisx.min || left > axisx.max ||\n                top < axisy.min || bottom > axisy.max)\n                return;\n            \n            if (left < axisx.min) {\n                left = axisx.min;\n                drawLeft = false;\n            }\n\n            if (right > axisx.max) {\n                right = axisx.max;\n                drawRight = false;\n            }\n\n            if (bottom < axisy.min) {\n                bottom = axisy.min;\n                drawBottom = false;\n            }\n            \n            if (top > axisy.max) {\n                top = axisy.max;\n                drawTop = false;\n            }\n\n            left = axisx.p2c(left);\n            bottom = axisy.p2c(bottom);\n            right = axisx.p2c(right);\n            top = axisy.p2c(top);\n            \n            // fill the bar\n            if (fillStyleCallback) {\n                c.beginPath();\n                c.moveTo(left, bottom);\n                c.lineTo(left, top);\n                c.lineTo(right, top);\n                c.lineTo(right, bottom);\n                c.fillStyle = fillStyleCallback(bottom, top);\n                c.fill();\n            }\n\n            // draw outline\n            if (lineWidth > 0 && (drawLeft || drawRight || drawTop || drawBottom)) {\n                c.beginPath();\n\n                // FIXME: inline moveTo is buggy with excanvas\n                c.moveTo(left, bottom + offset);\n                if (drawLeft)\n                    c.lineTo(left, top + offset);\n                else\n                    c.moveTo(left, top + offset);\n                if (drawTop)\n                    c.lineTo(right, top + offset);\n                else\n                    c.moveTo(right, top + offset);\n                if (drawRight)\n                    c.lineTo(right, bottom + offset);\n                else\n                    c.moveTo(right, bottom + offset);\n                if (drawBottom)\n                    c.lineTo(left, bottom + offset);\n                else\n                    c.moveTo(left, bottom + offset);\n                c.stroke();\n            }\n        }\n        \n        function drawSeriesBars(series) {\n            function plotBars(datapoints, barLeft, barRight, offset, fillStyleCallback, axisx, axisy) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n                \n                for (var i = 0; i < points.length; i += ps) {\n                    if (points[i] == null)\n                        continue;\n                    drawBar(points[i], points[i + 1], points[i + 2], barLeft, barRight, offset, fillStyleCallback, axisx, axisy, ctx, series.bars.horizontal, series.bars.lineWidth);\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // FIXME: figure out a way to add shadows (for instance along the right edge)\n            ctx.lineWidth = series.bars.lineWidth;\n            ctx.strokeStyle = series.color;\n            var barLeft = series.bars.align == \"left\" ? 0 : -series.bars.barWidth/2;\n            var fillStyleCallback = series.bars.fill ? function (bottom, top) { return getFillStyle(series.bars, series.color, bottom, top); } : null;\n            plotBars(series.datapoints, barLeft, barLeft + series.bars.barWidth, 0, fillStyleCallback, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function getFillStyle(filloptions, seriesColor, bottom, top) {\n            var fill = filloptions.fill;\n            if (!fill)\n                return null;\n\n            if (filloptions.fillColor)\n                return getColorOrGradient(filloptions.fillColor, bottom, top, seriesColor);\n            \n            var c = $.color.parse(seriesColor);\n            c.a = typeof fill == \"number\" ? fill : 0.4;\n            c.normalize();\n            return c.toString();\n        }\n        \n        function insertLegend() {\n            placeholder.find(\".legend\").remove();\n\n            if (!options.legend.show)\n                return;\n            \n            var fragments = [], rowStarted = false,\n                lf = options.legend.labelFormatter, s, label;\n            for (var i = 0; i < series.length; ++i) {\n                s = series[i];\n                label = s.label;\n                if (!label)\n                    continue;\n                \n                if (i % options.legend.noColumns == 0) {\n                    if (rowStarted)\n                        fragments.push('</tr>');\n                    fragments.push('<tr>');\n                    rowStarted = true;\n                }\n\n                if (lf)\n                    label = lf(label, s);\n                \n                fragments.push(\n                    '<td class=\"legendColorBox\"><div style=\"border:1px solid ' + options.legend.labelBoxBorderColor + ';padding:1px\"><div style=\"width:4px;height:0;border:5px solid ' + s.color + ';overflow:hidden\"></div></div></td>' +\n                    '<td class=\"legendLabel\">' + label + '</td>');\n            }\n            if (rowStarted)\n                fragments.push('</tr>');\n            \n            if (fragments.length == 0)\n                return;\n\n            var table = '<table style=\"font-size:smaller;color:' + options.grid.color + '\">' + fragments.join(\"\") + '</table>';\n            if (options.legend.container != null)\n                $(options.legend.container).html(table);\n            else {\n                var pos = \"\",\n                    p = options.legend.position,\n                    m = options.legend.margin;\n                if (m[0] == null)\n                    m = [m, m];\n                if (p.charAt(0) == \"n\")\n                    pos += 'top:' + (m[1] + plotOffset.top) + 'px;';\n                else if (p.charAt(0) == \"s\")\n                    pos += 'bottom:' + (m[1] + plotOffset.bottom) + 'px;';\n                if (p.charAt(1) == \"e\")\n                    pos += 'right:' + (m[0] + plotOffset.right) + 'px;';\n                else if (p.charAt(1) == \"w\")\n                    pos += 'left:' + (m[0] + plotOffset.left) + 'px;';\n                var legend = $('<div class=\"legend\">' + table.replace('style=\"', 'style=\"position:absolute;' + pos +';') + '</div>').appendTo(placeholder);\n                if (options.legend.backgroundOpacity != 0.0) {\n                    // put in the transparent background\n                    // separately to avoid blended labels and\n                    // label boxes\n                    var c = options.legend.backgroundColor;\n                    if (c == null) {\n                        c = options.grid.backgroundColor;\n                        if (c && typeof c == \"string\")\n                            c = $.color.parse(c);\n                        else\n                            c = $.color.extract(legend, 'background-color');\n                        c.a = 1;\n                        c = c.toString();\n                    }\n                    var div = legend.children();\n                    $('<div style=\"position:absolute;width:' + div.width() + 'px;height:' + div.height() + 'px;' + pos +'background-color:' + c + ';\"> </div>').prependTo(legend).css('opacity', options.legend.backgroundOpacity);\n                }\n            }\n        }\n\n\n        // interactive features\n        \n        var highlights = [],\n            redrawTimeout = null;\n        \n        // returns the data item the mouse is over, or null if none is found\n        function findNearbyItem(mouseX, mouseY, seriesFilter) {\n            var maxDistance = options.grid.mouseActiveRadius,\n                smallestDistance = maxDistance * maxDistance + 1,\n                item = null, foundPoint = false, i, j;\n\n            for (i = series.length - 1; i >= 0; --i) {\n                if (!seriesFilter(series[i]))\n                    continue;\n                \n                var s = series[i],\n                    axisx = s.xaxis,\n                    axisy = s.yaxis,\n                    points = s.datapoints.points,\n                    ps = s.datapoints.pointsize,\n                    mx = axisx.c2p(mouseX), // precompute some stuff to make the loop faster\n                    my = axisy.c2p(mouseY),\n                    maxx = maxDistance / axisx.scale,\n                    maxy = maxDistance / axisy.scale;\n\n                // with inverse transforms, we can't use the maxx/maxy\n                // optimization, sadly\n                if (axisx.options.inverseTransform)\n                    maxx = Number.MAX_VALUE;\n                if (axisy.options.inverseTransform)\n                    maxy = Number.MAX_VALUE;\n                \n                if (s.lines.show || s.points.show) {\n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1];\n                        if (x == null)\n                            continue;\n                        \n                        // For points and lines, the cursor must be within a\n                        // certain distance to the data point\n                        if (x - mx > maxx || x - mx < -maxx ||\n                            y - my > maxy || y - my < -maxy)\n                            continue;\n\n                        // We have to calculate distances in pixels, not in\n                        // data units, because the scales of the axes may be different\n                        var dx = Math.abs(axisx.p2c(x) - mouseX),\n                            dy = Math.abs(axisy.p2c(y) - mouseY),\n                            dist = dx * dx + dy * dy; // we save the sqrt\n\n                        // use <= to ensure last point takes precedence\n                        // (last generally means on top of)\n                        if (dist < smallestDistance) {\n                            smallestDistance = dist;\n                            item = [i, j / ps];\n                        }\n                    }\n                }\n                    \n                if (s.bars.show && !item) { // no other point can be nearby\n                    var barLeft = s.bars.align == \"left\" ? 0 : -s.bars.barWidth/2,\n                        barRight = barLeft + s.bars.barWidth;\n                    \n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1], b = points[j + 2];\n                        if (x == null)\n                            continue;\n  \n                        // for a bar graph, the cursor must be inside the bar\n                        if (series[i].bars.horizontal ? \n                            (mx <= Math.max(b, x) && mx >= Math.min(b, x) && \n                             my >= y + barLeft && my <= y + barRight) :\n                            (mx >= x + barLeft && mx <= x + barRight &&\n                             my >= Math.min(b, y) && my <= Math.max(b, y)))\n                                item = [i, j / ps];\n                    }\n                }\n            }\n\n            if (item) {\n                i = item[0];\n                j = item[1];\n                ps = series[i].datapoints.pointsize;\n                \n                return { datapoint: series[i].datapoints.points.slice(j * ps, (j + 1) * ps),\n                         dataIndex: j,\n                         series: series[i],\n                         seriesIndex: i };\n            }\n            \n            return null;\n        }\n\n        function onMouseMove(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return s[\"hoverable\"] != false; });\n        }\n\n        function onMouseLeave(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return false; });\n        }\n\n        function onClick(e) {\n            triggerClickHoverEvent(\"plotclick\", e,\n                                   function (s) { return s[\"clickable\"] != false; });\n        }\n\n        // trigger click or hover event (they send the same parameters\n        // so we share their code)\n        function triggerClickHoverEvent(eventname, event, seriesFilter) {\n            var offset = eventHolder.offset(),\n                canvasX = event.pageX - offset.left - plotOffset.left,\n                canvasY = event.pageY - offset.top - plotOffset.top,\n            pos = canvasToAxisCoords({ left: canvasX, top: canvasY });\n\n            pos.pageX = event.pageX;\n            pos.pageY = event.pageY;\n\n            var item = findNearbyItem(canvasX, canvasY, seriesFilter);\n\n            if (item) {\n                // fill in mouse pos for any listeners out there\n                item.pageX = parseInt(item.series.xaxis.p2c(item.datapoint[0]) + offset.left + plotOffset.left);\n                item.pageY = parseInt(item.series.yaxis.p2c(item.datapoint[1]) + offset.top + plotOffset.top);\n            }\n\n            if (options.grid.autoHighlight) {\n                // clear auto-highlights\n                for (var i = 0; i < highlights.length; ++i) {\n                    var h = highlights[i];\n                    if (h.auto == eventname &&\n                        !(item && h.series == item.series &&\n                          h.point[0] == item.datapoint[0] &&\n                          h.point[1] == item.datapoint[1]))\n                        unhighlight(h.series, h.point);\n                }\n                \n                if (item)\n                    highlight(item.series, item.datapoint, eventname);\n            }\n            \n            placeholder.trigger(eventname, [ pos, item ]);\n        }\n\n        function triggerRedrawOverlay() {\n            if (!redrawTimeout)\n                redrawTimeout = setTimeout(drawOverlay, 30);\n        }\n\n        function drawOverlay() {\n            redrawTimeout = null;\n\n            // draw highlights\n            octx.save();\n            octx.clearRect(0, 0, canvasWidth, canvasHeight);\n            octx.translate(plotOffset.left, plotOffset.top);\n            \n            var i, hi;\n            for (i = 0; i < highlights.length; ++i) {\n                hi = highlights[i];\n\n                if (hi.series.bars.show)\n                    drawBarHighlight(hi.series, hi.point);\n                else\n                    drawPointHighlight(hi.series, hi.point);\n            }\n            octx.restore();\n            \n            executeHooks(hooks.drawOverlay, [octx]);\n        }\n        \n        function highlight(s, point, auto) {\n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i == -1) {\n                highlights.push({ series: s, point: point, auto: auto });\n\n                triggerRedrawOverlay();\n            }\n            else if (!auto)\n                highlights[i].auto = false;\n        }\n            \n        function unhighlight(s, point) {\n            if (s == null && point == null) {\n                highlights = [];\n                triggerRedrawOverlay();\n            }\n            \n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\")\n                point = s.data[point];\n\n            var i = indexOfHighlight(s, point);\n            if (i != -1) {\n                highlights.splice(i, 1);\n\n                triggerRedrawOverlay();\n            }\n        }\n        \n        function indexOfHighlight(s, p) {\n            for (var i = 0; i < highlights.length; ++i) {\n                var h = highlights[i];\n                if (h.series == s && h.point[0] == p[0]\n                    && h.point[1] == p[1])\n                    return i;\n            }\n            return -1;\n        }\n        \n        function drawPointHighlight(series, point) {\n            var x = point[0], y = point[1],\n                axisx = series.xaxis, axisy = series.yaxis;\n            \n            if (x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                return;\n            \n            var pointRadius = series.points.radius + series.points.lineWidth / 2;\n            octx.lineWidth = pointRadius;\n            octx.strokeStyle = $.color.parse(series.color).scale('a', 0.5).toString();\n            var radius = 1.5 * pointRadius,\n                x = axisx.p2c(x),\n                y = axisy.p2c(y);\n            \n            octx.beginPath();\n            if (series.points.symbol == \"circle\")\n                octx.arc(x, y, radius, 0, 2 * Math.PI, false);\n            else\n                series.points.symbol(octx, x, y, radius, false);\n            octx.closePath();\n            octx.stroke();\n        }\n\n        function drawBarHighlight(series, point) {\n            octx.lineWidth = series.bars.lineWidth;\n            octx.strokeStyle = $.color.parse(series.color).scale('a', 0.5).toString();\n            var fillStyle = $.color.parse(series.color).scale('a', 0.5).toString();\n            var barLeft = series.bars.align == \"left\" ? 0 : -series.bars.barWidth/2;\n            drawBar(point[0], point[1], point[2] || 0, barLeft, barLeft + series.bars.barWidth,\n                    0, function () { return fillStyle; }, series.xaxis, series.yaxis, octx, series.bars.horizontal, series.bars.lineWidth);\n        }\n\n        function getColorOrGradient(spec, bottom, top, defaultColor) {\n            if (typeof spec == \"string\")\n                return spec;\n            else {\n                // assume this is a gradient spec; IE currently only\n                // supports a simple vertical gradient properly, so that's\n                // what we support too\n                var gradient = ctx.createLinearGradient(0, top, 0, bottom);\n                \n                for (var i = 0, l = spec.colors.length; i < l; ++i) {\n                    var c = spec.colors[i];\n                    if (typeof c != \"string\") {\n                        var co = $.color.parse(defaultColor);\n                        if (c.brightness != null)\n                            co = co.scale('rgb', c.brightness)\n                        if (c.opacity != null)\n                            co.a *= c.opacity;\n                        c = co.toString();\n                    }\n                    gradient.addColorStop(i / (l - 1), c);\n                }\n                \n                return gradient;\n            }\n        }\n    }\n\n    $.plot = function(placeholder, data, options) {\n        //var t0 = new Date();\n        var plot = new Plot($(placeholder), data, options, $.plot.plugins);\n        //(window.console ? console.log : alert)(\"time used (msecs): \" + ((new Date()).getTime() - t0.getTime()));\n        return plot;\n    };\n\n    $.plot.version = \"0.7\";\n    \n    $.plot.plugins = [];\n\n    // returns a string with the date d formatted according to fmt\n    $.plot.formatDate = function(d, fmt, monthNames) {\n        var leftPad = function(n) {\n            n = \"\" + n;\n            return n.length == 1 ? \"0\" + n : n;\n        };\n        \n        var r = [];\n        var escape = false, padNext = false;\n        var hours = d.getUTCHours();\n        var isAM = hours < 12;\n        if (monthNames == null)\n            monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n        if (fmt.search(/%p|%P/) != -1) {\n            if (hours > 12) {\n                hours = hours - 12;\n            } else if (hours == 0) {\n                hours = 12;\n            }\n        }\n        for (var i = 0; i < fmt.length; ++i) {\n            var c = fmt.charAt(i);\n            \n            if (escape) {\n                switch (c) {\n                case 'h': c = \"\" + hours; break;\n                case 'H': c = leftPad(hours); break;\n                case 'M': c = leftPad(d.getUTCMinutes()); break;\n                case 'S': c = leftPad(d.getUTCSeconds()); break;\n                case 'd': c = \"\" + d.getUTCDate(); break;\n                case 'm': c = \"\" + (d.getUTCMonth() + 1); break;\n                case 'y': c = \"\" + d.getUTCFullYear(); break;\n                case 'b': c = \"\" + monthNames[d.getUTCMonth()]; break;\n                case 'p': c = (isAM) ? (\"\" + \"am\") : (\"\" + \"pm\"); break;\n                case 'P': c = (isAM) ? (\"\" + \"AM\") : (\"\" + \"PM\"); break;\n                case '0': c = \"\"; padNext = true; break;\n                }\n                if (c && padNext) {\n                    c = leftPad(c);\n                    padNext = false;\n                }\n                r.push(c);\n                if (!padNext)\n                    escape = false;\n            }\n            else {\n                if (c == \"%\")\n                    escape = true;\n                else\n                    r.push(c);\n            }\n        }\n        return r.join(\"\");\n    };\n    \n    // round to nearby lower multiple of base\n    function floorInBase(n, base) {\n        return base * Math.floor(n / base);\n    }\n    \n})(jQuery);","/*\nFlot plugin for stacking data sets, i.e. putting them on top of each\nother, for accumulative graphs.\n\nThe plugin assumes the data is sorted on x (or y if stacking\nhorizontally). For line charts, it is assumed that if a line has an\nundefined gap (from a null point), then the line above it should have\nthe same gap - insert zeros instead of \"null\" if you want another\nbehaviour. This also holds for the start and end of the chart. Note\nthat stacking a mix of positive and negative values in most instances\ndoesn't make sense (so it looks weird).\n\nTwo or more series are stacked when their \"stack\" attribute is set to\nthe same key (which can be any number or string or just \"true\"). To\nspecify the default stack, you can set\n\n  series: {\n    stack: null or true or key (number/string)\n  }\n\nor specify it for a specific series\n\n  $.plot($(\"#placeholder\"), [{ data: [ ... ], stack: true }])\n  \nThe stacking order is determined by the order of the data series in\nthe array (later series end up on top of the previous).\n\nInternally, the plugin modifies the datapoints in each series, adding\nan offset to the y value. For line series, extra data points are\ninserted through interpolation. If there's a second y value, it's also\nadjusted (e.g for bar charts or filled areas).\n*/\n\n(function ($) {\n    var options = {\n        series: { stack: null } // or number/string\n    };\n    \n    function init(plot) {\n        function findMatchingSeries(s, allseries) {\n            var res = null\n            for (var i = 0; i < allseries.length; ++i) {\n                if (s == allseries[i])\n                    break;\n                \n                if (allseries[i].stack == s.stack)\n                    res = allseries[i];\n            }\n            \n            return res;\n        }\n        \n        function stackData(plot, s, datapoints) {\n            if (s.stack == null)\n                return;\n\n            var other = findMatchingSeries(s, plot.getData());\n            if (!other)\n                return;\n\n            var ps = datapoints.pointsize,\n                points = datapoints.points,\n                otherps = other.datapoints.pointsize,\n                otherpoints = other.datapoints.points,\n                newpoints = [],\n                px, py, intery, qx, qy, bottom,\n                withlines = s.lines.show,\n                horizontal = s.bars.horizontal,\n                withbottom = ps > 2 && (horizontal ? datapoints.format[2].x : datapoints.format[2].y),\n                withsteps = withlines && s.lines.steps,\n                fromgap = true,\n                keyOffset = horizontal ? 1 : 0,\n                accumulateOffset = horizontal ? 0 : 1,\n                i = 0, j = 0, l;\n\n            while (true) {\n                if (i >= points.length)\n                    break;\n\n                l = newpoints.length;\n\n                if (points[i] == null) {\n                    // copy gaps\n                    for (m = 0; m < ps; ++m)\n                        newpoints.push(points[i + m]);\n                    i += ps;\n                }\n                else if (j >= otherpoints.length) {\n                    // for lines, we can't use the rest of the points\n                    if (!withlines) {\n                        for (m = 0; m < ps; ++m)\n                            newpoints.push(points[i + m]);\n                    }\n                    i += ps;\n                }\n                else if (otherpoints[j] == null) {\n                    // oops, got a gap\n                    for (m = 0; m < ps; ++m)\n                        newpoints.push(null);\n                    fromgap = true;\n                    j += otherps;\n                }\n                else {\n                    // cases where we actually got two points\n                    px = points[i + keyOffset];\n                    py = points[i + accumulateOffset];\n                    qx = otherpoints[j + keyOffset];\n                    qy = otherpoints[j + accumulateOffset];\n                    bottom = 0;\n\n                    if (px == qx) {\n                        for (m = 0; m < ps; ++m)\n                            newpoints.push(points[i + m]);\n\n                        newpoints[l + accumulateOffset] += qy;\n                        bottom = qy;\n                        \n                        i += ps;\n                        j += otherps;\n                    }\n                    else if (px > qx) {\n                        // we got past point below, might need to\n                        // insert interpolated extra point\n                        if (withlines && i > 0 && points[i - ps] != null) {\n                            intery = py + (points[i - ps + accumulateOffset] - py) * (qx - px) / (points[i - ps + keyOffset] - px);\n                            newpoints.push(qx);\n                            newpoints.push(intery + qy);\n                            for (m = 2; m < ps; ++m)\n                                newpoints.push(points[i + m]);\n                            bottom = qy; \n                        }\n\n                        j += otherps;\n                    }\n                    else { // px < qx\n                        if (fromgap && withlines) {\n                            // if we come from a gap, we just skip this point\n                            i += ps;\n                            continue;\n                        }\n                            \n                        for (m = 0; m < ps; ++m)\n                            newpoints.push(points[i + m]);\n                        \n                        // we might be able to interpolate a point below,\n                        // this can give us a better y\n                        if (withlines && j > 0 && otherpoints[j - otherps] != null)\n                            bottom = qy + (otherpoints[j - otherps + accumulateOffset] - qy) * (px - qx) / (otherpoints[j - otherps + keyOffset] - qx);\n\n                        newpoints[l + accumulateOffset] += bottom;\n                        \n                        i += ps;\n                    }\n\n                    fromgap = false;\n                    \n                    if (l != newpoints.length && withbottom)\n                        newpoints[l + 2] += bottom;\n                }\n\n                // maintain the line steps invariant\n                if (withsteps && l != newpoints.length && l > 0\n                    && newpoints[l] != null\n                    && newpoints[l] != newpoints[l - ps]\n                    && newpoints[l + 1] != newpoints[l - ps + 1]) {\n                    for (m = 0; m < ps; ++m)\n                        newpoints[l + ps + m] = newpoints[l + m];\n                    newpoints[l + 1] = newpoints[l - ps + 1];\n                }\n            }\n\n            datapoints.points = newpoints;\n        }\n        \n        plot.hooks.processDatapoints.push(stackData);\n    }\n    \n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'stack',\n        version: '1.2'\n    });\n})(jQuery);\n","(function(b){function c(D){var h=null;var L=null;var n=null;var B=null;var p=null;var M=0;var F=true;var o=10;var w=0.95;var A=0;var d=false;var z=false;var j=[];D.hooks.processOptions.push(g);D.hooks.bindEvents.push(e);function g(O,N){if(N.series.pie.show){N.grid.show=false;if(N.series.pie.label.show==\"auto\"){if(N.legend.show){N.series.pie.label.show=false}else{N.series.pie.label.show=true}}if(N.series.pie.radius==\"auto\"){if(N.series.pie.label.show){N.series.pie.radius=3/4}else{N.series.pie.radius=1}}if(N.series.pie.tilt>1){N.series.pie.tilt=1}if(N.series.pie.tilt<0){N.series.pie.tilt=0}O.hooks.processDatapoints.push(E);O.hooks.drawOverlay.push(H);O.hooks.draw.push(r)}}function e(P,N){var O=P.getOptions();if(O.series.pie.show&&O.grid.hoverable){N.unbind(\"mousemove\").mousemove(t)}if(O.series.pie.show&&O.grid.clickable){N.unbind(\"click\").click(l)}}function G(O){var P=\"\";function N(S,T){if(!T){T=0}for(var R=0;R<S.length;++R){for(var Q=0;Q<T;Q++){P+=\"\\t\"}if(typeof S[R]==\"object\"){P+=\"\"+R+\":\\n\";N(S[R],T+1)}else{P+=\"\"+R+\": \"+S[R]+\"\\n\"}}}N(O);alert(P)}function q(P){for(var N=0;N<P.length;++N){var O=parseFloat(P[N].data[0][1]);if(O){M+=O}}}function E(Q,N,O,P){if(!d){d=true;h=Q.getCanvas();L=b(h).parent();a=Q.getOptions();Q.setData(K(Q.getData()))}}function I(){A=L.children().filter(\".legend\").children().width();n=Math.min(h.width,(h.height/a.series.pie.tilt))/2;p=(h.height/2)+a.series.pie.offset.top;B=(h.width/2);if(a.series.pie.offset.left==\"auto\"){if(a.legend.position.match(\"w\")){B+=A/2}else{B-=A/2}}else{B+=a.series.pie.offset.left}if(B<n){B=n}else{if(B>h.width-n){B=h.width-n}}}function v(O){for(var N=0;N<O.length;++N){if(typeof(O[N].data)==\"number\"){O[N].data=[[1,O[N].data]]}else{if(typeof(O[N].data)==\"undefined\"||typeof(O[N].data[0])==\"undefined\"){if(typeof(O[N].data)!=\"undefined\"&&typeof(O[N].data.label)!=\"undefined\"){O[N].label=O[N].data.label}O[N].data=[[1,0]]}}}return O}function K(Q){Q=v(Q);q(Q);var P=0;var S=0;var N=a.series.pie.combine.color;var R=[];for(var O=0;O<Q.length;++O){Q[O].data[0][1]=parseFloat(Q[O].data[0][1]);if(!Q[O].data[0][1]){Q[O].data[0][1]=0}if(Q[O].data[0][1]/M<=a.series.pie.combine.threshold){P+=Q[O].data[0][1];S++;if(!N){N=Q[O].color}}else{R.push({data:[[1,Q[O].data[0][1]]],color:Q[O].color,label:Q[O].label,angle:(Q[O].data[0][1]*(Math.PI*2))/M,percent:(Q[O].data[0][1]/M*100)})}}if(S>0){R.push({data:[[1,P]],color:N,label:a.series.pie.combine.label,angle:(P*(Math.PI*2))/M,percent:(P/M*100)})}return R}function r(S,Q){if(!L){return}ctx=Q;I();var T=S.getData();var P=0;F=true;while(F&&P<o){F=false;if(P>0){n*=w}P+=1;N();if(a.series.pie.tilt<=0.8){O()}R()}if(P>=o){N();L.prepend('<div class=\"error\">Could not draw pie with labels contained inside canvas</div>')}if(S.setSeries&&S.insertLegend){S.setSeries(T);S.insertLegend()}function N(){ctx.clearRect(0,0,h.width,h.height);L.children().filter(\".pieLabel, .pieLabelBackground\").remove()}function O(){var Z=5;var Y=15;var W=10;var X=0.02;if(a.series.pie.radius>1){var U=a.series.pie.radius}else{var U=n*a.series.pie.radius}if(U>=(h.width/2)-Z||U*a.series.pie.tilt>=(h.height/2)-Y||U<=W){return}ctx.save();ctx.translate(Z,Y);ctx.globalAlpha=X;ctx.fillStyle=\"#000\";ctx.translate(B,p);ctx.scale(1,a.series.pie.tilt);for(var V=1;V<=W;V++){ctx.beginPath();ctx.arc(0,0,U,0,Math.PI*2,false);ctx.fill();U-=V}ctx.restore()}function R(){startAngle=Math.PI*a.series.pie.startAngle;if(a.series.pie.radius>1){var U=a.series.pie.radius}else{var U=n*a.series.pie.radius}ctx.save();ctx.translate(B,p);ctx.scale(1,a.series.pie.tilt);ctx.save();var Y=startAngle;for(var W=0;W<T.length;++W){T[W].startAngle=Y;X(T[W].angle,T[W].color,true)}ctx.restore();ctx.save();ctx.lineWidth=a.series.pie.stroke.width;Y=startAngle;for(var W=0;W<T.length;++W){X(T[W].angle,a.series.pie.stroke.color,false)}ctx.restore();J(ctx);if(a.series.pie.label.show){V()}ctx.restore();function X(ab,Z,aa){if(ab<=0){return}if(aa){ctx.fillStyle=Z}else{ctx.strokeStyle=Z;ctx.lineJoin=\"round\"}ctx.beginPath();if(Math.abs(ab-Math.PI*2)>1e-9){ctx.moveTo(0,0)}else{if(b.browser.msie){ab-=0.0001}}ctx.arc(0,0,U,Y,Y+ab,false);ctx.closePath();Y+=ab;if(aa){ctx.fill()}else{ctx.stroke()}}function V(){var ac=startAngle;if(a.series.pie.label.radius>1){var Z=a.series.pie.label.radius}else{var Z=n*a.series.pie.label.radius}for(var ab=0;ab<T.length;++ab){if(T[ab].percent>=a.series.pie.label.threshold*100){aa(T[ab],ac,ab)}ac+=T[ab].angle}function aa(ap,ai,ag){if(ap.data[0][1]==0){return}var ar=a.legend.labelFormatter,aq,ae=a.series.pie.label.formatter;if(ar){aq=ar(ap.label,ap)}else{aq=ap.label}if(ae){aq=ae(aq,ap)}var aj=((ai+ap.angle)+ai)/2;var ao=B+Math.round(Math.cos(aj)*Z);var am=p+Math.round(Math.sin(aj)*Z)*a.series.pie.tilt;var af='<span class=\"pieLabel\" id=\"pieLabel'+ag+'\" style=\"position:absolute;top:'+am+\"px;left:\"+ao+'px;\">'+aq+\"</span>\";L.append(af);var an=L.children(\"#pieLabel\"+ag);var ad=(am-an.height()/2);var ah=(ao-an.width()/2);an.css(\"top\",ad);an.css(\"left\",ah);if(0-ad>0||0-ah>0||h.height-(ad+an.height())<0||h.width-(ah+an.width())<0){F=true}if(a.series.pie.label.background.opacity!=0){var ak=a.series.pie.label.background.color;if(ak==null){ak=ap.color}var al=\"top:\"+ad+\"px;left:\"+ah+\"px;\";b('<div class=\"pieLabelBackground\" style=\"position:absolute;width:'+an.width()+\"px;height:\"+an.height()+\"px;\"+al+\"background-color:\"+ak+';\"> </div>').insertBefore(an).css(\"opacity\",a.series.pie.label.background.opacity)}}}}}function J(N){if(a.series.pie.innerRadius>0){N.save();innerRadius=a.series.pie.innerRadius>1?a.series.pie.innerRadius:n*a.series.pie.innerRadius;N.globalCompositeOperation=\"destination-out\";N.beginPath();N.fillStyle=a.series.pie.stroke.color;N.arc(0,0,innerRadius,0,Math.PI*2,false);N.fill();N.closePath();N.restore();N.save();N.beginPath();N.strokeStyle=a.series.pie.stroke.color;N.arc(0,0,innerRadius,0,Math.PI*2,false);N.stroke();N.closePath();N.restore()}}function s(Q,R){for(var S=false,P=-1,N=Q.length,O=N-1;++P<N;O=P){((Q[P][1]<=R[1]&&R[1]<Q[O][1])||(Q[O][1]<=R[1]&&R[1]<Q[P][1]))&&(R[0]<(Q[O][0]-Q[P][0])*(R[1]-Q[P][1])/(Q[O][1]-Q[P][1])+Q[P][0])&&(S=!S)}return S}function u(R,P){var T=D.getData(),O=D.getOptions(),N=O.series.pie.radius>1?O.series.pie.radius:n*O.series.pie.radius;for(var Q=0;Q<T.length;++Q){var S=T[Q];if(S.pie.show){ctx.save();ctx.beginPath();ctx.moveTo(0,0);ctx.arc(0,0,N,S.startAngle,S.startAngle+S.angle,false);ctx.closePath();x=R-B;y=P-p;if(ctx.isPointInPath){if(ctx.isPointInPath(R-B,P-p)){ctx.restore();return{datapoint:[S.percent,S.data],dataIndex:0,series:S,seriesIndex:Q}}}else{p1X=(N*Math.cos(S.startAngle));p1Y=(N*Math.sin(S.startAngle));p2X=(N*Math.cos(S.startAngle+(S.angle/4)));p2Y=(N*Math.sin(S.startAngle+(S.angle/4)));p3X=(N*Math.cos(S.startAngle+(S.angle/2)));p3Y=(N*Math.sin(S.startAngle+(S.angle/2)));p4X=(N*Math.cos(S.startAngle+(S.angle/1.5)));p4Y=(N*Math.sin(S.startAngle+(S.angle/1.5)));p5X=(N*Math.cos(S.startAngle+S.angle));p5Y=(N*Math.sin(S.startAngle+S.angle));arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]];arrPoint=[x,y];if(s(arrPoly,arrPoint)){ctx.restore();return{datapoint:[S.percent,S.data],dataIndex:0,series:S,seriesIndex:Q}}}ctx.restore()}}return null}function t(N){m(\"plothover\",N)}function l(N){m(\"plotclick\",N)}function m(N,T){var O=D.offset(),R=parseInt(T.pageX-O.left),P=parseInt(T.pageY-O.top),V=u(R,P);if(a.grid.autoHighlight){for(var Q=0;Q<j.length;++Q){var S=j[Q];if(S.auto==N&&!(V&&S.series==V.series)){f(S.series)}}}if(V){k(V.series,N)}var U={pageX:T.pageX,pageY:T.pageY};L.trigger(N,[U,V])}function k(O,P){if(typeof O==\"number\"){O=series[O]}var N=C(O);if(N==-1){j.push({series:O,auto:P});D.triggerRedrawOverlay()}else{if(!P){j[N].auto=false}}}function f(O){if(O==null){j=[];D.triggerRedrawOverlay()}if(typeof O==\"number\"){O=series[O]}var N=C(O);if(N!=-1){j.splice(N,1);D.triggerRedrawOverlay()}}function C(P){for(var N=0;N<j.length;++N){var O=j[N];if(O.series==P){return N}}return -1}function H(Q,R){var P=Q.getOptions();var N=P.series.pie.radius>1?P.series.pie.radius:n*P.series.pie.radius;R.save();R.translate(B,p);R.scale(1,P.series.pie.tilt);for(i=0;i<j.length;++i){O(j[i].series)}J(R);R.restore();function O(S){if(S.angle<0){return}R.fillStyle=\"rgba(255, 255, 255, \"+P.series.pie.highlight.opacity+\")\";R.beginPath();if(Math.abs(S.angle-Math.PI*2)>1e-9){R.moveTo(0,0)}R.arc(0,0,N,S.startAngle,S.startAngle+S.angle,false);R.closePath();R.fill()}}}var a={series:{pie:{show:false,radius:\"auto\",innerRadius:0,startAngle:3/2,tilt:1,offset:{top:0,left:\"auto\"},stroke:{color:\"#FFF\",width:1},label:{show:\"auto\",formatter:function(d,e){return'<div style=\"font-size:x-small;text-align:center;padding:2px;color:'+e.color+';\">'+d+\"<br/>\"+Math.round(e.percent)+\"%</div>\"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:\"Other\"},highlight:{opacity:0.5}}}};b.plot.plugins.push({init:c,options:a,name:\"pie\",version:\"1.0\"})})(jQuery);","(function(n,p,u){var w=n([]),s=n.resize=n.extend(n.resize,{}),o,l=\"setTimeout\",m=\"resize\",t=m+\"-special-event\",v=\"delay\",r=\"throttleWindow\";s[v]=250;s[r]=true;n.event.special[m]={setup:function(){if(!s[r]&&this[l]){return false}var a=n(this);w=w.add(a);n.data(this,t,{w:a.width(),h:a.height()});if(w.length===1){q()}},teardown:function(){if(!s[r]&&this[l]){return false}var a=n(this);w=w.not(a);a.removeData(t);if(!w.length){clearTimeout(o)}},add:function(b){if(!s[r]&&this[l]){return false}var c;function a(d,h,g){var f=n(this),e=n.data(this,t);e.w=h!==u?h:f.width();e.h=g!==u?g:f.height();c.apply(this,arguments)}if(n.isFunction(b)){c=b;return a}else{c=b.handler;b.handler=a}}};function q(){o=p[l](function(){w.each(function(){var d=n(this),a=d.width(),b=d.height(),c=n.data(this,t);if(a!==c.w||b!==c.h){d.trigger(m,[c.w=a,c.h=b])}});q()},s[v])}})(jQuery,this);(function(b){var a={};function c(f){function e(){var h=f.getPlaceholder();if(h.width()==0||h.height()==0){return}f.resize();f.setupGrid();f.draw()}function g(i,h){i.getPlaceholder().resize(e)}function d(i,h){i.getPlaceholder().unbind(\"resize\",e)}f.hooks.bindEvents.push(g);f.hooks.shutdown.push(d)}b.plot.plugins.push({init:c,options:a,name:\"resize\",version:\"1.0\"})})(jQuery);","// +--------------------------------------------------------------------+ \\\\\r\n// � Rapha�l 2.1.0 - JavaScript Vector Library                          � \\\\\r\n// +--------------------------------------------------------------------� \\\\\r\n// � Copyright � 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    � \\\\\r\n// � Copyright � 2008-2012 Sencha Labs (http://sencha.com)              � \\\\\r\n// +--------------------------------------------------------------------� \\\\\r\n// � Licensed under the MIT (http://raphaeljs.com/license.html) license.� \\\\\r\n// +--------------------------------------------------------------------+ \\\\\r\n\r\n(function(a){var b=\"0.3.4\",c=\"hasOwnProperty\",d=/[\\.\\/]/,e=\"*\",f=function(){},g=function(a,b){return a-b},h,i,j={n:{}},k=function(a,b){var c=j,d=i,e=Array.prototype.slice.call(arguments,2),f=k.listeners(a),l=0,m=!1,n,o=[],p={},q=[],r=h,s=[];h=a,i=0;for(var t=0,u=f.length;t<u;t++)\"zIndex\"in f[t]&&(o.push(f[t].zIndex),f[t].zIndex<0&&(p[f[t].zIndex]=f[t]));o.sort(g);while(o[l]<0){n=p[o[l++]],q.push(n.apply(b,e));if(i){i=d;return q}}for(t=0;t<u;t++){n=f[t];if(\"zIndex\"in n)if(n.zIndex==o[l]){q.push(n.apply(b,e));if(i)break;do{l++,n=p[o[l]],n&&q.push(n.apply(b,e));if(i)break}while(n)}else p[n.zIndex]=n;else{q.push(n.apply(b,e));if(i)break}}i=d,h=r;return q.length?q:null};k.listeners=function(a){var b=a.split(d),c=j,f,g,h,i,k,l,m,n,o=[c],p=[];for(i=0,k=b.length;i<k;i++){n=[];for(l=0,m=o.length;l<m;l++){c=o[l].n,g=[c[b[i]],c[e]],h=2;while(h--)f=g[h],f&&(n.push(f),p=p.concat(f.f||[]))}o=n}return p},k.on=function(a,b){var c=a.split(d),e=j;for(var g=0,h=c.length;g<h;g++)e=e.n,!e[c[g]]&&(e[c[g]]={n:{}}),e=e[c[g]];e.f=e.f||[];for(g=0,h=e.f.length;g<h;g++)if(e.f[g]==b)return f;e.f.push(b);return function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){i=1},k.nt=function(a){if(a)return(new RegExp(\"(?:\\\\.|\\\\/|^)\"+a+\"(?:\\\\.|\\\\/|$)\")).test(h);return h},k.off=k.unbind=function(a,b){var f=a.split(d),g,h,i,k,l,m,n,o=[j];for(k=0,l=f.length;k<l;k++)for(m=0;m<o.length;m+=i.length-2){i=[m,1],g=o[m].n;if(f[k]!=e)g[f[k]]&&i.push(g[f[k]]);else for(h in g)g[c](h)&&i.push(g[h]);o.splice.apply(o,i)}for(k=0,l=o.length;k<l;k++){g=o[k];while(g.n){if(b){if(g.f){for(m=0,n=g.f.length;m<n;m++)if(g.f[m]==b){g.f.splice(m,1);break}!g.f.length&&delete g.f}for(h in g.n)if(g.n[c](h)&&g.n[h].f){var p=g.n[h].f;for(m=0,n=p.length;m<n;m++)if(p[m]==b){p.splice(m,1);break}!p.length&&delete g.n[h].f}}else{delete g.f;for(h in g.n)g.n[c](h)&&g.n[h].f&&delete g.n[h].f}g=g.n}}},k.once=function(a,b){var c=function(){var d=b.apply(this,arguments);k.unbind(a,c);return d};return k.on(a,c)},k.version=b,k.toString=function(){return\"You are running Eve \"+b},typeof module!=\"undefined\"&&module.exports?module.exports=k:typeof define!=\"undefined\"?define(\"eve\",[],function(){return k}):a.eve=k})(this),function(){function cF(a){for(var b=0;b<cy.length;b++)cy[b].el.paper==a&&cy.splice(b--,1)}function cE(b,d,e,f,h,i){e=Q(e);var j,k,l,m=[],o,p,q,t=b.ms,u={},v={},w={};if(f)for(y=0,z=cy.length;y<z;y++){var x=cy[y];if(x.el.id==d.id&&x.anim==b){x.percent!=e?(cy.splice(y,1),l=1):k=x,d.attr(x.totalOrigin);break}}else f=+v;for(var y=0,z=b.percents.length;y<z;y++){if(b.percents[y]==e||b.percents[y]>f*b.top){e=b.percents[y],p=b.percents[y-1]||0,t=t/b.top*(e-p),o=b.percents[y+1],j=b.anim[e];break}f&&d.attr(b.anim[b.percents[y]])}if(!!j){if(!k){for(var A in j)if(j[g](A))if(U[g](A)||d.paper.customAttributes[g](A)){u[A]=d.attr(A),u[A]==null&&(u[A]=T[A]),v[A]=j[A];switch(U[A]){case C:w[A]=(v[A]-u[A])/t;break;case\"colour\":u[A]=a.getRGB(u[A]);var B=a.getRGB(v[A]);w[A]={r:(B.r-u[A].r)/t,g:(B.g-u[A].g)/t,b:(B.b-u[A].b)/t};break;case\"path\":var D=bR(u[A],v[A]),E=D[1];u[A]=D[0],w[A]=[];for(y=0,z=u[A].length;y<z;y++){w[A][y]=[0];for(var F=1,G=u[A][y].length;F<G;F++)w[A][y][F]=(E[y][F]-u[A][y][F])/t}break;case\"transform\":var H=d._,I=ca(H[A],v[A]);if(I){u[A]=I.from,v[A]=I.to,w[A]=[],w[A].real=!0;for(y=0,z=u[A].length;y<z;y++){w[A][y]=[u[A][y][0]];for(F=1,G=u[A][y].length;F<G;F++)w[A][y][F]=(v[A][y][F]-u[A][y][F])/t}}else{var J=d.matrix||new cb,K={_:{transform:H.transform},getBBox:function(){return d.getBBox(1)}};u[A]=[J.a,J.b,J.c,J.d,J.e,J.f],b$(K,v[A]),v[A]=K._.transform,w[A]=[(K.matrix.a-J.a)/t,(K.matrix.b-J.b)/t,(K.matrix.c-J.c)/t,(K.matrix.d-J.d)/t,(K.matrix.e-J.e)/t,(K.matrix.f-J.f)/t]}break;case\"csv\":var L=r(j[A])[s](c),M=r(u[A])[s](c);if(A==\"clip-rect\"){u[A]=M,w[A]=[],y=M.length;while(y--)w[A][y]=(L[y]-u[A][y])/t}v[A]=L;break;default:L=[][n](j[A]),M=[][n](u[A]),w[A]=[],y=d.paper.customAttributes[A].length;while(y--)w[A][y]=((L[y]||0)-(M[y]||0))/t}}var O=j.easing,P=a.easing_formulas[O];if(!P){P=r(O).match(N);if(P&&P.length==5){var R=P;P=function(a){return cC(a,+R[1],+R[2],+R[3],+R[4],t)}}else P=bf}q=j.start||b.start||+(new Date),x={anim:b,percent:e,timestamp:q,start:q+(b.del||0),status:0,initstatus:f||0,stop:!1,ms:t,easing:P,from:u,diff:w,to:v,el:d,callback:j.callback,prev:p,next:o,repeat:i||b.times,origin:d.attr(),totalOrigin:h},cy.push(x);if(f&&!k&&!l){x.stop=!0,x.start=new Date-t*f;if(cy.length==1)return cA()}l&&(x.start=new Date-x.ms*f),cy.length==1&&cz(cA)}else k.initstatus=f,k.start=new Date-k.ms*f;eve(\"raphael.anim.start.\"+d.id,d,b)}}function cD(a,b){var c=[],d={};this.ms=b,this.times=1;if(a){for(var e in a)a[g](e)&&(d[Q(e)]=a[e],c.push(Q(e)));c.sort(bd)}this.anim=d,this.top=c[c.length-1],this.percents=c}function cC(a,b,c,d,e,f){function o(a,b){var c,d,e,f,j,k;for(e=a,k=0;k<8;k++){f=m(e)-a;if(z(f)<b)return e;j=(3*i*e+2*h)*e+g;if(z(j)<1e-6)break;e=e-f/j}c=0,d=1,e=a;if(e<c)return c;if(e>d)return d;while(c<d){f=m(e);if(z(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}function n(a,b){var c=o(a,b);return((l*c+k)*c+j)*c}function m(a){return((i*a+h)*a+g)*a}var g=3*b,h=3*(d-b)-g,i=1-g-h,j=3*c,k=3*(e-c)-j,l=1-j-k;return n(a,1/(200*f))}function cq(){return this.x+q+this.y+q+this.width+\" � \"+this.height}function cp(){return this.x+q+this.y}function cb(a,b,c,d,e,f){a!=null?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function bH(b,c,d){b=a._path2curve(b),c=a._path2curve(c);var e,f,g,h,i,j,k,l,m,n,o=d?0:[];for(var p=0,q=b.length;p<q;p++){var r=b[p];if(r[0]==\"M\")e=i=r[1],f=j=r[2];else{r[0]==\"C\"?(m=[e,f].concat(r.slice(1)),e=m[6],f=m[7]):(m=[e,f,e,f,i,j,i,j],e=i,f=j);for(var s=0,t=c.length;s<t;s++){var u=c[s];if(u[0]==\"M\")g=k=u[1],h=l=u[2];else{u[0]==\"C\"?(n=[g,h].concat(u.slice(1)),g=n[6],h=n[7]):(n=[g,h,g,h,k,l,k,l],g=k,h=l);var v=bG(m,n,d);if(d)o+=v;else{for(var w=0,x=v.length;w<x;w++)v[w].segment1=p,v[w].segment2=s,v[w].bez1=m,v[w].bez2=n;o=o.concat(v)}}}}}return o}function bG(b,c,d){var e=a.bezierBBox(b),f=a.bezierBBox(c);if(!a.isBBoxIntersect(e,f))return d?0:[];var g=bB.apply(0,b),h=bB.apply(0,c),i=~~(g/5),j=~~(h/5),k=[],l=[],m={},n=d?0:[];for(var o=0;o<i+1;o++){var p=a.findDotsAtSegment.apply(a,b.concat(o/i));k.push({x:p.x,y:p.y,t:o/i})}for(o=0;o<j+1;o++)p=a.findDotsAtSegment.apply(a,c.concat(o/j)),l.push({x:p.x,y:p.y,t:o/j});for(o=0;o<i;o++)for(var q=0;q<j;q++){var r=k[o],s=k[o+1],t=l[q],u=l[q+1],v=z(s.x-r.x)<.001?\"y\":\"x\",w=z(u.x-t.x)<.001?\"y\":\"x\",x=bD(r.x,r.y,s.x,s.y,t.x,t.y,u.x,u.y);if(x){if(m[x.x.toFixed(4)]==x.y.toFixed(4))continue;m[x.x.toFixed(4)]=x.y.toFixed(4);var y=r.t+z((x[v]-r[v])/(s[v]-r[v]))*(s.t-r.t),A=t.t+z((x[w]-t[w])/(u[w]-t[w]))*(u.t-t.t);y>=0&&y<=1&&A>=0&&A<=1&&(d?n++:n.push({x:x.x,y:x.y,t1:y,t2:A}))}}return n}function bF(a,b){return bG(a,b,1)}function bE(a,b){return bG(a,b)}function bD(a,b,c,d,e,f,g,h){if(!(x(a,c)<y(e,g)||y(a,c)>x(e,g)||x(b,d)<y(f,h)||y(b,d)>x(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(!k)return;var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(n<+y(a,c).toFixed(2)||n>+x(a,c).toFixed(2)||n<+y(e,g).toFixed(2)||n>+x(e,g).toFixed(2)||o<+y(b,d).toFixed(2)||o>+x(b,d).toFixed(2)||o<+y(f,h).toFixed(2)||o>+x(f,h).toFixed(2))return;return{x:l,y:m}}}function bC(a,b,c,d,e,f,g,h,i){if(!(i<0||bB(a,b,c,d,e,f,g,h)<i)){var j=1,k=j/2,l=j-k,m,n=.01;m=bB(a,b,c,d,e,f,g,h,l);while(z(m-i)>n)k/=2,l+=(m<i?1:-1)*k,m=bB(a,b,c,d,e,f,g,h,l);return l}}function bB(a,b,c,d,e,f,g,h,i){i==null&&(i=1),i=i>1?1:i<0?0:i;var j=i/2,k=12,l=[-0.1252,.1252,-0.3678,.3678,-0.5873,.5873,-0.7699,.7699,-0.9041,.9041,-0.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],n=0;for(var o=0;o<k;o++){var p=j*l[o]+j,q=bA(p,a,c,e,g),r=bA(p,b,d,f,h),s=q*q+r*r;n+=m[o]*w.sqrt(s)}return j*n}function bA(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function by(a,b){var c=[];for(var d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push([\"C\",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}function bx(){return this.hex}function bv(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join(\"?\"),h=d.cache=d.cache||{},i=d.count=d.count||[];if(h[g](f)){bu(i,f);return c?c(h[f]):h[f]}i.length>=1e3&&delete h[i.shift()],i.push(f),h[f]=a[m](b,e);return c?c(h[f]):h[f]}return d}function bu(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function bm(a){if(Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[g](c)&&(b[c]=bm(a[c]));return b}function a(c){if(a.is(c,\"function\"))return b?c():eve.on(\"raphael.DOMload\",c);if(a.is(c,E))return a._engine.create[m](a,c.splice(0,3+a.is(c[0],C))).add(c);var d=Array.prototype.slice.call(arguments,0);if(a.is(d[d.length-1],\"function\")){var e=d.pop();return b?e.call(a._engine.create[m](a,d)):eve.on(\"raphael.DOMload\",function(){e.call(a._engine.create[m](a,d))})}return a._engine.create[m](a,arguments)}a.version=\"2.1.0\",a.eve=eve;var b,c=/[, ]+/,d={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},e=/\\{(\\d+)\\}/g,f=\"prototype\",g=\"hasOwnProperty\",h={doc:document,win:window},i={was:Object.prototype[g].call(h.win,\"Raphael\"),is:h.win.Raphael},j=function(){this.ca=this.customAttributes={}},k,l=\"appendChild\",m=\"apply\",n=\"concat\",o=\"createTouch\"in h.doc,p=\"\",q=\" \",r=String,s=\"split\",t=\"click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel\"[s](q),u={mousedown:\"touchstart\",mousemove:\"touchmove\",mouseup:\"touchend\"},v=r.prototype.toLowerCase,w=Math,x=w.max,y=w.min,z=w.abs,A=w.pow,B=w.PI,C=\"number\",D=\"string\",E=\"array\",F=\"toString\",G=\"fill\",H=Object.prototype.toString,I={},J=\"push\",K=a._ISURL=/^url\\(['\"]?([^\\)]+?)['\"]?\\)$/i,L=/^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\))\\s*$/i,M={NaN:1,Infinity:1,\"-Infinity\":1},N=/^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,O=w.round,P=\"setAttribute\",Q=parseFloat,R=parseInt,S=r.prototype.toUpperCase,T=a._availableAttrs={\"arrow-end\":\"none\",\"arrow-start\":\"none\",blur:0,\"clip-rect\":\"0 0 1e9 1e9\",cursor:\"default\",cx:0,cy:0,fill:\"#fff\",\"fill-opacity\":1,font:'10px \"Arial\"',\"font-family\":'\"Arial\"',\"font-size\":\"10\",\"font-style\":\"normal\",\"font-weight\":400,gradient:0,height:0,href:\"http://raphaeljs.com/\",\"letter-spacing\":0,opacity:1,path:\"M0,0\",r:0,rx:0,ry:0,src:\"\",stroke:\"#000\",\"stroke-dasharray\":\"\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"butt\",\"stroke-miterlimit\":0,\"stroke-opacity\":1,\"stroke-width\":1,target:\"_blank\",\"text-anchor\":\"middle\",title:\"Raphael\",transform:\"\",width:0,x:0,y:0},U=a._availableAnimAttrs={blur:C,\"clip-rect\":\"csv\",cx:C,cy:C,fill:\"colour\",\"fill-opacity\":C,\"font-size\":C,height:C,opacity:C,path:\"path\",r:C,rx:C,ry:C,stroke:\"colour\",\"stroke-opacity\":C,\"stroke-width\":C,transform:\"transform\",width:C,x:C,y:C},V=/[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]/g,W=/[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/,X={hs:1,rg:1},Y=/,?([achlmqrstvxz]),?/gi,Z=/([achlmrqstvz])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,$=/([rstm])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,_=/(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/ig,ba=a._radial_gradient=/^r(?:\\(([^,]+?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*([^\\)]+?)\\))?/,bb={},bc=function(a,b){return a.key-b.key},bd=function(a,b){return Q(a)-Q(b)},be=function(){},bf=function(a){return a},bg=a._rectPath=function(a,b,c,d,e){if(e)return[[\"M\",a+e,b],[\"l\",c-e*2,0],[\"a\",e,e,0,0,1,e,e],[\"l\",0,d-e*2],[\"a\",e,e,0,0,1,-e,e],[\"l\",e*2-c,0],[\"a\",e,e,0,0,1,-e,-e],[\"l\",0,e*2-d],[\"a\",e,e,0,0,1,e,-e],[\"z\"]];return[[\"M\",a,b],[\"l\",c,0],[\"l\",0,d],[\"l\",-c,0],[\"z\"]]},bh=function(a,b,c,d){d==null&&(d=c);return[[\"M\",a,b],[\"m\",0,-d],[\"a\",c,d,0,1,1,0,2*d],[\"a\",c,d,0,1,1,0,-2*d],[\"z\"]]},bi=a._getPath={path:function(a){return a.attr(\"path\")},circle:function(a){var b=a.attrs;return bh(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return bh(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return bg(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return bg(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return bg(b.x,b.y,b.width,b.height)}},bj=a.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;a=bR(a);for(e=0,g=a.length;e<g;e++){i=a[e];for(f=1,h=i.length;f<h;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d}return a};a._g=h,a.type=h.win.SVGAngle||h.doc.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\",\"1.1\")?\"SVG\":\"VML\";if(a.type==\"VML\"){var bk=h.doc.createElement(\"div\"),bl;bk.innerHTML='<v:shape adj=\"1\"/>',bl=bk.firstChild,bl.style.behavior=\"url(#default#VML)\";if(!bl||typeof bl.adj!=\"object\")return a.type=p;bk=null}a.svg=!(a.vml=a.type==\"VML\"),a._Paper=j,a.fn=k=j.prototype=a.prototype,a._id=0,a._oid=0,a.is=function(a,b){b=v.call(b);if(b==\"finite\")return!M[g](+a);if(b==\"array\")return a instanceof Array;return b==\"null\"&&a===null||b==typeof a&&a!==null||b==\"object\"&&a===Object(a)||b==\"array\"&&Array.isArray&&Array.isArray(a)||H.call(a).slice(8,-1).toLowerCase()==b},a.angle=function(b,c,d,e,f,g){if(f==null){var h=b-d,i=c-e;if(!h&&!i)return 0;return(180+w.atan2(-i,-h)*180/B+360)%360}return a.angle(b,c,f,g)-a.angle(d,e,f,g)},a.rad=function(a){return a%360*B/180},a.deg=function(a){return a*180/B%360},a.snapTo=function(b,c,d){d=a.is(d,\"finite\")?d:10;if(a.is(b,E)){var e=b.length;while(e--)if(z(b[e]-c)<=d)return b[e]}else{b=+b;var f=c%b;if(f<d)return c-f;if(f>b-d)return c-f+b}return c};var bn=a.createUUID=function(a,b){return function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=w.random()*16|0,c=a==\"x\"?b:b&3|8;return c.toString(16)});a.setWindow=function(b){eve(\"raphael.setWindow\",a,h.win,b),h.win=b,h.doc=h.win.document,a._engine.initWin&&a._engine.initWin(h.win)};var bo=function(b){if(a.vml){var c=/^\\s+|\\s+$/g,d;try{var e=new ActiveXObject(\"htmlfile\");e.write(\"<body>\"),e.close(),d=e.body}catch(f){d=createPopup().document.body}var g=d.createTextRange();bo=bv(function(a){try{d.style.color=r(a).replace(c,p);var b=g.queryCommandValue(\"ForeColor\");b=(b&255)<<16|b&65280|(b&16711680)>>>16;return\"#\"+(\"000000\"+b.toString(16)).slice(-6)}catch(e){return\"none\"}})}else{var i=h.doc.createElement(\"i\");i.title=\"Rapha�l Colour Picker\",i.style.display=\"none\",h.doc.body.appendChild(i),bo=bv(function(a){i.style.color=a;return h.doc.defaultView.getComputedStyle(i,p).getPropertyValue(\"color\")})}return bo(b)},bp=function(){return\"hsb(\"+[this.h,this.s,this.b]+\")\"},bq=function(){return\"hsl(\"+[this.h,this.s,this.l]+\")\"},br=function(){return this.hex},bs=function(b,c,d){c==null&&a.is(b,\"object\")&&\"r\"in b&&\"g\"in b&&\"b\"in b&&(d=b.b,c=b.g,b=b.r);if(c==null&&a.is(b,D)){var e=a.getRGB(b);b=e.r,c=e.g,d=e.b}if(b>1||c>1||d>1)b/=255,c/=255,d/=255;return[b,c,d]},bt=function(b,c,d,e){b*=255,c*=255,d*=255;var f={r:b,g:c,b:d,hex:a.rgb(b,c,d),toString:br};a.is(e,\"finite\")&&(f.opacity=e);return f};a.color=function(b){var c;a.is(b,\"object\")&&\"h\"in b&&\"s\"in b&&\"b\"in b?(c=a.hsb2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):a.is(b,\"object\")&&\"h\"in b&&\"s\"in b&&\"l\"in b?(c=a.hsl2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):(a.is(b,\"string\")&&(b=a.getRGB(b)),a.is(b,\"object\")&&\"r\"in b&&\"g\"in b&&\"b\"in b?(c=a.rgb2hsl(b),b.h=c.h,b.s=c.s,b.l=c.l,c=a.rgb2hsb(b),b.v=c.b):(b={hex:\"none\"},b.r=b.g=b.b=b.h=b.s=b.v=b.l=-1)),b.toString=br;return b},a.hsb2rgb=function(a,b,c,d){this.is(a,\"object\")&&\"h\"in a&&\"s\"in a&&\"b\"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,f,g,h,i;a=a%360/60,i=c*b,h=i*(1-z(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a];return bt(e,f,g,d)},a.hsl2rgb=function(a,b,c,d){this.is(a,\"object\")&&\"h\"in a&&\"s\"in a&&\"l\"in a&&(c=a.l,b=a.s,a=a.h);if(a>1||b>1||c>1)a/=360,b/=100,c/=100;a*=360;var e,f,g,h,i;a=a%360/60,i=2*b*(c<.5?c:1-c),h=i*(1-z(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a];return bt(e,f,g,d)},a.rgb2hsb=function(a,b,c){c=bs(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;f=x(a,b,c),g=f-y(a,b,c),d=g==0?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=g==0?0:g/f;return{h:d,s:e,b:f,toString:bp}},a.rgb2hsl=function(a,b,c){c=bs(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;g=x(a,b,c),h=y(a,b,c),i=g-h,d=i==0?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=i==0?0:f<.5?i/(2*f):i/(2-2*f);return{h:d,s:e,l:f,toString:bq}},a._path2string=function(){return this.join(\",\").replace(Y,\"$1\")};var bw=a._preload=function(a,b){var c=h.doc.createElement(\"img\");c.style.cssText=\"position:absolute;left:-9999em;top:-9999em\",c.onload=function(){b.call(this),this.onload=null,h.doc.body.removeChild(this)},c.onerror=function(){h.doc.body.removeChild(this)},h.doc.body.appendChild(c),c.src=a};a.getRGB=bv(function(b){if(!b||!!((b=r(b)).indexOf(\"-\")+1))return{r:-1,g:-1,b:-1,hex:\"none\",error:1,toString:bx};if(b==\"none\")return{r:-1,g:-1,b:-1,hex:\"none\",toString:bx};!X[g](b.toLowerCase().substring(0,2))&&b.charAt()!=\"#\"&&(b=bo(b));var c,d,e,f,h,i,j,k=b.match(L);if(k){k[2]&&(f=R(k[2].substring(5),16),e=R(k[2].substring(3,5),16),d=R(k[2].substring(1,3),16)),k[3]&&(f=R((i=k[3].charAt(3))+i,16),e=R((i=k[3].charAt(2))+i,16),d=R((i=k[3].charAt(1))+i,16)),k[4]&&(j=k[4][s](W),d=Q(j[0]),j[0].slice(-1)==\"%\"&&(d*=2.55),e=Q(j[1]),j[1].slice(-1)==\"%\"&&(e*=2.55),f=Q(j[2]),j[2].slice(-1)==\"%\"&&(f*=2.55),k[1].toLowerCase().slice(0,4)==\"rgba\"&&(h=Q(j[3])),j[3]&&j[3].slice(-1)==\"%\"&&(h/=100));if(k[5]){j=k[5][s](W),d=Q(j[0]),j[0].slice(-1)==\"%\"&&(d*=2.55),e=Q(j[1]),j[1].slice(-1)==\"%\"&&(e*=2.55),f=Q(j[2]),j[2].slice(-1)==\"%\"&&(f*=2.55),(j[0].slice(-3)==\"deg\"||j[0].slice(-1)==\"�\")&&(d/=360),k[1].toLowerCase().slice(0,4)==\"hsba\"&&(h=Q(j[3])),j[3]&&j[3].slice(-1)==\"%\"&&(h/=100);return a.hsb2rgb(d,e,f,h)}if(k[6]){j=k[6][s](W),d=Q(j[0]),j[0].slice(-1)==\"%\"&&(d*=2.55),e=Q(j[1]),j[1].slice(-1)==\"%\"&&(e*=2.55),f=Q(j[2]),j[2].slice(-1)==\"%\"&&(f*=2.55),(j[0].slice(-3)==\"deg\"||j[0].slice(-1)==\"�\")&&(d/=360),k[1].toLowerCase().slice(0,4)==\"hsla\"&&(h=Q(j[3])),j[3]&&j[3].slice(-1)==\"%\"&&(h/=100);return a.hsl2rgb(d,e,f,h)}k={r:d,g:e,b:f,toString:bx},k.hex=\"#\"+(16777216|f|e<<8|d<<16).toString(16).slice(1),a.is(h,\"finite\")&&(k.opacity=h);return k}return{r:-1,g:-1,b:-1,hex:\"none\",error:1,toString:bx}},a),a.hsb=bv(function(b,c,d){return a.hsb2rgb(b,c,d).hex}),a.hsl=bv(function(b,c,d){return a.hsl2rgb(b,c,d).hex}),a.rgb=bv(function(a,b,c){return\"#\"+(16777216|c|b<<8|a<<16).toString(16).slice(1)}),a.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b}));return c.hex},a.getColor.reset=function(){delete this.start},a.parsePathString=function(b){if(!b)return null;var c=bz(b);if(c.arr)return bJ(c.arr);var d={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},e=[];a.is(b,E)&&a.is(b[0],E)&&(e=bJ(b)),e.length||r(b).replace(Z,function(a,b,c){var f=[],g=b.toLowerCase();c.replace(_,function(a,b){b&&f.push(+b)}),g==\"m\"&&f.length>2&&(e.push([b][n](f.splice(0,2))),g=\"l\",b=b==\"m\"?\"l\":\"L\");if(g==\"r\")e.push([b][n](f));else while(f.length>=d[g]){e.push([b][n](f.splice(0,d[g])));if(!d[g])break}}),e.toString=a._path2string,c.arr=bJ(e);return e},a.parseTransformString=bv(function(b){if(!b)return null;var c={r:3,s:4,t:2,m:6},d=[];a.is(b,E)&&a.is(b[0],E)&&(d=bJ(b)),d.length||r(b).replace($,function(a,b,c){var e=[],f=v.call(b);c.replace(_,function(a,b){b&&e.push(+b)}),d.push([b][n](e))}),d.toString=a._path2string;return d});var bz=function(a){var b=bz.ps=bz.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[g](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])});return b[a]};a.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=A(j,3),l=A(j,2),m=i*i,n=m*i,o=k*a+l*3*i*c+j*3*i*i*e+n*g,p=k*b+l*3*i*d+j*3*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,x=j*e+i*g,y=j*f+i*h,z=90-w.atan2(q-s,r-t)*180/B;(q>s||r<t)&&(z+=180);return{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:x,y:y},alpha:z}},a.bezierBBox=function(b,c,d,e,f,g,h,i){a.is(b,\"array\")||(b=[b,c,d,e,f,g,h,i]);var j=bQ.apply(null,b);return{x:j.min.x,y:j.min.y,x2:j.max.x,y2:j.max.y,width:j.max.x-j.min.x,height:j.max.y-j.min.y}},a.isPointInsideBBox=function(a,b,c){return b>=a.x&&b<=a.x2&&c>=a.y&&c<=a.y2},a.isBBoxIntersect=function(b,c){var d=a.isPointInsideBBox;return d(c,b.x,b.y)||d(c,b.x2,b.y)||d(c,b.x,b.y2)||d(c,b.x2,b.y2)||d(b,c.x,c.y)||d(b,c.x2,c.y)||d(b,c.x,c.y2)||d(b,c.x2,c.y2)||(b.x<c.x2&&b.x>c.x||c.x<b.x2&&c.x>b.x)&&(b.y<c.y2&&b.y>c.y||c.y<b.y2&&c.y>b.y)},a.pathIntersection=function(a,b){return bH(a,b)},a.pathIntersectionNumber=function(a,b){return bH(a,b,1)},a.isPointInsidePath=function(b,c,d){var e=a.pathBBox(b);return a.isPointInsideBBox(e,c,d)&&bH(b,[[\"M\",c,d],[\"H\",e.x2+10]],1)%2==1},a._removedFactory=function(a){return function(){eve(\"raphael.log\",null,\"Rapha�l: you are calling to method �\"+a+\"� of removed object\",a)}};var bI=a.pathBBox=function(a){var b=bz(a);if(b.bbox)return b.bbox;if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=bR(a);var c=0,d=0,e=[],f=[],g;for(var h=0,i=a.length;h<i;h++){g=a[h];if(g[0]==\"M\")c=g[1],d=g[2],e.push(c),f.push(d);else{var j=bQ(c,d,g[1],g[2],g[3],g[4],g[5],g[6]);e=e[n](j.min.x,j.max.x),f=f[n](j.min.y,j.max.y),c=g[5],d=g[6]}}var k=y[m](0,e),l=y[m](0,f),o=x[m](0,e),p=x[m](0,f),q={x:k,y:l,x2:o,y2:p,width:o-k,height:p-l};b.bbox=bm(q);return q},bJ=function(b){var c=bm(b);c.toString=a._path2string;return c},bK=a._pathToRelative=function(b){var c=bz(b);if(c.rel)return bJ(c.rel);if(!a.is(b,E)||!a.is(b&&b[0],E))b=a.parsePathString(b);var d=[],e=0,f=0,g=0,h=0,i=0;b[0][0]==\"M\"&&(e=b[0][1],f=b[0][2],g=e,h=f,i++,d.push([\"M\",e,f]));for(var j=i,k=b.length;j<k;j++){var l=d[j]=[],m=b[j];if(m[0]!=v.call(m[0])){l[0]=v.call(m[0]);switch(l[0]){case\"a\":l[1]=m[1],l[2]=m[2],l[3]=m[3],l[4]=m[4],l[5]=m[5],l[6]=+(m[6]-e).toFixed(3),l[7]=+(m[7]-f).toFixed(3);break;case\"v\":l[1]=+(m[1]-f).toFixed(3);break;case\"m\":g=m[1],h=m[2];default:for(var n=1,o=m.length;n<o;n++)l[n]=+(m[n]-(n%2?e:f)).toFixed(3)}}else{l=d[j]=[],m[0]==\"m\"&&(g=m[1]+e,h=m[2]+f);for(var p=0,q=m.length;p<q;p++)d[j][p]=m[p]}var r=d[j].length;switch(d[j][0]){case\"z\":e=g,f=h;break;case\"h\":e+=+d[j][r-1];break;case\"v\":f+=+d[j][r-1];break;default:e+=+d[j][r-2],f+=+d[j][r-1]}}d.toString=a._path2string,c.rel=bJ(d);return d},bL=a._pathToAbsolute=function(b){var c=bz(b);if(c.abs)return bJ(c.abs);if(!a.is(b,E)||!a.is(b&&b[0],E))b=a.parsePathString(b);if(!b||!b.length)return[[\"M\",0,0]];var d=[],e=0,f=0,g=0,h=0,i=0;b[0][0]==\"M\"&&(e=+b[0][1],f=+b[0][2],g=e,h=f,i++,d[0]=[\"M\",e,f]);var j=b.length==3&&b[0][0]==\"M\"&&b[1][0].toUpperCase()==\"R\"&&b[2][0].toUpperCase()==\"Z\";for(var k,l,m=i,o=b.length;m<o;m++){d.push(k=[]),l=b[m];if(l[0]!=S.call(l[0])){k[0]=S.call(l[0]);switch(k[0]){case\"A\":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]+e),k[7]=+(l[7]+f);break;case\"V\":k[1]=+l[1]+f;break;case\"H\":k[1]=+l[1]+e;break;case\"R\":var p=[e,f][n](l.slice(1));for(var q=2,r=p.length;q<r;q++)p[q]=+p[q]+e,p[++q]=+p[q]+f;d.pop(),d=d[n](by(p,j));break;case\"M\":g=+l[1]+e,h=+l[2]+f;default:for(q=1,r=l.length;q<r;q++)k[q]=+l[q]+(q%2?e:f)}}else if(l[0]==\"R\")p=[e,f][n](l.slice(1)),d.pop(),d=d[n](by(p,j)),k=[\"R\"][n](l.slice(-2));else for(var s=0,t=l.length;s<t;s++)k[s]=l[s];switch(k[0]){case\"Z\":e=g,f=h;break;case\"H\":e=k[1];break;case\"V\":f=k[1];break;case\"M\":g=k[k.length-2],h=k[k.length-1];default:e=k[k.length-2],f=k[k.length-1]}}d.toString=a._path2string,c.abs=bJ(d);return d},bM=function(a,b,c,d){return[a,b,c,d,c,d]},bN=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},bO=function(a,b,c,d,e,f,g,h,i,j){var k=B*120/180,l=B/180*(+e||0),m=[],o,p=bv(function(a,b,c){var d=a*w.cos(c)-b*w.sin(c),e=a*w.sin(c)+b*w.cos(c);return{x:d,y:e}});if(!j){o=p(a,b,-l),a=o.x,b=o.y,o=p(h,i,-l),h=o.x,i=o.y;var q=w.cos(B/180*e),r=w.sin(B/180*e),t=(a-h)/2,u=(b-i)/2,v=t*t/(c*c)+u*u/(d*d);v>1&&(v=w.sqrt(v),c=v*c,d=v*d);var x=c*c,y=d*d,A=(f==g?-1:1)*w.sqrt(z((x*y-x*u*u-y*t*t)/(x*u*u+y*t*t))),C=A*c*u/d+(a+h)/2,D=A*-d*t/c+(b+i)/2,E=w.asin(((b-D)/d).toFixed(9)),F=w.asin(((i-D)/d).toFixed(9));E=a<C?B-E:E,F=h<C?B-F:F,E<0&&(E=B*2+E),F<0&&(F=B*2+F),g&&E>F&&(E=E-B*2),!g&&F>E&&(F=F-B*2)}else E=j[0],F=j[1],C=j[2],D=j[3];var G=F-E;if(z(G)>k){var H=F,I=h,J=i;F=E+k*(g&&F>E?1:-1),h=C+c*w.cos(F),i=D+d*w.sin(F),m=bO(h,i,c,d,e,0,g,I,J,[F,H,C,D])}G=F-E;var K=w.cos(E),L=w.sin(E),M=w.cos(F),N=w.sin(F),O=w.tan(G/4),P=4/3*c*O,Q=4/3*d*O,R=[a,b],S=[a+P*L,b-Q*K],T=[h+P*N,i-Q*M],U=[h,i];S[0]=2*R[0]-S[0],S[1]=2*R[1]-S[1];if(j)return[S,T,U][n](m);m=[S,T,U][n](m).join()[s](\",\");var V=[];for(var W=0,X=m.length;W<X;W++)V[W]=W%2?p(m[W-1],m[W],l).y:p(m[W],m[W+1],l).x;return V},bP=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:A(j,3)*a+A(j,2)*3*i*c+j*3*i*i*e+A(i,3)*g,y:A(j,3)*b+A(j,2)*3*i*d+j*3*i*i*f+A(i,3)*h}},bQ=bv(function(a,b,c,d,e,f,g,h){var i=e-2*c+a-(g-2*e+c),j=2*(c-a)-2*(e-c),k=a-c,l=(-j+w.sqrt(j*j-4*i*k))/2/i,n=(-j-w.sqrt(j*j-4*i*k))/2/i,o=[b,h],p=[a,g],q;z(l)>\"1e12\"&&(l=.5),z(n)>\"1e12\"&&(n=.5),l>0&&l<1&&(q=bP(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),n>0&&n<1&&(q=bP(a,b,c,d,e,f,g,h,n),p.push(q.x),o.push(q.y)),i=f-2*d+b-(h-2*f+d),j=2*(d-b)-2*(f-d),k=b-d,l=(-j+w.sqrt(j*j-4*i*k))/2/i,n=(-j-w.sqrt(j*j-4*i*k))/2/i,z(l)>\"1e12\"&&(l=.5),z(n)>\"1e12\"&&(n=.5),l>0&&l<1&&(q=bP(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),n>0&&n<1&&(q=bP(a,b,c,d,e,f,g,h,n),p.push(q.x),o.push(q.y));return{min:{x:y[m](0,p),y:y[m](0,o)},max:{x:x[m](0,p),y:x[m](0,o)}}}),bR=a._path2curve=bv(function(a,b){var c=!b&&bz(a);if(!b&&c.curve)return bJ(c.curve);var d=bL(a),e=b&&bL(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(a,b){var c,d;if(!a)return[\"C\",b.x,b.y,b.x,b.y,b.x,b.y];!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null);switch(a[0]){case\"M\":b.X=a[1],b.Y=a[2];break;case\"A\":a=[\"C\"][n](bO[m](0,[b.x,b.y][n](a.slice(1))));break;case\"S\":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=[\"C\",c,d][n](a.slice(1));break;case\"T\":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=[\"C\"][n](bN(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case\"Q\":b.qx=a[1],b.qy=a[2],a=[\"C\"][n](bN(b.x,b.y,a[1],a[2],a[3],a[4]));break;case\"L\":a=[\"C\"][n](bM(b.x,b.y,a[1],a[2]));break;case\"H\":a=[\"C\"][n](bM(b.x,b.y,a[1],b.y));break;case\"V\":a=[\"C\"][n](bM(b.x,b.y,b.x,a[1]));break;case\"Z\":a=[\"C\"][n](bM(b.x,b.y,b.X,b.Y))}return a},i=function(a,b){if(a[b].length>7){a[b].shift();var c=a[b];while(c.length)a.splice(b++,0,[\"C\"][n](c.splice(0,6)));a.splice(b,1),l=x(d.length,e&&e.length||0)}},j=function(a,b,c,f,g){a&&b&&a[g][0]==\"M\"&&b[g][0]!=\"M\"&&(b.splice(g,0,[\"M\",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],l=x(d.length,e&&e.length||0))};for(var k=0,l=x(d.length,e&&e.length||0);k<l;k++){d[k]=h(d[k],f),i(d,k),e&&(e[k]=h(e[k],g)),e&&i(e,k),j(d,e,f,g,k),j(e,d,g,f,k);var o=d[k],p=e&&e[k],q=o.length,r=e&&p.length;f.x=o[q-2],f.y=o[q-1],f.bx=Q(o[q-4])||f.x,f.by=Q(o[q-3])||f.y,g.bx=e&&(Q(p[r-4])||g.x),g.by=e&&(Q(p[r-3])||g.y),g.x=e&&p[r-2],g.y=e&&p[r-1]}e||(c.curve=bJ(d));return e?[d,e]:d},null,bJ),bS=a._parseDots=bv(function(b){var c=[];for(var d=0,e=b.length;d<e;d++){var f={},g=b[d].match(/^([^:]*):?([\\d\\.]*)/);f.color=a.getRGB(g[1]);if(f.color.error)return null;f.color=f.color.hex,g[2]&&(f.offset=g[2]+\"%\"),c.push(f)}for(d=1,e=c.length-1;d<e;d++)if(!c[d].offset){var h=Q(c[d-1].offset||0),i=0;for(var j=d+1;j<e;j++)if(c[j].offset){i=c[j].offset;break}i||(i=100,j=e),i=Q(i);var k=(i-h)/(j-d+1);for(;d<j;d++)h+=k,c[d].offset=h+\"%\"}return c}),bT=a._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)},bU=a._tofront=function(a,b){b.top!==a&&(bT(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},bV=a._toback=function(a,b){b.bottom!==a&&(bT(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},bW=a._insertafter=function(a,b,c){bT(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},bX=a._insertbefore=function(a,b,c){bT(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},bY=a.toMatrix=function(a,b){var c=bI(a),d={_:{transform:p},getBBox:function(){return c}};b$(d,b);return d.matrix},bZ=a.transformPath=function(a,b){return bj(a,bY(a,b))},b$=a._extractTransform=function(b,c){if(c==null)return b._.transform;c=r(c).replace(/\\.{3}|\\u2026/g,b._.transform||p);var d=a.parseTransformString(c),e=0,f=0,g=0,h=1,i=1,j=b._,k=new cb;j.transform=d||[];if(d)for(var l=0,m=d.length;l<m;l++){var n=d[l],o=n.length,q=r(n[0]).toLowerCase(),s=n[0]!=q,t=s?k.invert():0,u,v,w,x,y;q==\"t\"&&o==3?s?(u=t.x(0,0),v=t.y(0,0),w=t.x(n[1],n[2]),x=t.y(n[1],n[2]),k.translate(w-u,x-v)):k.translate(n[1],n[2]):q==\"r\"?o==2?(y=y||b.getBBox(1),k.rotate(n[1],y.x+y.width/2,y.y+y.height/2),e+=n[1]):o==4&&(s?(w=t.x(n[2],n[3]),x=t.y(n[2],n[3]),k.rotate(n[1],w,x)):k.rotate(n[1],n[2],n[3]),e+=n[1]):q==\"s\"?o==2||o==3?(y=y||b.getBBox(1),k.scale(n[1],n[o-1],y.x+y.width/2,y.y+y.height/2),h*=n[1],i*=n[o-1]):o==5&&(s?(w=t.x(n[3],n[4]),x=t.y(n[3],n[4]),k.scale(n[1],n[2],w,x)):k.scale(n[1],n[2],n[3],n[4]),h*=n[1],i*=n[2]):q==\"m\"&&o==7&&k.add(n[1],n[2],n[3],n[4],n[5],n[6]),j.dirtyT=1,b.matrix=k}b.matrix=k,j.sx=h,j.sy=i,j.deg=e,j.dx=f=k.e,j.dy=g=k.f,h==1&&i==1&&!e&&j.bbox?(j.bbox.x+=+f,j.bbox.y+=+g):j.dirtyT=1},b_=function(a){var b=a[0];switch(b.toLowerCase()){case\"t\":return[b,0,0];case\"m\":return[b,1,0,0,1,0,0];case\"r\":return a.length==4?[b,0,a[2],a[3]]:[b,0];case\"s\":return a.length==5?[b,1,1,a[3],a[4]]:a.length==3?[b,1,1]:[b,1]}},ca=a._equaliseTransform=function(b,c){c=r(c).replace(/\\.{3}|\\u2026/g,b),b=a.parseTransformString(b)||[],c=a.parseTransformString(c)||[];var d=x(b.length,c.length),e=[],f=[],g=0,h,i,j,k;for(;g<d;g++){j=b[g]||b_(c[g]),k=c[g]||b_(j);if(j[0]!=k[0]||j[0].toLowerCase()==\"r\"&&(j[2]!=k[2]||j[3]!=k[3])||j[0].toLowerCase()==\"s\"&&(j[3]!=k[3]||j[4]!=k[4]))return;e[g]=[],f[g]=[];for(h=0,i=x(j.length,k.length);h<i;h++)h in j&&(e[g][h]=j[h]),h in k&&(f[g][h]=k[h])}return{from:e,to:f}};a._getContainer=function(b,c,d,e){var f;f=e==null&&!a.is(b,\"object\")?h.doc.getElementById(b):b;if(f!=null){if(f.tagName)return c==null?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:c,height:d};return{container:1,x:b,y:c,width:d,height:e}}},a.pathToRelative=bK,a._engine={},a.path2curve=bR,a.matrix=function(a,b,c,d,e,f){return new cb(a,b,c,d,e,f)},function(b){function d(a){var b=w.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}function c(a){return a[0]*a[0]+a[1]*a[1]}b.add=function(a,b,c,d,e,f){var g=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],i=[[a,c,e],[b,d,f],[0,0,1]],j,k,l,m;a&&a instanceof cb&&(i=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(j=0;j<3;j++)for(k=0;k<3;k++){m=0;for(l=0;l<3;l++)m+=h[j][l]*i[l][k];g[j][k]=m}this.a=g[0][0],this.b=g[1][0],this.c=g[0][1],this.d=g[1][1],this.e=g[0][2],this.f=g[1][2]},b.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new cb(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},b.clone=function(){return new cb(this.a,this.b,this.c,this.d,this.e,this.f)},b.translate=function(a,b){this.add(1,0,0,1,a,b)},b.scale=function(a,b,c,d){b==null&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},b.rotate=function(b,c,d){b=a.rad(b),c=c||0,d=d||0;var e=+w.cos(b).toFixed(9),f=+w.sin(b).toFixed(9);this.add(e,f,-f,e,c,d),this.add(1,0,0,1,-c,-d)},b.x=function(a,b){return a*this.a+b*this.c+this.e},b.y=function(a,b){return a*this.b+b*this.d+this.f},b.get=function(a){return+this[r.fromCharCode(97+a)].toFixed(4)},b.toString=function(){return a.svg?\"matrix(\"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+\")\":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},b.toFilter=function(){return\"progid:DXImageTransform.Microsoft.Matrix(M11=\"+this.get(0)+\", M12=\"+this.get(2)+\", M21=\"+this.get(1)+\", M22=\"+this.get(3)+\", Dx=\"+this.get(4)+\", Dy=\"+this.get(5)+\", sizingmethod='auto expand')\"},b.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},b.split=function(){var b={};b.dx=this.e,b.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];b.scalex=w.sqrt(c(e[0])),d(e[0]),b.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*b.shear,e[1][1]-e[0][1]*b.shear],b.scaley=w.sqrt(c(e[1])),d(e[1]),b.shear/=b.scaley;var f=-e[0][1],g=e[1][1];g<0?(b.rotate=a.deg(w.acos(g)),f<0&&(b.rotate=360-b.rotate)):b.rotate=a.deg(w.asin(f)),b.isSimple=!+b.shear.toFixed(9)&&(b.scalex.toFixed(9)==b.scaley.toFixed(9)||!b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate;return b},b.toTransformString=function(a){var b=a||this[s]();if(b.isSimple){b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4);return(b.dx||b.dy?\"t\"+[b.dx,b.dy]:p)+(b.scalex!=1||b.scaley!=1?\"s\"+[b.scalex,b.scaley,0,0]:p)+(b.rotate?\"r\"+[b.rotate,0,0]:p)}return\"m\"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(cb.prototype);var cc=navigator.userAgent.match(/Version\\/(.*?)\\s/)||navigator.userAgent.match(/Chrome\\/(\\d+)/);navigator.vendor==\"Apple Computer, Inc.\"&&(cc&&cc[1]<4||navigator.platform.slice(0,2)==\"iP\")||navigator.vendor==\"Google Inc.\"&&cc&&cc[1]<8?k.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:\"none\"});setTimeout(function(){a.remove()})}:k.safari=be;var cd=function(){this.returnValue=!1},ce=function(){return this.originalEvent.preventDefault()},cf=function(){this.cancelBubble=!0},cg=function(){return this.originalEvent.stopPropagation()},ch=function(){if(h.doc.addEventListener)return function(a,b,c,d){var e=o&&u[b]?u[b]:b,f=function(e){var f=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,i=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,j=e.clientX+i,k=e.clientY+f;if(o&&u[g](b))for(var l=0,m=e.targetTouches&&e.targetTouches.length;l<m;l++)if(e.targetTouches[l].target==a){var n=e;e=e.targetTouches[l],e.originalEvent=n,e.preventDefault=ce,e.stopPropagation=cg;break}return c.call(d,e,j,k)};a.addEventListener(e,f,!1);return function(){a.removeEventListener(e,f,!1);return!0}};if(h.doc.attachEvent)return function(a,b,c,d){var e=function(a){a=a||h.win.event;var b=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,e=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;a.preventDefault=a.preventDefault||cd,a.stopPropagation=a.stopPropagation||cf;return c.call(d,a,f,g)};a.attachEvent(\"on\"+b,e);var f=function(){a.detachEvent(\"on\"+b,e);return!0};return f}}(),ci=[],cj=function(a){var b=a.clientX,c=a.clientY,d=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,e=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,f,g=ci.length;while(g--){f=ci[g];if(o){var i=a.touches.length,j;while(i--){j=a.touches[i];if(j.identifier==f.el._drag.id){b=j.clientX,c=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}}else a.preventDefault();var k=f.el.node,l,m=k.nextSibling,n=k.parentNode,p=k.style.display;h.win.opera&&n.removeChild(k),k.style.display=\"none\",l=f.el.paper.getElementByPoint(b,c),k.style.display=p,h.win.opera&&(m?n.insertBefore(k,m):n.appendChild(k)),l&&eve(\"raphael.drag.over.\"+f.el.id,f.el,l),b+=e,c+=d,eve(\"raphael.drag.move.\"+f.el.id,f.move_scope||f.el,b-f.el._drag.x,c-f.el._drag.y,b,c,a)}},ck=function(b){a.unmousemove(cj).unmouseup(ck);var c=ci.length,d;while(c--)d=ci[c],d.el._drag={},eve(\"raphael.drag.end.\"+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,b);ci=[]},cl=a.el={};for(var cm=t.length;cm--;)(function(b){a[b]=cl[b]=function(c,d){a.is(c,\"function\")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:ch(this.shape||this.node||h.doc,b,c,d||this)}));return this},a[\"un\"+b]=cl[\"un\"+b]=function(a){var c=this.events||[],d=c.length;while(d--)if(c[d].name==b&&c[d].f==a){c[d].unbind(),c.splice(d,1),!c.length&&delete this.events;return this}return this}})(t[cm]);cl.data=function(b,c){var d=bb[this.id]=bb[this.id]||{};if(arguments.length==1){if(a.is(b,\"object\")){for(var e in b)b[g](e)&&this.data(e,b[e]);return this}eve(\"raphael.data.get.\"+this.id,this,d[b],b);return d[b]}d[b]=c,eve(\"raphael.data.set.\"+this.id,this,c,b);return this},cl.removeData=function(a){a==null?bb[this.id]={}:bb[this.id]&&delete bb[this.id][a];return this},cl.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},cl.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var cn=[];cl.drag=function(b,c,d,e,f,g){function i(i){(i.originalEvent||i).preventDefault();var j=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,k=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft;this._drag.x=i.clientX+k,this._drag.y=i.clientY+j,this._drag.id=i.identifier,!ci.length&&a.mousemove(cj).mouseup(ck),ci.push({el:this,move_scope:e,start_scope:f,end_scope:g}),c&&eve.on(\"raphael.drag.start.\"+this.id,c),b&&eve.on(\"raphael.drag.move.\"+this.id,b),d&&eve.on(\"raphael.drag.end.\"+this.id,d),eve(\"raphael.drag.start.\"+this.id,f||e||this,i.clientX+k,i.clientY+j,i)}this._drag={},cn.push({el:this,start:i}),this.mousedown(i);return this},cl.onDragOver=function(a){a?eve.on(\"raphael.drag.over.\"+this.id,a):eve.unbind(\"raphael.drag.over.\"+this.id)},cl.undrag=function(){var b=cn.length;while(b--)cn[b].el==this&&(this.unmousedown(cn[b].start),cn.splice(b,1),eve.unbind(\"raphael.drag.*.\"+this.id));!cn.length&&a.unmousemove(cj).unmouseup(ck)},k.circle=function(b,c,d){var e=a._engine.circle(this,b||0,c||0,d||0);this.__set__&&this.__set__.push(e);return e},k.rect=function(b,c,d,e,f){var g=a._engine.rect(this,b||0,c||0,d||0,e||0,f||0);this.__set__&&this.__set__.push(g);return g},k.ellipse=function(b,c,d,e){var f=a._engine.ellipse(this,b||0,c||0,d||0,e||0);this.__set__&&this.__set__.push(f);return f},k.path=function(b){b&&!a.is(b,D)&&!a.is(b[0],E)&&(b+=p);var c=a._engine.path(a.format[m](a,arguments),this);this.__set__&&this.__set__.push(c);return c},k.image=function(b,c,d,e,f){var g=a._engine.image(this,b||\"about:blank\",c||0,d||0,e||0,f||0);this.__set__&&this.__set__.push(g);return g},k.text=function(b,c,d){var e=a._engine.text(this,b||0,c||0,r(d));this.__set__&&this.__set__.push(e);return e},k.set=function(b){!a.is(b,\"array\")&&(b=Array.prototype.splice.call(arguments,0,arguments.length));var c=new cG(b);this.__set__&&this.__set__.push(c);return c},k.setStart=function(a){this.__set__=a||this.set()},k.setFinish=function(a){var b=this.__set__;delete this.__set__;return b},k.setSize=function(b,c){return a._engine.setSize.call(this,b,c)},k.setViewBox=function(b,c,d,e,f){return a._engine.setViewBox.call(this,b,c,d,e,f)},k.top=k.bottom=null,k.raphael=a;var co=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,i=b.top+(h.win.pageYOffset||e.scrollTop||d.scrollTop)-f,j=b.left+(h.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g;return{y:i,x:j}};k.getElementByPoint=function(a,b){var c=this,d=c.canvas,e=h.doc.elementFromPoint(a,b);if(h.win.opera&&e.tagName==\"svg\"){var f=co(d),g=d.createSVGRect();g.x=a-f.x,g.y=b-f.y,g.width=g.height=1;var i=d.getIntersectionList(g,null);i.length&&(e=i[i.length-1])}if(!e)return null;while(e.parentNode&&e!=d.parentNode&&!e.raphael)e=e.parentNode;e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null;return e},k.getById=function(a){var b=this.bottom;while(b){if(b.id==a)return b;b=b.next}return null},k.forEach=function(a,b){var c=this.bottom;while(c){if(a.call(b,c)===!1)return this;c=c.next}return this},k.getElementsByPoint=function(a,b){var c=this.set();this.forEach(function(d){d.isPointInside(a,b)&&c.push(d)});return c},cl.isPointInside=function(b,c){var d=this.realPath=this.realPath||bi[this.type](this);return a.isPointInsidePath(d,b,c)},cl.getBBox=function(a){if(this.removed)return{};var b=this._;if(a){if(b.dirty||!b.bboxwt)this.realPath=bi[this.type](this),b.bboxwt=bI(this.realPath),b.bboxwt.toString=cq,b.dirty=0;return b.bboxwt}if(b.dirty||b.dirtyT||!b.bbox){if(b.dirty||!this.realPath)b.bboxwt=0,this.realPath=bi[this.type](this);b.bbox=bI(bj(this.realPath,this.matrix)),b.bbox.toString=cq,b.dirty=b.dirtyT=0}return b.bbox},cl.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(a);return a},cl.glow=function(a){if(this.type==\"text\")return null;a=a||{};var b={width:(a.width||10)+(+this.attr(\"stroke-width\")||1),fill:a.fill||!1,opacity:a.opacity||.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||\"#000\"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||bi[this.type](this);f=this.matrix?bj(f,this.matrix):f;for(var g=1;g<c+1;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:\"none\",\"stroke-linejoin\":\"round\",\"stroke-linecap\":\"round\",\"stroke-width\":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)};var cr={},cs=function(b,c,d,e,f,g,h,i,j){return j==null?bB(b,c,d,e,f,g,h,i):a.findDotsAtSegment(b,c,d,e,f,g,h,i,bC(b,c,d,e,f,g,h,i,j))},ct=function(b,c){return function(d,e,f){d=bR(d);var g,h,i,j,k=\"\",l={},m,n=0;for(var o=0,p=d.length;o<p;o++){i=d[o];if(i[0]==\"M\")g=+i[1],h=+i[2];else{j=cs(g,h,i[1],i[2],i[3],i[4],i[5],i[6]);if(n+j>e){if(c&&!l.start){m=cs(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),k+=[\"C\"+m.start.x,m.start.y,m.m.x,m.m.y,m.x,m.y];if(f)return k;l.start=k,k=[\"M\"+m.x,m.y+\"C\"+m.n.x,m.n.y,m.end.x,m.end.y,i[5],i[6]].join(),n+=j,g=+i[5],h=+i[6];continue}if(!b&&!c){m=cs(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n);return{x:m.x,y:m.y,alpha:m.alpha}}}n+=j,g=+i[5],h=+i[6]}k+=i.shift()+i}l.end=k,m=b?n:c?l:a.findDotsAtSegment(g,h,i[0],i[1],i[2],i[3],i[4],i[5],1),m.alpha&&(m={x:m.x,y:m.y,alpha:m.alpha});return m}},cu=ct(1),cv=ct(),cw=ct(0,1);a.getTotalLength=cu,a.getPointAtLength=cv,a.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return cw(a,b).end;var d=cw(a,c,1);return b?cw(d,b).end:d},cl.getTotalLength=function(){if(this.type==\"path\"){if(this.node.getTotalLength)return this.node.getTotalLength();return cu(this.attrs.path)}},cl.getPointAtLength=function(a){if(this.type==\"path\")return cv(this.attrs.path,a)},cl.getSubpath=function(b,c){if(this.type==\"path\")return a.getSubpath(this.attrs.path,b,c)};var cx=a.easing_formulas={linear:function(a){return a},\"<\":function(a){return A(a,1.7)},\">\":function(a){return A(a,.48)},\"<>\":function(a){var b=.48-a/1.04,c=w.sqrt(.1734+b*b),d=c-b,e=A(z(d),1/3)*(d<0?-1:1),f=-c-b,g=A(z(f),1/3)*(f<0?-1:1),h=e+g+.5;return(1-h)*3*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a=a-1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){if(a==!!a)return a;return A(2,-10*a)*w.sin((a-.075)*2*B/.3)+1},bounce:function(a){var b=7.5625,c=2.75,d;a<1/c?d=b*a*a:a<2/c?(a-=1.5/c,d=b*a*a+.75):a<2.5/c?(a-=2.25/c,d=b*a*a+.9375):(a-=2.625/c,d=b*a*a+.984375);return d}};cx.easeIn=cx[\"ease-in\"]=cx[\"<\"],cx.easeOut=cx[\"ease-out\"]=cx[\">\"],cx.easeInOut=cx[\"ease-in-out\"]=cx[\"<>\"],cx[\"back-in\"]=cx.backIn,cx[\"back-out\"]=cx.backOut;var cy=[],cz=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},cA=function(){var b=+(new Date),c=0;for(;c<cy.length;c++){var d=cy[c];if(d.el.removed||d.paused)continue;var e=b-d.start,f=d.ms,h=d.easing,i=d.from,j=d.diff,k=d.to,l=d.t,m=d.el,o={},p,r={},s;d.initstatus?(e=(d.initstatus*d.anim.top-d.prev)/(d.percent-d.prev)*f,d.status=d.initstatus,delete d.initstatus,d.stop&&cy.splice(c--,1)):d.status=(d.prev+(d.percent-d.prev)*(e/f))/d.anim.top;if(e<0)continue;if(e<f){var t=h(e/f);for(var u in i)if(i[g](u)){switch(U[u]){case C:p=+i[u]+t*f*j[u];break;case\"colour\":p=\"rgb(\"+[cB(O(i[u].r+t*f*j[u].r)),cB(O(i[u].g+t*f*j[u].g)),cB(O(i[u].b+t*f*j[u].b))].join(\",\")+\")\";break;case\"path\":p=[];for(var v=0,w=i[u].length;v<w;v++){p[v]=[i[u][v][0]];for(var x=1,y=i[u][v].length;x<y;x++)p[v][x]=+i[u][v][x]+t*f*j[u][v][x];p[v]=p[v].join(q)}p=p.join(q);break;case\"transform\":if(j[u].real){p=[];for(v=0,w=i[u].length;v<w;v++){p[v]=[i[u][v][0]];for(x=1,y=i[u][v].length;x<y;x++)p[v][x]=i[u][v][x]+t*f*j[u][v][x]}}else{var z=function(a){return+i[u][a]+t*f*j[u][a]};p=[[\"m\",z(0),z(1),z(2),z(3),z(4),z(5)]]}break;case\"csv\":if(u==\"clip-rect\"){p=[],v=4;while(v--)p[v]=+i[u][v]+t*f*j[u][v]}break;default:var A=[][n](i[u]);p=[],v=m.paper.customAttributes[u].length;while(v--)p[v]=+A[v]+t*f*j[u][v]}o[u]=p}m.attr(o),function(a,b,c){setTimeout(function(){eve(\"raphael.anim.frame.\"+a,b,c)})}(m.id,m,d.anim)}else{(function(b,c,d){setTimeout(function(){eve(\"raphael.anim.frame.\"+c.id,c,d),eve(\"raphael.anim.finish.\"+c.id,c,d),a.is(b,\"function\")&&b.call(c)})})(d.callback,m,d.anim),m.attr(k),cy.splice(c--,1);if(d.repeat>1&&!d.next){for(s in k)k[g](s)&&(r[s]=d.totalOrigin[s]);d.el.attr(r),cE(d.anim,d.el,d.anim.percents[0],null,d.totalOrigin,d.repeat-1)}d.next&&!d.stop&&cE(d.anim,d.el,d.next,null,d.totalOrigin,d.repeat)}}a.svg&&m&&m.paper&&m.paper.safari(),cy.length&&cz(cA)},cB=function(a){return a>255?255:a<0?0:a};cl.animateWith=function(b,c,d,e,f,g){var h=this;if(h.removed){g&&g.call(h);return h}var i=d instanceof cD?d:a.animation(d,e,f,g),j,k;cE(i,h,i.percents[0],null,h.attr());for(var l=0,m=cy.length;l<m;l++)if(cy[l].anim==c&&cy[l].el==b){cy[m-1].start=cy[l].start;break}return h},cl.onAnimation=function(a){a?eve.on(\"raphael.anim.frame.\"+this.id,a):eve.unbind(\"raphael.anim.frame.\"+this.id);return this},cD.prototype.delay=function(a){var b=new cD(this.anim,this.ms);b.times=this.times,b.del=+a||0;return b},cD.prototype.repeat=function(a){var b=new cD(this.anim,this.ms);b.del=this.del,b.times=w.floor(x(a,0))||1;return b},a.animation=function(b,c,d,e){if(b instanceof cD)return b;if(a.is(d,\"function\")||!d)e=e||d||null,d=null;b=Object(b),c=+c||0;var f={},h,i;for(i in b)b[g](i)&&Q(i)!=i&&Q(i)+\"%\"!=i&&(h=!0,f[i]=b[i]);if(!h)return new cD(b,c);d&&(f.easing=d),e&&(f.callback=e);return new cD({100:f},c)},cl.animate=function(b,c,d,e){var f=this;if(f.removed){e&&e.call(f);return f}var g=b instanceof cD?b:a.animation(b,c,d,e);cE(g,f,g.percents[0],null,f.attr());return f},cl.setTime=function(a,b){a&&b!=null&&this.status(a,y(b,a.ms)/a.ms);return this},cl.status=function(a,b){var c=[],d=0,e,f;if(b!=null){cE(a,this,-1,y(b,1));return this}e=cy.length;for(;d<e;d++){f=cy[d];if(f.el.id==this.id&&(!a||f.anim==a)){if(a)return f.status;c.push({anim:f.anim,status:f.status})}}if(a)return 0;return c},cl.pause=function(a){for(var b=0;b<cy.length;b++)cy[b].el.id==this.id&&(!a||cy[b].anim==a)&&eve(\"raphael.anim.pause.\"+this.id,this,cy[b].anim)!==!1&&(cy[b].paused=!0);return this},cl.resume=function(a){for(var b=0;b<cy.length;b++)if(cy[b].el.id==this.id&&(!a||cy[b].anim==a)){var c=cy[b];eve(\"raphael.anim.resume.\"+this.id,this,c.anim)!==!1&&(delete c.paused,this.status(c.anim,c.status))}return this},cl.stop=function(a){for(var b=0;b<cy.length;b++)cy[b].el.id==this.id&&(!a||cy[b].anim==a)&&eve(\"raphael.anim.stop.\"+this.id,this,cy[b].anim)!==!1&&cy.splice(b--,1);return this},eve.on(\"raphael.remove\",cF),eve.on(\"raphael.clear\",cF),cl.toString=function(){return\"Rapha�l�s object\"};var cG=function(a){this.items=[],this.length=0,this.type=\"set\";if(a)for(var b=0,c=a.length;b<c;b++)a[b]&&(a[b].constructor==cl.constructor||a[b].constructor==cG)&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},cH=cG.prototype;cH.push=function(){var a,b;for(var c=0,d=arguments.length;c<d;c++)a=arguments[c],a&&(a.constructor==cl.constructor||a.constructor==cG)&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},cH.pop=function(){this.length&&delete this[this.length--];return this.items.pop()},cH.forEach=function(a,b){for(var c=0,d=this.items.length;c<d;c++)if(a.call(b,this.items[c],c)===!1)return this;return this};for(var cI in cl)cl[g](cI)&&(cH[cI]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][m](c,b)})}}(cI));cH.attr=function(b,c){if(b&&a.is(b,E)&&a.is(b[0],\"object\"))for(var d=0,e=b.length;d<e;d++)this.items[d].attr(b[d]);else for(var f=0,g=this.items.length;f<g;f++)this.items[f].attr(b,c);return this},cH.clear=function(){while(this.length)this.pop()},cH.splice=function(a,b,c){a=a<0?x(this.length+a,0):a,b=x(0,y(this.length-a,b));var d=[],e=[],f=[],g;for(g=2;g<arguments.length;g++)f.push(arguments[g]);for(g=0;g<b;g++)e.push(this[a+g]);for(;g<this.length-a;g++)d.push(this[a+g]);var h=f.length;for(g=0;g<h+d.length;g++)this.items[a+g]=this[a+g]=g<h?f[g]:d[g-h];g=this.items.length=this.length-=b-h;while(this[g])delete this[g++];return new cG(e)},cH.exclude=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]==a){this.splice(b,1);return!0}},cH.animate=function(b,c,d,e){(a.is(d,\"function\")||!d)&&(e=d||null);var f=this.items.length,g=f,h,i=this,j;if(!f)return this;e&&(j=function(){!--f&&e.call(i)}),d=a.is(d,D)?d:j;var k=a.animation(b,c,d,j);h=this.items[--g].animate(k);while(g--)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(h,k,k);return this},cH.insertAfter=function(a){var b=this.items.length;while(b--)this.items[b].insertAfter(a);return this},cH.getBBox=function(){var a=[],b=[],c=[],d=[];for(var e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}a=y[m](0,a),b=y[m](0,b),c=x[m](0,c),d=x[m](0,d);return{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b}},cH.clone=function(a){a=new cG;for(var b=0,c=this.items.length;b<c;b++)a.push(this.items[b].clone());return a},cH.toString=function(){return\"Rapha�l�s set\"},a.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face[\"font-family\"];for(var d in a.face)a.face[g](d)&&(b.face[d]=a.face[d]);this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b];if(!a.svg){b.face[\"units-per-em\"]=R(a.face[\"units-per-em\"],10);for(var e in a.glyphs)if(a.glyphs[g](e)){var f=a.glyphs[e];b.glyphs[e]={w:f.w,k:{},d:f.d&&\"M\"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:\"L\",c:\"C\",x:\"z\",t:\"m\",r:\"l\",v:\"c\"}[a]||\"M\"})+\"z\"};if(f.k)for(var h in f.k)f[g](h)&&(b.glyphs[e].k[h]=f.k[h])}}return a},k.getFont=function(b,c,d,e){e=e||\"normal\",d=d||\"normal\",c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400;if(!!a.fonts){var f=a.fonts[b];if(!f){var h=new RegExp(\"(^|\\\\s)\"+b.replace(/[^\\w\\d\\s+!~.:_-]/g,p)+\"(\\\\s|$)\",\"i\");for(var i in a.fonts)if(a.fonts[g](i)&&h.test(i)){f=a.fonts[i];break}}var j;if(f)for(var k=0,l=f.length;k<l;k++){j=f[k];if(j.face[\"font-weight\"]==c&&(j.face[\"font-style\"]==d||!j.face[\"font-style\"])&&j.face[\"font-stretch\"]==e)break}return j}},k.print=function(b,d,e,f,g,h,i){h=h||\"middle\",i=x(y(i||0,1),-1);var j=r(e)[s](p),k=0,l=0,m=p,n;a.is(f,e)&&(f=this.getFont(f));if(f){n=(g||16)/f.face[\"units-per-em\"];var o=f.face.bbox[s](c),q=+o[0],t=o[3]-o[1],u=0,v=+o[1]+(h==\"baseline\"?t+ +f.face.descent:t/2);for(var w=0,z=j.length;w<z;w++){if(j[w]==\"\\n\")k=0,B=0,l=0,u+=t;else{var A=l&&f.glyphs[j[w-1]]||{},B=f.glyphs[j[w]];k+=l?(A.w||f.w)+(A.k&&A.k[j[w]]||0)+f.w*i:0,l=1}B&&B.d&&(m+=a.transformPath(B.d,[\"t\",k*n,u*n,\"s\",n,n,q,v,\"t\",(b-q)/n,(d-v)/n]))}}return this.path(m).attr({fill:\"#000\",stroke:\"none\"})},k.add=function(b){if(a.is(b,\"array\")){var c=this.set(),e=0,f=b.length,h;for(;e<f;e++)h=b[e]||{},d[g](h.type)&&c.push(this[h.type]().attr(h))}return c},a.format=function(b,c){var d=a.is(c,E)?[0][n](c):arguments;b&&a.is(b,D)&&d.length-1&&(b=b.replace(e,function(a,b){return d[++b]==null?p:d[b]}));return b||p},a.fullfill=function(){var a=/\\{([^\\}]+)\\}/g,b=/(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g,c=function(a,c,d){var e=d;c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),typeof e==\"function\"&&f&&(e=e()))}),e=(e==null||e==d?a:e)+\"\";return e};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),a.ninja=function(){i.was?h.win.Raphael=i.is:delete Raphael;return a},a.st=cH,function(b,c,d){function e(){/in/.test(b.readyState)?setTimeout(e,9):a.eve(\"raphael.DOMload\")}b.readyState==null&&b.addEventListener&&(b.addEventListener(c,d=function(){b.removeEventListener(c,d,!1),b.readyState=\"complete\"},!1),b.readyState=\"loading\"),e()}(document,\"DOMContentLoaded\"),i.was?h.win.Raphael=a:Raphael=a,eve.on(\"raphael.DOMload\",function(){b=!0})}(),window.Raphael.svg&&function(a){var b=\"hasOwnProperty\",c=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=a.eve,l=\"\",m=\" \",n=\"http://www.w3.org/1999/xlink\",o={block:\"M5,0 0,2.5 5,5z\",classic:\"M5,0 0,2.5 5,5 3.5,3 3.5,2z\",diamond:\"M2.5,0 5,2.5 2.5,5 0,2.5z\",open:\"M6,1 1,3.5 6,6\",oval:\"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z\"},p={};a.toString=function(){return\"Your browser supports SVG.\\nYou are running Rapha�l \"+this.version};var q=function(d,e){if(e){typeof d==\"string\"&&(d=q(d));for(var f in e)e[b](f)&&(f.substring(0,6)==\"xlink:\"?d.setAttributeNS(n,f.substring(6),c(e[f])):d.setAttribute(f,c(e[f])))}else d=a._g.doc.createElementNS(\"http://www.w3.org/2000/svg\",d),d.style&&(d.style.webkitTapHighlightColor=\"rgba(0,0,0,0)\");return d},r=function(b,e){var j=\"linear\",k=b.id+e,m=.5,n=.5,o=b.node,p=b.paper,r=o.style,s=a._g.doc.getElementById(k);if(!s){e=c(e).replace(a._radial_gradient,function(a,b,c){j=\"radial\";if(b&&c){m=d(b),n=d(c);var e=(n>.5)*2-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&n!=.5&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\\s*\\-\\s*/);if(j==\"linear\"){var t=e.shift();t=-d(t);if(isNaN(t))return null;var u=[0,0,f.cos(a.rad(t)),f.sin(a.rad(t))],v=1/(g(h(u[2]),h(u[3]))||1);u[2]*=v,u[3]*=v,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var w=a._parseDots(e);if(!w)return null;k=k.replace(/[\\(\\)\\s,\\xb0#]/g,\"_\"),b.gradient&&k!=b.gradient.id&&(p.defs.removeChild(b.gradient),delete b.gradient);if(!b.gradient){s=q(j+\"Gradient\",{id:k}),b.gradient=s,q(s,j==\"radial\"?{fx:m,fy:n}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:b.matrix.invert()}),p.defs.appendChild(s);for(var x=0,y=w.length;x<y;x++)s.appendChild(q(\"stop\",{offset:w[x].offset?w[x].offset:x?\"100%\":\"0%\",\"stop-color\":w[x].color||\"#fff\"}))}}q(o,{fill:\"url(#\"+k+\")\",opacity:1,\"fill-opacity\":1}),r.fill=l,r.opacity=1,r.fillOpacity=1;return 1},s=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+\" translate(\"+b.x+\",\"+b.y+\")\"})},t=function(d,e,f){if(d.type==\"path\"){var g=c(e).toLowerCase().split(\"-\"),h=d.paper,i=f?\"end\":\"start\",j=d.node,k=d.attrs,m=k[\"stroke-width\"],n=g.length,r=\"classic\",s,t,u,v,w,x=3,y=3,z=5;while(n--)switch(g[n]){case\"block\":case\"classic\":case\"oval\":case\"diamond\":case\"open\":case\"none\":r=g[n];break;case\"wide\":y=5;break;case\"narrow\":y=2;break;case\"long\":x=5;break;case\"short\":x=2}r==\"open\"?(x+=2,y+=2,z+=2,u=1,v=f?4:1,w={fill:\"none\",stroke:k.stroke}):(v=u=x/2,w={fill:k.stroke,stroke:\"none\"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={};if(r!=\"none\"){var A=\"raphael-marker-\"+r,B=\"raphael-marker-\"+i+r+x+y;a._g.doc.getElementById(A)?p[A]++:(h.defs.appendChild(q(q(\"path\"),{\"stroke-linecap\":\"round\",d:o[r],id:A})),p[A]=1);var C=a._g.doc.getElementById(B),D;C?(p[B]++,D=C.getElementsByTagName(\"use\")[0]):(C=q(q(\"marker\"),{id:B,markerHeight:y,markerWidth:x,orient:\"auto\",refX:v,refY:y/2}),D=q(q(\"use\"),{\"xlink:href\":\"#\"+A,transform:(f?\"rotate(180 \"+x/2+\" \"+y/2+\") \":l)+\"scale(\"+x/z+\",\"+y/z+\")\",\"stroke-width\":(1/((x/z+y/z)/2)).toFixed(4)}),C.appendChild(D),h.defs.appendChild(C),p[B]=1),q(D,w);var F=u*(r!=\"diamond\"&&r!=\"oval\");f?(s=d._.arrows.startdx*m||0,t=a.getTotalLength(k.path)-F*m):(s=F*m,t=a.getTotalLength(k.path)-(d._.arrows.enddx*m||0)),w={},w[\"marker-\"+i]=\"url(#\"+B+\")\";if(t||s)w.d=Raphael.getSubpath(k.path,s,t);q(j,w),d._.arrows[i+\"Path\"]=A,d._.arrows[i+\"Marker\"]=B,d._.arrows[i+\"dx\"]=F,d._.arrows[i+\"Type\"]=r,d._.arrows[i+\"String\"]=e}else f?(s=d._.arrows.startdx*m||0,t=a.getTotalLength(k.path)-s):(s=0,t=a.getTotalLength(k.path)-(d._.arrows.enddx*m||0)),d._.arrows[i+\"Path\"]&&q(j,{d:Raphael.getSubpath(k.path,s,t)}),delete d._.arrows[i+\"Path\"],delete d._.arrows[i+\"Marker\"],delete d._.arrows[i+\"dx\"],delete d._.arrows[i+\"Type\"],delete d._.arrows[i+\"String\"];for(w in p)if(p[b](w)&&!p[w]){var G=a._g.doc.getElementById(w);G&&G.parentNode.removeChild(G)}}},u={\"\":[0],none:[0],\"-\":[3,1],\".\":[1,1],\"-.\":[3,1,1,1],\"-..\":[3,1,1,1,1,1],\". \":[1,3],\"- \":[4,3],\"--\":[8,3],\"- .\":[4,3,1,3],\"--.\":[8,3,1,3],\"--..\":[8,3,1,3,1,3]},v=function(a,b,d){b=u[c(b).toLowerCase()];if(b){var e=a.attrs[\"stroke-width\"]||\"1\",f={round:e,square:e,butt:0}[a.attrs[\"stroke-linecap\"]||d[\"stroke-linecap\"]]||0,g=[],h=b.length;while(h--)g[h]=b[h]*e+(h%2?1:-1)*f;q(a.node,{\"stroke-dasharray\":g.join(\",\")})}},w=function(d,f){var i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility=\"hidden\";for(var o in f)if(f[b](o)){if(!a._availableAttrs[b](o))continue;var p=f[o];k[o]=p;switch(o){case\"blur\":d.blur(p);break;case\"href\":case\"title\":case\"target\":var u=i.parentNode;if(u.tagName.toLowerCase()!=\"a\"){var w=q(\"a\");u.insertBefore(w,i),w.appendChild(i),u=w}o==\"target\"?u.setAttributeNS(n,\"show\",p==\"blank\"?\"new\":p):u.setAttributeNS(n,o,p);break;case\"cursor\":i.style.cursor=p;break;case\"transform\":d.transform(p);break;case\"arrow-start\":t(d,p);break;case\"arrow-end\":t(d,p,1);break;case\"clip-rect\":var x=c(p).split(j);if(x.length==4){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var z=q(\"clipPath\"),A=q(\"rect\");z.id=a.createUUID(),q(A,{x:x[0],y:x[1],width:x[2],height:x[3]}),z.appendChild(A),d.paper.defs.appendChild(z),q(i,{\"clip-path\":\"url(#\"+z.id+\")\"}),d.clip=A}if(!p){var B=i.getAttribute(\"clip-path\");if(B){var C=a._g.doc.getElementById(B.replace(/(^url\\(#|\\)$)/g,l));C&&C.parentNode.removeChild(C),q(i,{\"clip-path\":l}),delete d.clip}}break;case\"path\":d.type==\"path\"&&(q(i,{d:p?k.path=a._pathToAbsolute(p):\"M0,0\"}),d._.dirty=1,d._.arrows&&(\"startString\"in d._.arrows&&t(d,d._.arrows.startString),\"endString\"in d._.arrows&&t(d,d._.arrows.endString,1)));break;case\"width\":i.setAttribute(o,p),d._.dirty=1;if(k.fx)o=\"x\",p=k.x;else break;case\"x\":k.fx&&(p=-k.x-(k.width||0));case\"rx\":if(o==\"rx\"&&d.type==\"rect\")break;case\"cx\":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case\"height\":i.setAttribute(o,p),d._.dirty=1;if(k.fy)o=\"y\",p=k.y;else break;case\"y\":k.fy&&(p=-k.y-(k.height||0));case\"ry\":if(o==\"ry\"&&d.type==\"rect\")break;case\"cy\":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case\"r\":d.type==\"rect\"?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case\"src\":d.type==\"image\"&&i.setAttributeNS(n,\"href\",p);break;case\"stroke-width\":if(d._.sx!=1||d._.sy!=1)p/=g(h(d._.sx),h(d._.sy))||1;d.paper._vbSize&&(p*=d.paper._vbSize),i.setAttribute(o,p),k[\"stroke-dasharray\"]&&v(d,k[\"stroke-dasharray\"],f),d._.arrows&&(\"startString\"in d._.arrows&&t(d,d._.arrows.startString),\"endString\"in d._.arrows&&t(d,d._.arrows.endString,1));break;case\"stroke-dasharray\":v(d,p,f);break;case\"fill\":var D=c(p).match(a._ISURL);if(D){z=q(\"pattern\");var F=q(\"image\");z.id=a.createUUID(),q(z,{x:0,y:0,patternUnits:\"userSpaceOnUse\",height:1,width:1}),q(F,{x:0,y:0,\"xlink:href\":D[1]}),z.appendChild(F),function(b){a._preload(D[1],function(){var a=this.offsetWidth,c=this.offsetHeight;q(b,{width:a,height:c}),q(F,{width:a,height:c}),d.paper.safari()})}(z),d.paper.defs.appendChild(z),q(i,{fill:\"url(#\"+z.id+\")\"}),d.pattern=z,d.pattern&&s(d);break}var G=a.getRGB(p);if(!G.error)delete f.gradient,delete k.gradient,!a.is(k.opacity,\"undefined\")&&a.is(f.opacity,\"undefined\")&&q(i,{opacity:k.opacity}),!a.is(k[\"fill-opacity\"],\"undefined\")&&a.is(f[\"fill-opacity\"],\"undefined\")&&q(i,{\"fill-opacity\":k[\"fill-opacity\"]});else if((d.type==\"circle\"||d.type==\"ellipse\"||c(p).charAt()!=\"r\")&&r(d,p)){if(\"opacity\"in k||\"fill-opacity\"in k){var H=a._g.doc.getElementById(i.getAttribute(\"fill\").replace(/^url\\(#|\\)$/g,l));if(H){var I=H.getElementsByTagName(\"stop\");q(I[I.length-1],{\"stop-opacity\":(\"opacity\"in k?k.opacity:1)*(\"fill-opacity\"in k?k[\"fill-opacity\"]:1)})}}k.gradient=p,k.fill=\"none\";break}G[b](\"opacity\")&&q(i,{\"fill-opacity\":G.opacity>1?G.opacity/100:G.opacity});case\"stroke\":G=a.getRGB(p),i.setAttribute(o,G.hex),o==\"stroke\"&&G[b](\"opacity\")&&q(i,{\"stroke-opacity\":G.opacity>1?G.opacity/100:G.opacity}),o==\"stroke\"&&d._.arrows&&(\"startString\"in d._.arrows&&t(d,d._.arrows.startString),\"endString\"in d._.arrows&&t(d,d._.arrows.endString,1));break;case\"gradient\":(d.type==\"circle\"||d.type==\"ellipse\"||c(p).charAt()!=\"r\")&&r(d,p);break;case\"opacity\":k.gradient&&!k[b](\"stroke-opacity\")&&q(i,{\"stroke-opacity\":p>1?p/100:p});case\"fill-opacity\":if(k.gradient){H=a._g.doc.getElementById(i.getAttribute(\"fill\").replace(/^url\\(#|\\)$/g,l)),H&&(I=H.getElementsByTagName(\"stop\"),q(I[I.length-1],{\"stop-opacity\":p}));break};default:o==\"font-size\"&&(p=e(p,10)+\"px\");var J=o.replace(/(\\-.)/g,function(a){return a.substring(1).toUpperCase()});i.style[J]=p,d._.dirty=1,i.setAttribute(o,p)}}y(d,f),i.style.visibility=m},x=1.2,y=function(d,f){if(d.type==\"text\"&&!!(f[b](\"text\")||f[b](\"font\")||f[b](\"font-size\")||f[b](\"x\")||f[b](\"y\"))){var g=d.attrs,h=d.node,i=h.firstChild?e(a._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue(\"font-size\"),10):10;if(f[b](\"text\")){g.text=f.text;while(h.firstChild)h.removeChild(h.firstChild);var j=c(f.text).split(\"\\n\"),k=[],m;for(var n=0,o=j.length;n<o;n++)m=q(\"tspan\"),n&&q(m,{dy:i*x,x:g.x}),m.appendChild(a._g.doc.createTextNode(j[n])),h.appendChild(m),k[n]=m}else{k=h.getElementsByTagName(\"tspan\");for(n=0,o=k.length;n<o;n++)n?q(k[n],{dy:i*x,x:g.x}):q(k[0],{dy:0})}q(h,{x:g.x,y:g.y}),d._.dirty=1;var p=d._getBBox(),r=g.y-(p.y+p.height/2);r&&a.is(r,\"finite\")&&q(k[0],{dy:r})}},z=function(b,c){var d=0,e=0;this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.matrix=a.matrix(),this.realPath=null,this.paper=c,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},A=a.el;z.prototype=A,A.constructor=z,a._engine.path=function(a,b){var c=q(\"path\");b.canvas&&b.canvas.appendChild(c);var d=new z(c,b);d.type=\"path\",w(d,{fill:\"none\",stroke:\"#000\",path:a});return d},A.rotate=function(a,b,e){if(this.removed)return this;a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),e==null&&(b=e);if(b==null||e==null){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}this.transform(this._.transform.concat([[\"r\",a,b,e]]));return this},A.scale=function(a,b,e,f){if(this.removed)return this;a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),b==null&&(b=a),f==null&&(e=f);if(e==null||f==null)var g=this.getBBox(1);e=e==null?g.x+g.width/2:e,f=f==null?g.y+g.height/2:f,this.transform(this._.transform.concat([[\"s\",a,b,e,f]]));return this},A.translate=function(a,b){if(this.removed)return this;a=c(a).split(j),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this.transform(this._.transform.concat([[\"t\",a,b]]));return this},A.transform=function(c){var d=this._;if(c==null)return d.transform;a._extractTransform(this,c),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&s(this),this.node&&q(this.node,{transform:this.matrix});if(d.sx!=1||d.sy!=1){var e=this.attrs[b](\"stroke-width\")?this.attrs[\"stroke-width\"]:1;this.attr({\"stroke-width\":e})}return this},A.hide=function(){!this.removed&&this.paper.safari(this.node.style.display=\"none\");return this},A.show=function(){!this.removed&&this.paper.safari(this.node.style.display=\"\");return this},A.remove=function(){if(!this.removed&&!!this.node.parentNode){var b=this.paper;b.__set__&&b.__set__.exclude(this),k.unbind(\"raphael.*.*.\"+this.id),this.gradient&&b.defs.removeChild(this.gradient),a._tear(this,b),this.node.parentNode.tagName.toLowerCase()==\"a\"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var c in this)this[c]=typeof this[c]==\"function\"?a._removedFactory(c):null;this.removed=!0}},A._getBBox=function(){if(this.node.style.display==\"none\"){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}a&&this.hide();return b},A.attr=function(c,d){if(this.removed)return this;if(c==null){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);e.gradient&&e.fill==\"none\"&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform;return e}if(d==null&&a.is(c,\"string\")){if(c==\"fill\"&&this.attrs.fill==\"none\"&&this.attrs.gradient)return this.attrs.gradient;if(c==\"transform\")return this._.transform;var g=c.split(j),h={};for(var i=0,l=g.length;i<l;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],\"function\")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return l-1?h:h[g[0]]}if(d==null&&a.is(c,\"array\")){h={};for(i=0,l=c.length;i<l;i++)h[c[i]]=this.attr(c[i]);return h}if(d!=null){var m={};m[c]=d}else c!=null&&a.is(c,\"object\")&&(m=c);for(var n in m)k(\"raphael.attr.\"+n+\".\"+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[b](n)&&m[b](n)&&a.is(this.paper.customAttributes[n],\"function\")){var o=this.paper.customAttributes[n].apply(this,[].concat(m[n]));this.attrs[n]=m[n];for(var p in o)o[b](p)&&(m[p]=o[p])}w(this,m);return this},A.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()==\"a\"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;b.top!=this&&a._tofront(this,b);return this},A.toBack=function(){if(this.removed)return this;var b=this.node.parentNode;b.tagName.toLowerCase()==\"a\"?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper);var c=this.paper;return this},A.insertAfter=function(b){if(this.removed)return this;var c=b.node||b[b.length-1].node;c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper);return this},A.insertBefore=function(b){if(this.removed)return this;var c=b.node||b[0].node;c.parentNode.insertBefore(this.node,c),a._insertbefore(this,b,this.paper);return this},A.blur=function(b){var c=this;if(+b!==0){var d=q(\"filter\"),e=q(\"feGaussianBlur\");c.attrs.blur=b,d.id=a.createUUID(),q(e,{stdDeviation:+b||1.5}),d.appendChild(e),c.paper.defs.appendChild(d),c._blur=d,q(c.node,{filter:\"url(#\"+d.id+\")\"})}else c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute(\"filter\")},a._engine.circle=function(a,b,c,d){var e=q(\"circle\");a.canvas&&a.canvas.appendChild(e);var f=new z(e,a);f.attrs={cx:b,cy:c,r:d,fill:\"none\",stroke:\"#000\"},f.type=\"circle\",q(e,f.attrs);return f},a._engine.rect=function(a,b,c,d,e,f){var g=q(\"rect\");a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:\"none\",stroke:\"#000\"},h.type=\"rect\",q(g,h.attrs);return h},a._engine.ellipse=function(a,b,c,d,e){var f=q(\"ellipse\");a.canvas&&a.canvas.appendChild(f);var g=new z(f,a);g.attrs={cx:b,cy:c,rx:d,ry:e,fill:\"none\",stroke:\"#000\"},g.type=\"ellipse\",q(f,g.attrs);return g},a._engine.image=function(a,b,c,d,e,f){var g=q(\"image\");q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:\"none\"}),g.setAttributeNS(n,\"href\",b),a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);h.attrs={x:c,y:d,width:e,height:f,src:b},h.type=\"image\";return h},a._engine.text=function(b,c,d,e){var f=q(\"text\");b.canvas&&b.canvas.appendChild(f);var g=new z(f,b);g.attrs={x:c,y:d,\"text-anchor\":\"middle\",text:e,font:a._availableAttrs.font,stroke:\"none\",fill:\"#000\"},g.type=\"text\",w(g,g.attrs);return g},a._engine.setSize=function(a,b){this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute(\"width\",this.width),this.canvas.setAttribute(\"height\",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this},a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error(\"SVG container not found.\");var h=q(\"svg\"),i=\"overflow:hidden;\",j;d=d||0,e=e||0,f=f||512,g=g||342,q(h,{height:g,version:1.1,width:f,xmlns:\"http://www.w3.org/2000/svg\"}),c==1?(h.style.cssText=i+\"position:absolute;left:\"+d+\"px;top:\"+e+\"px\",a._g.doc.body.appendChild(h),j=1):(h.style.cssText=i+\"position:relative\",c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h)),c=new a._Paper,c.width=f,c.height=g,c.canvas=h,c.clear(),c._left=c._top=0,j&&(c.renderfix=function(){}),c.renderfix();return c},a._engine.setViewBox=function(a,b,c,d,e){k(\"raphael.setViewBox\",this,this._viewBox,[a,b,c,d,e]);var f=g(c/this.width,d/this.height),h=this.top,i=e?\"meet\":\"xMinYMin\",j,l;a==null?(this._vbSize&&(f=1),delete this._vbSize,j=\"0 0 \"+this.width+m+this.height):(this._vbSize=f,j=a+m+b+m+c+m+d),q(this.canvas,{viewBox:j,preserveAspectRatio:i});while(f&&h)l=\"stroke-width\"in h.attrs?h.attrs[\"stroke-width\"]:1,h.attr({\"stroke-width\":l}),h._.dirty=1,h._.dirtyT=1,h=h.prev;this._viewBox=[a,b,c,d,!!e];return this},a.prototype.renderfix=function(){var a=this.canvas,b=a.style,c;try{c=a.getScreenCTM()||a.createSVGMatrix()}catch(d){c=a.createSVGMatrix()}var e=-c.e%1,f=-c.f%1;if(e||f)e&&(this._left=(this._left+e)%1,b.left=this._left+\"px\"),f&&(this._top=(this._top+f)%1,b.top=this._top+\"px\")},a.prototype.clear=function(){a.eve(\"raphael.clear\",this);var b=this.canvas;while(b.firstChild)b.removeChild(b.firstChild);this.bottom=this.top=null,(this.desc=q(\"desc\")).appendChild(a._g.doc.createTextNode(\"Created with Rapha�l \"+a.version)),b.appendChild(this.desc),b.appendChild(this.defs=q(\"defs\"))},a.prototype.remove=function(){k(\"raphael.remove\",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]=typeof this[b]==\"function\"?a._removedFactory(b):null};var B=a.st;for(var C in A)A[b](C)&&!B[b](C)&&(B[C]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(C))}(window.Raphael),window.Raphael.vml&&function(a){var b=\"hasOwnProperty\",c=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j=\"fill\",k=/[, ]+/,l=a.eve,m=\" progid:DXImageTransform.Microsoft\",n=\" \",o=\"\",p={M:\"m\",L:\"l\",C:\"c\",Z:\"x\",m:\"t\",l:\"r\",c:\"v\",z:\"x\"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\\S+Blur\\([^\\)]+\\)/g,s=/-?[^,\\s-]+/g,t=\"position:absolute;left:0;top:0;width:1px;height:1px\",u=21600,v={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(b){var d=/[ahqstv]/ig,e=a._pathToAbsolute;c(b).match(d)&&(e=a._path2curve),d=/[clmz]/g;if(e==a._pathToAbsolute&&!c(b).match(d)){var g=c(b).replace(q,function(a,b,c){var d=[],e=b.toLowerCase()==\"m\",g=p[b];c.replace(s,function(a){e&&d.length==2&&(g+=d+p[b==\"m\"?\"l\":\"L\"],d=[]),d.push(f(a*u))});return g+d});return g}var h=e(b),i,j;g=[];for(var k=0,l=h.length;k<l;k++){i=h[k],j=h[k][0].toLowerCase(),j==\"z\"&&(j=\"x\");for(var m=1,r=i.length;m<r;m++)j+=f(i[m]*u)+(m!=r-1?\",\":o);g.push(j)}return g.join(n)},y=function(b,c,d){var e=a.matrix();e.rotate(-b,.5,.5);return{dx:e.x(c,d),dy:e.y(c,d)}},z=function(a,b,c,d,e,f){var g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p=\"\",q,r=u/b,s=u/c;m.visibility=\"hidden\";if(!!b&&!!c){l.coordsize=i(r)+n+i(s),m.rotation=f*(b*c<0?-1:1);if(f){var t=y(f,d,e);d=t.dx,e=t.dy}b<0&&(p+=\"x\"),c<0&&(p+=\" y\")&&(o=-1),m.flip=p,l.coordorigin=d*-r+n+e*-s;if(k||g.fillsize){var v=l.getElementsByTagName(j);v=v&&v[0],l.removeChild(v),k&&(t=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),v.position=t.dx*o+n+t.dy*o),g.fillsize&&(v.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(v)}m.visibility=\"visible\"}};a.toString=function(){return\"Your browser doesn�t support SVG. Falling down to VML.\\nYou are running Rapha�l \"+this.version};var A=function(a,b,d){var e=c(b).toLowerCase().split(\"-\"),f=d?\"end\":\"start\",g=e.length,h=\"classic\",i=\"medium\",j=\"medium\";while(g--)switch(e[g]){case\"block\":case\"classic\":case\"oval\":case\"diamond\":case\"open\":case\"none\":h=e[g];break;case\"wide\":case\"narrow\":j=e[g];break;case\"long\":case\"short\":i=e[g]}var k=a.node.getElementsByTagName(\"stroke\")[0];k[f+\"arrow\"]=h,k[f+\"arrowlength\"]=i,k[f+\"arrowwidth\"]=j},B=function(e,i){e.attrs=e.attrs||{};var l=e.node,m=e.attrs,p=l.style,q,r=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),s=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),t=e;for(var y in i)i[b](y)&&(m[y]=i[y]);r&&(m.path=a._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),\"blur\"in i&&e.blur(i.blur);if(i.path&&e.type==\"path\"||r)l.path=x(~c(m.path).toLowerCase().indexOf(\"r\")?a._pathToAbsolute(m.path):m.path),e.type==\"image\"&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0));\"transform\"in i&&e.transform(i.transform);if(s){var B=+m.cx,D=+m.cy,E=+m.rx||+m.r||0,G=+m.ry||+m.r||0;l.path=a.format(\"ar{0},{1},{2},{3},{4},{1},{4},{1}x\",f((B-E)*u),f((D-G)*u),f((B+E)*u),f((D+G)*u),f(B*u))}if(\"clip-rect\"in i){var H=c(i[\"clip-rect\"]).split(k);if(H.length==4){H[2]=+H[2]+ +H[0],H[3]=+H[3]+ +H[1];var I=l.clipRect||a._g.doc.createElement(\"div\"),J=I.style;J.clip=a.format(\"rect({1}px {2}px {3}px {0}px)\",H),l.clipRect||(J.position=\"absolute\",J.top=0,J.left=0,J.width=e.paper.width+\"px\",J.height=e.paper.height+\"px\",l.parentNode.insertBefore(I,l),I.appendChild(l),l.clipRect=I)}i[\"clip-rect\"]||l.clipRect&&(l.clipRect.style.clip=\"auto\")}if(e.textpath){var K=e.textpath.style;i.font&&(K.font=i.font),i[\"font-family\"]&&(K.fontFamily='\"'+i[\"font-family\"].split(\",\")[0].replace(/^['\"]+|['\"]+$/g,o)+'\"'),i[\"font-size\"]&&(K.fontSize=i[\"font-size\"]),i[\"font-weight\"]&&(K.fontWeight=i[\"font-weight\"]),i[\"font-style\"]&&(K.fontStyle=i[\"font-style\"])}\"arrow-start\"in i&&A(t,i[\"arrow-start\"]),\"arrow-end\"in i&&A(t,i[\"arrow-end\"],1);if(i.opacity!=null||i[\"stroke-width\"]!=null||i.fill!=null||i.src!=null||i.stroke!=null||i[\"stroke-width\"]!=null||i[\"stroke-opacity\"]!=null||i[\"fill-opacity\"]!=null||i[\"stroke-dasharray\"]!=null||i[\"stroke-miterlimit\"]!=null||i[\"stroke-linejoin\"]!=null||i[\"stroke-linecap\"]!=null){var L=l.getElementsByTagName(j),M=!1;L=L&&L[0],!L&&(M=L=F(j)),e.type==\"image\"&&i.src&&(L.src=i.src),i.fill&&(L.on=!0);if(L.on==null||i.fill==\"none\"||i.fill===null)L.on=!1;if(L.on&&i.fill){var N=c(i.fill).match(a._ISURL);if(N){L.parentNode==l&&l.removeChild(L),L.rotate=!0,L.src=N[1],L.type=\"tile\";var O=e.getBBox(1);L.position=O.x+n+O.y,e._.fillpos=[O.x,O.y],a._preload(N[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=a.getRGB(i.fill).hex,L.src=o,L.type=\"solid\",a.getRGB(i.fill).error&&(t.type in{circle:1,ellipse:1}||c(i.fill).charAt()!=\"r\")&&C(t,i.fill,L)&&(m.fill=\"none\",m.gradient=i.fill,L.rotate=!1)}if(\"fill-opacity\"in i||\"opacity\"in i){var P=((+m[\"fill-opacity\"]+1||2)-1)*((+m.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1);P=h(g(P,0),1),L.opacity=P,L.src&&(L.color=\"none\")}l.appendChild(L);var Q=l.getElementsByTagName(\"stroke\")&&l.getElementsByTagName(\"stroke\")[0],T=!1;!Q&&(T=Q=F(\"stroke\"));if(i.stroke&&i.stroke!=\"none\"||i[\"stroke-width\"]||i[\"stroke-opacity\"]!=null||i[\"stroke-dasharray\"]||i[\"stroke-miterlimit\"]||i[\"stroke-linejoin\"]||i[\"stroke-linecap\"])Q.on=!0;(i.stroke==\"none\"||i.stroke===null||Q.on==null||i.stroke==0||i[\"stroke-width\"]==0)&&(Q.on=!1);var U=a.getRGB(i.stroke);Q.on&&i.stroke&&(Q.color=U.hex),P=((+m[\"stroke-opacity\"]+1||2)-1)*((+m.opacity+1||2)-1)*((+U.o+1||2)-1);var V=(d(i[\"stroke-width\"])||1)*.75;P=h(g(P,0),1),i[\"stroke-width\"]==null&&(V=m[\"stroke-width\"]),i[\"stroke-width\"]&&(Q.weight=V),V&&V<1&&(P*=V)&&(Q.weight=1),Q.opacity=P,i[\"stroke-linejoin\"]&&(Q.joinstyle=i[\"stroke-linejoin\"]||\"miter\"),Q.miterlimit=i[\"stroke-miterlimit\"]||8,i[\"stroke-linecap\"]&&(Q.endcap=i[\"stroke-linecap\"]==\"butt\"?\"flat\":i[\"stroke-linecap\"]==\"square\"?\"square\":\"round\");if(i[\"stroke-dasharray\"]){var W={\"-\":\"shortdash\",\".\":\"shortdot\",\"-.\":\"shortdashdot\",\"-..\":\"shortdashdotdot\",\". \":\"dot\",\"- \":\"dash\",\"--\":\"longdash\",\"- .\":\"dashdot\",\"--.\":\"longdashdot\",\"--..\":\"longdashdotdot\"};Q.dashstyle=W[b](i[\"stroke-dasharray\"])?W[i[\"stroke-dasharray\"]]:o}T&&l.appendChild(Q)}if(t.type==\"text\"){t.paper.canvas.style.display=o;var X=t.paper.span,Y=100,Z=m.font&&m.font.match(/\\d+(?:\\.\\d*)?(?=px)/);p=X.style,m.font&&(p.font=m.font),m[\"font-family\"]&&(p.fontFamily=m[\"font-family\"]),m[\"font-weight\"]&&(p.fontWeight=m[\"font-weight\"]),m[\"font-style\"]&&(p.fontStyle=m[\"font-style\"]),Z=d(m[\"font-size\"]||Z&&Z[0])||10,p.fontSize=Z*Y+\"px\",t.textpath.string&&(X.innerHTML=c(t.textpath.string).replace(/</g,\"&#60;\").replace(/&/g,\"&#38;\").replace(/\\n/g,\"<br>\"));var $=X.getBoundingClientRect();t.W=m.w=($.right-$.left)/Y,t.H=m.h=($.bottom-$.top)/Y,t.X=m.x,t.Y=m.y+t.H/2,(\"x\"in i||\"y\"in i)&&(t.path.v=a.format(\"m{0},{1}l{2},{1}\",f(m.x*u),f(m.y*u),f(m.x*u)+1));var _=[\"x\",\"y\",\"text\",\"font\",\"font-family\",\"font-weight\",\"font-style\",\"font-size\"];for(var ba=0,bb=_.length;ba<bb;ba++)if(_[ba]in i){t._.dirty=1;break}switch(m[\"text-anchor\"]){case\"start\":t.textpath.style[\"v-text-align\"]=\"left\",t.bbx=t.W/2;break;case\"end\":t.textpath.style[\"v-text-align\"]=\"right\",t.bbx=-t.W/2;break;default:t.textpath.style[\"v-text-align\"]=\"center\",t.bbx=0}t.textpath.style[\"v-text-kern\"]=!0}},C=function(b,f,g){b.attrs=b.attrs||{};var h=b.attrs,i=Math.pow,j,k,l=\"linear\",m=\".5 .5\";b.attrs.gradient=f,f=c(f).replace(a._radial_gradient,function(a,b,c){l=\"radial\",b&&c&&(b=d(b),c=d(c),i(b-.5,2)+i(c-.5,2)>.25&&(c=e.sqrt(.25-i(b-.5,2))*((c>.5)*2-1)+.5),m=b+n+c);return o}),f=f.split(/\\s*\\-\\s*/);if(l==\"linear\"){var p=f.shift();p=-d(p);if(isNaN(p))return null}var q=a._parseDots(f);if(!q)return null;b=b.shape||b.node;if(q.length){b.removeChild(g),g.on=!0,g.method=\"none\",g.color=q[0].color,g.color2=q[q.length-1].color;var r=[];for(var s=0,t=q.length;s<t;s++)q[s].offset&&r.push(q[s].offset+n+q[s].color);g.colors=r.length?r.join():\"0% \"+g.color,l==\"radial\"?(g.type=\"gradientTitle\",g.focus=\"100%\",g.focussize=\"0 0\",g.focusposition=m,g.angle=0):(g.type=\"gradient\",g.angle=(270-p)%360),b.appendChild(g)}return 1},D=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=c,this.matrix=a.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},E=a.el;D.prototype=E,E.constructor=D,E.transform=function(b){if(b==null)return this._.transform;var d=this.paper._viewBoxShift,e=d?\"s\"+[d.scale,d.scale]+\"-1-1t\"+[d.dx,d.dy]:o,f;d&&(f=b=c(b).replace(/\\.{3}|\\u2026/g,this._.transform||o)),a._extractTransform(this,e+b);var g=this.matrix.clone(),h=this.skew,i=this.node,j,k=~c(this.attrs.fill).indexOf(\"-\"),l=!c(this.attrs.fill).indexOf(\"url(\");g.translate(-0.5,-0.5);if(l||k||this.type==\"image\"){h.matrix=\"1 0 0 1\",h.offset=\"0 0\",j=g.split();if(k&&j.noRotation||!j.isSimple){i.style.filter=g.toFilter();var m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y;i.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)}else i.style.filter=o,z(this,j.scalex,j.scaley,j.dx,j.dy,j.rotate)}else i.style.filter=o,h.matrix=c(g),h.offset=g.offset();f&&(this._.transform=f);return this},E.rotate=function(a,b,e){if(this.removed)return this;if(a!=null){a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),e==null&&(b=e);if(b==null||e==null){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}this._.dirtyT=1,this.transform(this._.transform.concat([[\"r\",a,b,e]]));return this}},E.translate=function(a,b){if(this.removed)return this;a=c(a).split(k),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([[\"t\",a,b]]));return this},E.scale=function(a,b,e,f){if(this.removed)return this;a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),b==null&&(b=a),f==null&&(e=f);if(e==null||f==null)var g=this.getBBox(1);e=e==null?g.x+g.width/2:e,f=f==null?g.y+g.height/2:f,this.transform(this._.transform.concat([[\"s\",a,b,e,f]])),this._.dirtyT=1;return this},E.hide=function(){!this.removed&&(this.node.style.display=\"none\");return this},E.show=function(){!this.removed&&(this.node.style.display=o);return this},E._getBBox=function(){if(this.removed)return{};return{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed&&!!this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),a.eve.unbind(\"raphael.*.*.\"+this.id),a._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]=typeof this[b]==\"function\"?a._removedFactory(b):null;this.removed=!0}},E.attr=function(c,d){if(this.removed)return this;if(c==null){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);e.gradient&&e.fill==\"none\"&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform;return e}if(d==null&&a.is(c,\"string\")){if(c==j&&this.attrs.fill==\"none\"&&this.attrs.gradient)return this.attrs.gradient;var g=c.split(k),h={};for(var i=0,m=g.length;i<m;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],\"function\")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return m-1?h:h[g[0]]}if(this.attrs&&d==null&&a.is(c,\"array\")){h={};for(i=0,m=c.length;i<m;i++)h[c[i]]=this.attr(c[i]);return h}var n;d!=null&&(n={},n[c]=d),d==null&&a.is(c,\"object\")&&(n=c);for(var o in n)l(\"raphael.attr.\"+o+\".\"+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[b](o)&&n[b](o)&&a.is(this.paper.customAttributes[o],\"function\")){var p=this.paper.customAttributes[o].apply(this,[].concat(n[o]));this.attrs[o]=n[o];for(var q in p)p[b](q)&&(n[q]=p[q])}n.text&&this.type==\"text\"&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper);return this},E.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper));return this},E.insertAfter=function(b){if(this.removed)return this;b.constructor==a.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper);return this},E.insertBefore=function(b){if(this.removed)return this;b.constructor==a.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a._insertbefore(this,b,this.paper);return this},E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(r,o),+b!==0?(this.attrs.blur=b,c.filter=d+n+m+\".Blur(pixelradius=\"+(+b||1.5)+\")\",c.margin=a.format(\"-{0}px 0 0 -{0}px\",f(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},a._engine.path=function(a,b){var c=F(\"shape\");c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin;var d=new D(c,b),e={fill:\"none\",stroke:\"#000\"};a&&(e.path=a),d.type=\"path\",d.path=[],d.Path=o,B(d,e),b.canvas.appendChild(c);var f=F(\"skew\");f.on=!0,c.appendChild(f),d.skew=f,d.transform(o);return d},a._engine.rect=function(b,c,d,e,f,g){var h=a._rectPath(c,d,e,f,g),i=b.path(h),j=i.attrs;i.X=j.x=c,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type=\"rect\";return i},a._engine.ellipse=function(a,b,c,d,e){var f=a.path(),g=f.attrs;f.X=b-d,f.Y=c-e,f.W=d*2,f.H=e*2,f.type=\"ellipse\",B(f,{cx:b,cy:c,rx:d,ry:e});return f},a._engine.circle=function(a,b,c,d){var e=a.path(),f=e.attrs;e.X=b-d,e.Y=c-d,e.W=e.H=d*2,e.type=\"circle\",B(e,{cx:b,cy:c,r:d});return e},a._engine.image=function(b,c,d,e,f,g){var h=a._rectPath(d,e,f,g),i=b.path(h).attr({stroke:\"none\"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];k.src=c,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type=\"image\",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=c,m.type=\"tile\",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0);return i},a._engine.text=function(b,d,e,g){var h=F(\"shape\"),i=F(\"path\"),j=F(\"textpath\");d=d||0,e=e||0,g=g||\"\",i.v=a.format(\"m{0},{1}l{2},{1}\",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=c(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin=\"0 0\";var k=new D(h,b),l={fill:\"#000\",stroke:\"none\",font:a._availableAttrs.font,text:g};k.shape=h,k.path=i,k.textpath=j,k.type=\"text\",k.attrs.text=c(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),b.canvas.appendChild(h);var m=F(\"skew\");m.on=!0,h.appendChild(m),k.skew=m,k.transform(o);return k},a._engine.setSize=function(b,c){var d=this.canvas.style;this.width=b,this.height=c,b==+b&&(b+=\"px\"),c==+c&&(c+=\"px\"),d.width=b,d.height=c,d.clip=\"rect(0 \"+b+\" \"+c+\" 0)\",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox);return this},a._engine.setViewBox=function(b,c,d,e,f){a.eve(\"raphael.setViewBox\",this,this._viewBox,[b,c,d,e,f]);var h=this.width,i=this.height,j=1/g(d/h,e/i),k,l;f&&(k=i/e,l=h/d,d*k<h&&(b-=(h-d*k)/2/k),e*l<i&&(c-=(i-e*l)/2/l)),this._viewBox=[b,c,d,e,!!f],this._viewBoxShift={dx:-b,dy:-c,scale:j},this.forEach(function(a){a.transform(\"...\")});return this};var F;a._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(\".rvml\",\"behavior:url(#default#VML)\");try{!b.namespaces.rvml&&b.namespaces.add(\"rvml\",\"urn:schemas-microsoft-com:vml\"),F=function(a){return b.createElement(\"<rvml:\"+a+' class=\"rvml\">')}}catch(c){F=function(a){return b.createElement(\"<\"+a+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"rvml\">')}}},a._engine.initWin(a._g.win),a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b.container,d=b.height,e,f=b.width,g=b.x,h=b.y;if(!c)throw new Error(\"VML container not found.\");var i=new a._Paper,j=i.canvas=a._g.doc.createElement(\"div\"),k=j.style;g=g||0,h=h||0,f=f||512,d=d||342,i.width=f,i.height=d,f==+f&&(f+=\"px\"),d==+d&&(d+=\"px\"),i.coordsize=u*1e3+n+u*1e3,i.coordorigin=\"0 0\",i.span=a._g.doc.createElement(\"span\"),i.span.style.cssText=\"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;\",j.appendChild(i.span),k.cssText=a.format(\"top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden\",f,d),c==1?(a._g.doc.body.appendChild(j),k.left=g+\"px\",k.top=h+\"px\",k.position=\"absolute\"):c.firstChild?c.insertBefore(j,c.firstChild):c.appendChild(j),i.renderfix=function(){};return i},a.prototype.clear=function(){a.eve(\"raphael.clear\",this),this.canvas.innerHTML=o,this.span=a._g.doc.createElement(\"span\"),this.span.style.cssText=\"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;\",this.canvas.appendChild(this.span),this.bottom=this.top=null},a.prototype.remove=function(){a.eve(\"raphael.remove\",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]=typeof this[b]==\"function\"?a._removedFactory(b):null;return!0};var G=a.st;for(var H in E)E[b](H)&&!G[b](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}(window.Raphael)","/**\r\n * JustGage - a handy JavaScript plugin for generating and animating nice & clean dashboard gauges.\r\n * Copyright (c) 2012 Bojan Djuricic - pindjur(at)gmail(dot)com | http://www.madcog.com\r\n * Licensed under MIT.\r\n * Date: 31/07/2012\r\n * @author Bojan Djuricic  (@Toorshia)\r\n * @version 1.0\r\n *\r\n * http://www.justgage.com\r\n */\r\n \r\nJustGage=function(x){if(!x.id){alert(\"Missing id parameter for gauge!\");return false}if(!document.getElementById(x.id)){alert('No element with id: \"'+x.id+'\" found!');return false}this.config={id:x.id,title:(x.title)?x.title:\"Title\",titleFontColor:(x.titleFontColor)?x.titleFontColor:\"#999999\",value:(x.value)?x.value:0,valueFontColor:(x.valueFontColor)?x.valueFontColor:\"#010101\",min:(x.min)?x.min:0,max:(x.max)?x.max:100,showMinMax:(x.showMinMax!=null)?x.showMinMax:true,gaugeWidthScale:(x.gaugeWidthScale)?x.gaugeWidthScale:1,gaugeColor:(x.gaugeColor)?x.gaugeColor:\"#edebeb\",label:(x.label)?x.label:\"\",showInnerShadow:(x.showInnerShadow!=null)?x.showInnerShadow:true,shadowOpacity:(x.shadowOpacity)?x.shadowOpacity:0.2,shadowSize:(x.shadowSize)?x.shadowSize:5,shadowVerticalOffset:(x.shadowVerticalOffset)?x.shadowVerticalOffset:3,levelColors:(x.levelColors)?x.levelColors:percentColors,levelColorsGradient:(x.levelColorsGradient!=null)?x.levelColorsGradient:true,labelFontColor:(x.labelFontColor)?x.labelFontColor:\"#b3b3b3\",startAnimationTime:(x.startAnimationTime)?x.startAnimationTime:700,startAnimationType:(x.startAnimationType)?x.startAnimationType:\">\",refreshAnimationTime:(x.refreshAnimationTime)?x.refreshAnimationTime:700,refreshAnimationType:(x.refreshAnimationType)?x.refreshAnimationType:\">\"};if(x.value>this.config.max){this.config.value=this.config.max}if(x.value<this.config.min){this.config.value=this.config.min}this.originalValue=x.value;this.canvas=Raphael(this.config.id,\"100%\",\"100%\");var d=getStyle(document.getElementById(this.config.id),\"width\").slice(0,-2)*1;var q=getStyle(document.getElementById(this.config.id),\"height\").slice(0,-2)*1;var c,l;if((d/q)>1.25){c=1.25*q;l=q}else{c=d;l=d/1.25}var i=(d-c)/2;var g=(q-l)/2;var s=((l/8)>10)?(l/10):10;var n=i+c/2;var m=g+l/6.5;var k=((l/6.4)>16)?(l/6.4):16;var r=i+c/2;var p=g+l/1.4;var b=((l/16)>10)?(l/16):10;var f=i+c/2;var e=p+k/2+6;var j=((l/16)>10)?(l/16):10;var w=i+(c/10)+(c/6.666666666666667*this.config.gaugeWidthScale)/2;var v=g+l/1.126760563380282;var h=((l/16)>10)?(l/16):10;var u=i+c-(c/10)-(c/6.666666666666667*this.config.gaugeWidthScale)/2;var t=g+l/1.126760563380282;this.params={canvasW:d,canvasH:q,widgetW:c,widgetH:l,dx:i,dy:g,titleFontSize:s,titleX:n,titleY:m,valueFontSize:k,valueX:r,valueY:p,labelFontSize:b,labelX:f,labelY:e,minFontSize:j,minX:w,minY:v,maxFontSize:h,maxX:u,maxY:t};this.canvas.customAttributes.pki=function(K,L,N,E,O,F,D,y){var B=(1-(K-L)/(N-L))*Math.PI,G=E/2-E/10,J=G-E/6.666666666666667*y,C=E/2+F,A=O/1.25+D,H=E/2+F+G*Math.cos(B),P=O-(O-A)+D-G*Math.sin(B),M=E/2+F+J*Math.cos(B),z=O-(O-A)+D-J*Math.sin(B),I;I+=\"M\"+(C-J)+\",\"+A+\" \";I+=\"L\"+(C-G)+\",\"+A+\" \";I+=\"A\"+G+\",\"+G+\" 0 0,1 \"+H+\",\"+P+\" \";I+=\"L\"+M+\",\"+z+\" \";I+=\"A\"+J+\",\"+J+\" 0 0,0 \"+(C-J)+\",\"+A+\" \";I+=\"z \";return{path:I}};this.gauge=this.canvas.path().attr({stroke:\"none\",fill:this.config.gaugeColor,pki:[this.config.max,this.config.min,this.config.max,this.params.widgetW,this.params.widgetH,this.params.dx,this.params.dy,this.config.gaugeWidthScale]});this.gauge.id=this.config.id+\"-gauge\";this.level=this.canvas.path().attr({stroke:\"none\",fill:getColorForPercentage((this.config.value-this.config.min)/(this.config.max-this.config.min),this.config.levelColors,this.config.levelColorsGradient),pki:[this.config.min,this.config.min,this.config.max,this.params.widgetW,this.params.widgetH,this.params.dx,this.params.dy,this.config.gaugeWidthScale]});this.level.id=this.config.id+\"-level\";this.txtTitle=this.canvas.text(this.params.titleX,this.params.titleY,this.config.title);this.txtTitle.attr({\"font-size\":this.params.titleFontSize,\"font-weight\":\"bold\",\"font-family\":\"Arial\",fill:this.config.titleFontColor,\"fill-opacity\":\"1\"});this.txtTitle.id=this.config.id+\"-txttitle\";this.txtValue=this.canvas.text(this.params.valueX,this.params.valueY,this.originalValue);this.txtValue.attr({\"font-size\":this.params.valueFontSize,\"font-weight\":\"bold\",\"font-family\":\"Arial\",fill:this.config.valueFontColor,\"fill-opacity\":\"0\"});this.txtValue.id=this.config.id+\"-txtvalue\";this.txtLabel=this.canvas.text(this.params.labelX,this.params.labelY,this.config.label);this.txtLabel.attr({\"font-size\":this.params.labelFontSize,\"font-weight\":\"normal\",\"font-family\":\"Arial\",fill:this.config.labelFontColor,\"fill-opacity\":\"0\"});this.txtLabel.id=this.config.id+\"-txtlabel\";this.txtMin=this.canvas.text(this.params.minX,this.params.minY,this.config.min);this.txtMin.attr({\"font-size\":this.params.minFontSize,\"font-weight\":\"normal\",\"font-family\":\"Arial\",fill:this.config.labelFontColor,\"fill-opacity\":(this.config.showMinMax==true)?\"1\":\"0\"});this.txtMin.id=this.config.id+\"-txtmin\";this.txtMax=this.canvas.text(this.params.maxX,this.params.maxY,this.config.max);this.txtMax.attr({\"font-size\":this.params.maxFontSize,\"font-weight\":\"normal\",\"font-family\":\"Arial\",fill:this.config.labelFontColor,\"fill-opacity\":(this.config.showMinMax==true)?\"1\":\"0\"});this.txtMax.id=this.config.id+\"-txtmax\";var a=this.canvas.canvas.childNodes[1];var o=\"http://www.w3.org/2000/svg\";if(ie<9){onCreateElementNsReady(function(){this.generateShadow()})}else{this.generateShadow(o,a)}this.level.animate({pki:[this.config.value,this.config.min,this.config.max,this.params.widgetW,this.params.widgetH,this.params.dx,this.params.dy,this.config.gaugeWidthScale]},this.config.startAnimationTime,this.config.startAnimationType);this.txtValue.animate({\"fill-opacity\":\"1\"},this.config.startAnimationTime,this.config.startAnimationType);this.txtLabel.animate({\"fill-opacity\":\"1\"},this.config.startAnimationTime,this.config.startAnimationType)};JustGage.prototype.refresh=function(b){originalVal=b;if(b>this.config.max){b=this.config.max}if(b<this.config.min){b=this.config.min}var a=getColorForPercentage((b-this.config.min)/(this.config.max-this.config.min),this.config.levelColors,this.config.levelColorsGradient);this.canvas.getById(this.config.id+\"-txtvalue\").attr({text:originalVal});this.canvas.getById(this.config.id+\"-level\").animate({pki:[b,this.config.min,this.config.max,this.params.widgetW,this.params.widgetH,this.params.dx,this.params.dy,this.config.gaugeWidthScale],fill:a},this.config.refreshAnimationTime,this.config.refreshAnimationType)};var percentColors=[\"#a9d70b\",\"#f9c802\",\"#ff0000\"];JustGage.prototype.generateShadow=function(f,e){var h=document.createElementNS(f,\"filter\");h.setAttribute(\"id\",this.config.id+\"-inner-shadow\");e.appendChild(h);var i=document.createElementNS(f,\"feOffset\");i.setAttribute(\"dx\",0);i.setAttribute(\"dy\",this.config.shadowVerticalOffset);h.appendChild(i);var g=document.createElementNS(f,\"feGaussianBlur\");g.setAttribute(\"result\",\"offset-blur\");g.setAttribute(\"stdDeviation\",this.config.shadowSize);h.appendChild(g);var d=document.createElementNS(f,\"feComposite\");d.setAttribute(\"operator\",\"out\");d.setAttribute(\"in\",\"SourceGraphic\");d.setAttribute(\"in2\",\"offset-blur\");d.setAttribute(\"result\",\"inverse\");h.appendChild(d);var c=document.createElementNS(f,\"feFlood\");c.setAttribute(\"flood-color\",\"black\");c.setAttribute(\"flood-opacity\",this.config.shadowOpacity);c.setAttribute(\"result\",\"color\");h.appendChild(c);var b=document.createElementNS(f,\"feComposite\");b.setAttribute(\"operator\",\"in\");b.setAttribute(\"in\",\"color\");b.setAttribute(\"in2\",\"inverse\");b.setAttribute(\"result\",\"shadow\");h.appendChild(b);var a=document.createElementNS(f,\"feComposite\");a.setAttribute(\"operator\",\"over\");a.setAttribute(\"in\",\"shadow\");a.setAttribute(\"in2\",\"SourceGraphic\");h.appendChild(a);if(this.config.showInnerShadow==true){this.canvas.canvas.childNodes[2].setAttribute(\"filter\",\"url(#\"+this.config.id+\"-inner-shadow)\");this.canvas.canvas.childNodes[3].setAttribute(\"filter\",\"url(#\"+this.config.id+\"-inner-shadow)\")}};var getColorForPercentage=function(b,c,d){var a=c.length;if(a===1){return c[0]}var f=(d)?(1/(a-1)):(1/a);var g=new Array();for(var n=0;n<c.length;n++){var h=(d)?(f*n):(f*(n+1));var r=parseInt((cutHex(c[n])).substring(0,2),16);var e=parseInt((cutHex(c[n])).substring(2,4),16);var k=parseInt((cutHex(c[n])).substring(4,6),16);g[n]={pct:h,color:{r:r,g:e,b:k}}}if(b==0){return\"rgb(\"+[g[0].color.r,g[0].color.g,g[0].color.b].join(\",\")+\")\"}for(var n=0;n<g.length;n++){if(b<=g[n].pct){if(d==true){var q=g[n-1];var o=g[n];var j=o.pct-q.pct;var m=(b-q.pct)/j;var s=1-m;var p=m;var l={r:Math.floor(q.color.r*s+o.color.r*p),g:Math.floor(q.color.g*s+o.color.g*p),b:Math.floor(q.color.b*s+o.color.b*p)};return\"rgb(\"+[l.r,l.g,l.b].join(\",\")+\")\"}else{return\"rgb(\"+[g[n].color.r,g[n].color.g,g[n].color.b].join(\",\")+\")\"}}}};function getRandomInt(b,a){return Math.floor(Math.random()*(a-b+1))+b}function cutHex(a){return(a.charAt(0)==\"#\")?a.substring(1,7):a}function getStyle(a,b){var c=\"\";if(document.defaultView&&document.defaultView.getComputedStyle){c=document.defaultView.getComputedStyle(a,\"\").getPropertyValue(b)}else{if(a.currentStyle){b=b.replace(/\\-(\\w)/g,function(d,e){return e.toUpperCase()});c=a.currentStyle[b]}}return c}function onCreateElementNsReady(a){if(document.createElementNS!=undefined){a()}else{setTimeout(function(){onCreateElementNsReady(a)},100)}}var ie=(function(){var c,a=3,d=document.createElement(\"div\"),b=d.getElementsByTagName(\"i\");while(d.innerHTML=\"<!--[if gt IE \"+(++a)+\"]><i></i><![endif]-->\",b[0]){}return a>4?a:c}());","(function(r){r.fn.qrcode=function(h){var s;function u(a){this.mode=s;this.data=a}function o(a,c){this.typeNumber=a;this.errorCorrectLevel=c;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function q(a,c){if(void 0==a.length)throw Error(a.length+\"/\"+c);for(var d=0;d<a.length&&0==a[d];)d++;this.num=Array(a.length-d+c);for(var b=0;b<a.length-d;b++)this.num[b]=a[b+d]}function p(a,c){this.totalCount=a;this.dataCount=c}function t(){this.buffer=[];this.length=0}u.prototype={getLength:function(){return this.data.length},\nwrite:function(a){for(var c=0;c<this.data.length;c++)a.put(this.data.charCodeAt(c),8)}};o.prototype={addData:function(a){this.dataList.push(new u(a));this.dataCache=null},isDark:function(a,c){if(0>a||this.moduleCount<=a||0>c||this.moduleCount<=c)throw Error(a+\",\"+c);return this.modules[a][c]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var a=1,a=1;40>a;a++){for(var c=p.getRSBlocks(a,this.errorCorrectLevel),d=new t,b=0,e=0;e<c.length;e++)b+=c[e].dataCount;\nfor(e=0;e<this.dataList.length;e++)c=this.dataList[e],d.put(c.mode,4),d.put(c.getLength(),j.getLengthInBits(c.mode,a)),c.write(d);if(d.getLengthInBits()<=8*b)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[d][b]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-\n7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,c);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,c){for(var d=-1;7>=d;d++)if(!(-1>=a+d||this.moduleCount<=a+d))for(var b=-1;7>=b;b++)-1>=c+b||this.moduleCount<=c+b||(this.modules[a+d][c+b]=\n0<=d&&6>=d&&(0==b||6==b)||0<=b&&6>=b&&(0==d||6==d)||2<=d&&4>=d&&2<=b&&4>=b?!0:!1)},getBestMaskPattern:function(){for(var a=0,c=0,d=0;8>d;d++){this.makeImpl(!0,d);var b=j.getLostPoint(this);if(0==d||a>b)a=b,c=d}return c},createMovieClip:function(a,c,d){a=a.createEmptyMovieClip(c,d);this.make();for(c=0;c<this.modules.length;c++)for(var d=1*c,b=0;b<this.modules[c].length;b++){var e=1*b;this.modules[c][b]&&(a.beginFill(0,100),a.moveTo(e,d),a.lineTo(e+1,d),a.lineTo(e+1,d+1),a.lineTo(e,d+1),a.endFill())}return a},\nsetupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=j.getPatternPosition(this.typeNumber),c=0;c<a.length;c++)for(var d=0;d<a.length;d++){var b=a[c],e=a[d];if(null==this.modules[b][e])for(var f=-2;2>=f;f++)for(var i=-2;2>=i;i++)this.modules[b+f][e+i]=-2==f||2==f||-2==i||2==i||0==f&&0==i?!0:!1}},setupTypeNumber:function(a){for(var c=\nj.getBCHTypeNumber(this.typeNumber),d=0;18>d;d++){var b=!a&&1==(c>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=b}for(d=0;18>d;d++)b=!a&&1==(c>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=b},setupTypeInfo:function(a,c){for(var d=j.getBCHTypeInfo(this.errorCorrectLevel<<3|c),b=0;15>b;b++){var e=!a&&1==(d>>b&1);6>b?this.modules[b][8]=e:8>b?this.modules[b+1][8]=e:this.modules[this.moduleCount-15+b][8]=e}for(b=0;15>b;b++)e=!a&&1==(d>>b&1),8>b?this.modules[8][this.moduleCount-\nb-1]=e:9>b?this.modules[8][15-b-1+1]=e:this.modules[8][15-b-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,c){for(var d=-1,b=this.moduleCount-1,e=7,f=0,i=this.moduleCount-1;0<i;i-=2)for(6==i&&i--;;){for(var g=0;2>g;g++)if(null==this.modules[b][i-g]){var n=!1;f<a.length&&(n=1==(a[f]>>>e&1));j.getMask(c,b,i-g)&&(n=!n);this.modules[b][i-g]=n;e--; -1==e&&(f++,e=7)}b+=d;if(0>b||this.moduleCount<=b){b-=d;d=-d;break}}}};o.PAD0=236;o.PAD1=17;o.createData=function(a,c,d){for(var c=p.getRSBlocks(a,\nc),b=new t,e=0;e<d.length;e++){var f=d[e];b.put(f.mode,4);b.put(f.getLength(),j.getLengthInBits(f.mode,a));f.write(b)}for(e=a=0;e<c.length;e++)a+=c[e].dataCount;if(b.getLengthInBits()>8*a)throw Error(\"code length overflow. (\"+b.getLengthInBits()+\">\"+8*a+\")\");for(b.getLengthInBits()+4<=8*a&&b.put(0,4);0!=b.getLengthInBits()%8;)b.putBit(!1);for(;!(b.getLengthInBits()>=8*a);){b.put(o.PAD0,8);if(b.getLengthInBits()>=8*a)break;b.put(o.PAD1,8)}return o.createBytes(b,c)};o.createBytes=function(a,c){for(var d=\n0,b=0,e=0,f=Array(c.length),i=Array(c.length),g=0;g<c.length;g++){var n=c[g].dataCount,h=c[g].totalCount-n,b=Math.max(b,n),e=Math.max(e,h);f[g]=Array(n);for(var k=0;k<f[g].length;k++)f[g][k]=255&a.buffer[k+d];d+=n;k=j.getErrorCorrectPolynomial(h);n=(new q(f[g],k.getLength()-1)).mod(k);i[g]=Array(k.getLength()-1);for(k=0;k<i[g].length;k++)h=k+n.getLength()-i[g].length,i[g][k]=0<=h?n.get(h):0}for(k=g=0;k<c.length;k++)g+=c[k].totalCount;d=Array(g);for(k=n=0;k<b;k++)for(g=0;g<c.length;g++)k<f[g].length&&\n(d[n++]=f[g][k]);for(k=0;k<e;k++)for(g=0;g<c.length;g++)k<i[g].length&&(d[n++]=i[g][k]);return d};s=4;for(var j={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,\n78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var c=a<<10;0<=j.getBCHDigit(c)-j.getBCHDigit(j.G15);)c^=j.G15<<j.getBCHDigit(c)-j.getBCHDigit(j.G15);return(a<<10|c)^j.G15_MASK},getBCHTypeNumber:function(a){for(var c=a<<12;0<=j.getBCHDigit(c)-\nj.getBCHDigit(j.G18);)c^=j.G18<<j.getBCHDigit(c)-j.getBCHDigit(j.G18);return a<<12|c},getBCHDigit:function(a){for(var c=0;0!=a;)c++,a>>>=1;return c},getPatternPosition:function(a){return j.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,c,d){switch(a){case 0:return 0==(c+d)%2;case 1:return 0==c%2;case 2:return 0==d%3;case 3:return 0==(c+d)%3;case 4:return 0==(Math.floor(c/2)+Math.floor(d/3))%2;case 5:return 0==c*d%2+c*d%3;case 6:return 0==(c*d%2+c*d%3)%2;case 7:return 0==(c*d%3+(c+d)%2)%2;default:throw Error(\"bad maskPattern:\"+\na);}},getErrorCorrectPolynomial:function(a){for(var c=new q([1],0),d=0;d<a;d++)c=c.multiply(new q([1,l.gexp(d)],0));return c},getLengthInBits:function(a,c){if(1<=c&&10>c)switch(a){case 1:return 10;case 2:return 9;case s:return 8;case 8:return 8;default:throw Error(\"mode:\"+a);}else if(27>c)switch(a){case 1:return 12;case 2:return 11;case s:return 16;case 8:return 10;default:throw Error(\"mode:\"+a);}else if(41>c)switch(a){case 1:return 14;case 2:return 13;case s:return 16;case 8:return 12;default:throw Error(\"mode:\"+\na);}else throw Error(\"type:\"+c);},getLostPoint:function(a){for(var c=a.getModuleCount(),d=0,b=0;b<c;b++)for(var e=0;e<c;e++){for(var f=0,i=a.isDark(b,e),g=-1;1>=g;g++)if(!(0>b+g||c<=b+g))for(var h=-1;1>=h;h++)0>e+h||c<=e+h||0==g&&0==h||i==a.isDark(b+g,e+h)&&f++;5<f&&(d+=3+f-5)}for(b=0;b<c-1;b++)for(e=0;e<c-1;e++)if(f=0,a.isDark(b,e)&&f++,a.isDark(b+1,e)&&f++,a.isDark(b,e+1)&&f++,a.isDark(b+1,e+1)&&f++,0==f||4==f)d+=3;for(b=0;b<c;b++)for(e=0;e<c-6;e++)a.isDark(b,e)&&!a.isDark(b,e+1)&&a.isDark(b,e+\n2)&&a.isDark(b,e+3)&&a.isDark(b,e+4)&&!a.isDark(b,e+5)&&a.isDark(b,e+6)&&(d+=40);for(e=0;e<c;e++)for(b=0;b<c-6;b++)a.isDark(b,e)&&!a.isDark(b+1,e)&&a.isDark(b+2,e)&&a.isDark(b+3,e)&&a.isDark(b+4,e)&&!a.isDark(b+5,e)&&a.isDark(b+6,e)&&(d+=40);for(e=f=0;e<c;e++)for(b=0;b<c;b++)a.isDark(b,e)&&f++;a=Math.abs(100*f/c/c-50)/5;return d+10*a}},l={glog:function(a){if(1>a)throw Error(\"glog(\"+a+\")\");return l.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return l.EXP_TABLE[a]},EXP_TABLE:Array(256),\nLOG_TABLE:Array(256)},m=0;8>m;m++)l.EXP_TABLE[m]=1<<m;for(m=8;256>m;m++)l.EXP_TABLE[m]=l.EXP_TABLE[m-4]^l.EXP_TABLE[m-5]^l.EXP_TABLE[m-6]^l.EXP_TABLE[m-8];for(m=0;255>m;m++)l.LOG_TABLE[l.EXP_TABLE[m]]=m;q.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var c=Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var b=0;b<a.getLength();b++)c[d+b]^=l.gexp(l.glog(this.get(d))+l.glog(a.get(b)));return new q(c,0)},mod:function(a){if(0>\nthis.getLength()-a.getLength())return this;for(var c=l.glog(this.get(0))-l.glog(a.get(0)),d=Array(this.getLength()),b=0;b<this.getLength();b++)d[b]=this.get(b);for(b=0;b<a.getLength();b++)d[b]^=l.gexp(l.glog(a.get(b))+c);return(new q(d,0)).mod(a)}};p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],\n[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,\n116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,\n43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,\n3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,\n55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,\n45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];p.getRSBlocks=function(a,c){var d=p.getRsBlockTable(a,c);if(void 0==d)throw Error(\"bad rs block @ typeNumber:\"+a+\"/errorCorrectLevel:\"+c);for(var b=d.length/3,e=[],f=0;f<b;f++)for(var h=d[3*f+0],g=d[3*f+1],j=d[3*f+2],l=0;l<h;l++)e.push(new p(g,j));return e};p.getRsBlockTable=function(a,c){switch(c){case 1:return p.RS_BLOCK_TABLE[4*(a-1)+0];case 0:return p.RS_BLOCK_TABLE[4*(a-1)+1];case 3:return p.RS_BLOCK_TABLE[4*\n(a-1)+2];case 2:return p.RS_BLOCK_TABLE[4*(a-1)+3]}};t.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,c){for(var d=0;d<c;d++)this.putBit(1==(a>>>c-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0);a&&(this.buffer[c]|=128>>>this.length%8);this.length++}};\"string\"===typeof h&&(h={text:h});h=r.extend({},{render:\"canvas\",width:256,height:256,typeNumber:-1,\ncorrectLevel:2,background:\"#ffffff\",foreground:\"#000000\"},h);return this.each(function(){var a;if(\"canvas\"==h.render){a=new o(h.typeNumber,h.correctLevel);a.addData(h.text);a.make();var c=document.createElement(\"canvas\");c.width=h.width;c.height=h.height;for(var d=c.getContext(\"2d\"),b=h.width/a.getModuleCount(),e=h.height/a.getModuleCount(),f=0;f<a.getModuleCount();f++)for(var i=0;i<a.getModuleCount();i++){d.fillStyle=a.isDark(f,i)?h.foreground:h.background;var g=Math.ceil((i+1)*b)-Math.floor(i*b),\nj=Math.ceil((f+1)*b)-Math.floor(f*b);d.fillRect(Math.round(i*b),Math.round(f*e),g,j)}}else{a=new o(h.typeNumber,h.correctLevel);a.addData(h.text);a.make();c=r(\"<table></table>\").css(\"width\",h.width+\"px\").css(\"height\",h.height+\"px\").css(\"border\",\"0px\").css(\"border-collapse\",\"collapse\").css(\"background-color\",h.background);d=h.width/a.getModuleCount();b=h.height/a.getModuleCount();for(e=0;e<a.getModuleCount();e++){f=r(\"<tr></tr>\").css(\"height\",b+\"px\").appendTo(c);for(i=0;i<a.getModuleCount();i++)r(\"<td></td>\").css(\"width\",\nd+\"px\").css(\"background-color\",a.isDark(e,i)?h.foreground:h.background).appendTo(f)}}a=c;jQuery(a).appendTo(this)})}})(jQuery);","/* Copyright (c) 2009 José Joaquín Núñez (josejnv@gmail.com) http://joaquinnunez.cl/blog/\n * Licensed under GPL (http://www.opensource.org/licenses/gpl-2.0.php)\n * Use only for non-commercial usage.\n *\n * Version : 0.1\n *\n * Requires: jQuery 1.2+\n */\n\n(function(jQuery)\n{\n  jQuery.fn.clock = function(options)\n  {\n    var defaults = {\n      offset: '+0',\n      type: 'analog'\n    };\n    var _this = this;\n    var opts = jQuery.extend(defaults, options);\n\n    setInterval( function() {\n      var seconds = jQuery.calcTime(opts.offset).getSeconds();\n      if(opts.type=='analog')\n      {\n        var sdegree = seconds * 6;\n        var srotate = \"rotate(\" + sdegree + \"deg)\";\n        jQuery(_this).find(\".sec\").css({\"-moz-transform\" : srotate, \"-webkit-transform\" : srotate});\n      }\n      else\n      {\n        jQuery(_this).find(\".sec\").html(seconds);\n      }\n    }, 1000 );\n\n    setInterval( function() {\n      var hours = jQuery.calcTime(opts.offset).getHours();\n      var mins = jQuery.calcTime(opts.offset).getMinutes();\n      if(opts.type=='analog')\n      {\n        var hdegree = hours * 30 + (mins / 2);\n        var hrotate = \"rotate(\" + hdegree + \"deg)\";\n        jQuery(_this).find(\".hour\").css({\"-moz-transform\" : hrotate, \"-webkit-transform\" : hrotate});\n      }\n      else\n      {\n        jQuery(_this).find(\".hour\").html(hours+':');\n      }\n      var meridiem = hours<12?'AM':'PM';\n      jQuery(_this).find('.meridiem').html(meridiem);\n    }, 1000 );\n\n    setInterval( function() {\n      var mins = jQuery.calcTime(opts.offset).getMinutes();\n      if(opts.type=='analog')\n      {\n        var mdegree = mins * 6;\n        var mrotate = \"rotate(\" + mdegree + \"deg)\";        \n        jQuery(_this).find(\".min\").css({\"-moz-transform\" : mrotate, \"-webkit-transform\" : mrotate});                \n      }\n      else\n      {\n        jQuery(_this).find(\".min\").html(mins+':');\n      }\n    }, 1000 );\n  }\n})(jQuery);\n\n\njQuery.calcTime = function(offset) {\n\n  // create Date object for current location\n  d = new Date();\n\n  // convert to msec\n  // add local time zone offset\n  // get UTC time in msec\n  utc = d.getTime() + (d.getTimezoneOffset() * 60000);\n\n  // create new Date object for different city\n  // using supplied offset\n  nd = new Date(utc + (3600000*offset));\n\n  // return time as a string\n  return nd;\n};\n","/*\r\n * jquery-counter plugin\r\n *\r\n * Copyright (c) 2009 Martin Conte Mac Donell <Reflejo@gmail.com>\r\n * Dual licensed under the MIT and GPL licenses.\r\n * http://docs.jquery.com/License\r\n */\r\njQuery.fn.countdown = function(userOptions)\r\n{\r\n  // Default options\r\n  var options = {\r\n    stepTime: 60,\r\n    // startTime and format MUST follow the same format.\r\n    // also you cannot specify a format unordered (e.g. hh:ss:mm is wrong)\r\n    format: \"dd:hh:mm:ss\",\r\n    startTime: \"01:12:32:55\",\r\n    digitImages: 6,\r\n    digitWidth: 53,\r\n    digitHeight: 77,\r\n    timerEnd: function(){},\r\n    image: \"digits.png\"\r\n  };\r\n  var digits = [], interval;\r\n\r\n  // Draw digits in given container\r\n  var createDigits = function(where) \r\n  {\r\n    var c = 0;\r\n    // Iterate each startTime digit, if it is not a digit\r\n    // we'll asume that it's a separator\r\n    for (var i = 0; i < options.startTime.length; i++)\r\n    {\r\n      if (parseInt(options.startTime[i]) >= 0) \r\n      {\r\n        elem = $('<div id=\"cnt_' + i + '\" class=\"cntDigit\" />').css({\r\n          height: options.digitHeight * options.digitImages * 10, \r\n          float: 'left', background: 'url(\\'' + options.image + '\\')',\r\n          width: options.digitWidth});\r\n        digits.push(elem);\r\n        margin(c, -((parseInt(options.startTime[i]) * options.digitHeight *\r\n                              options.digitImages)));\r\n        digits[c].__max = 9;\r\n        // Add max digits, for example, first digit of minutes (mm) has \r\n        // a max of 5. Conditional max is used when the left digit has reach\r\n        // the max. For example second \"hours\" digit has a conditional max of 4 \r\n        switch (options.format[i]) {\r\n          case 'h':\r\n            digits[c].__max = (c % 2 == 0) ? 2: 9;\r\n            if (c % 2 == 0)\r\n              digits[c].__condmax = 4;\r\n            break;\r\n          case 'd': \r\n            digits[c].__max = 9;\r\n            break;\r\n          case 'm':\r\n          case 's':\r\n            digits[c].__max = (c % 2 == 0) ? 5: 9;\r\n        }\r\n        ++c;\r\n      }\r\n      else \r\n        elem = $('<div class=\"cntSeparator\"/>').css({float: 'left'})\r\n                .text(options.startTime[i]);\r\n\r\n      where.append(elem)\r\n    }\r\n  };\r\n  \r\n  // Set or get element margin\r\n  var margin = function(elem, val) \r\n  {\r\n    if (val !== undefined)\r\n      return digits[elem].css({'marginTop': val + 'px'});\r\n\r\n    return parseInt(digits[elem].css('marginTop').replace('px', ''));\r\n  };\r\n\r\n  // Makes the movement. This is done by \"digitImages\" steps.\r\n  var moveStep = function(elem) \r\n  {\r\n    digits[elem]._digitInitial = -(digits[elem].__max * options.digitHeight * options.digitImages);\r\n    return function _move() {\r\n      mtop = margin(elem) + options.digitHeight;\r\n      if (mtop == options.digitHeight) {\r\n        margin(elem, digits[elem]._digitInitial);\r\n        if (elem > 0) moveStep(elem - 1)();\r\n        else \r\n        {\r\n          clearInterval(interval);\r\n          for (var i=0; i < digits.length; i++) margin(i, 0);\r\n          options.timerEnd();\r\n          return;\r\n        }\r\n        if ((elem > 0) && (digits[elem].__condmax !== undefined) && \r\n            (digits[elem - 1]._digitInitial == margin(elem - 1)))\r\n          margin(elem, -(digits[elem].__condmax * options.digitHeight * options.digitImages));\r\n        return;\r\n      }\r\n\r\n      margin(elem, mtop);\r\n      if (margin(elem) / options.digitHeight % options.digitImages != 0)\r\n        setTimeout(_move, options.stepTime);\r\n\r\n      if (mtop == 0) digits[elem].__ismax = true;\r\n    }\r\n  };\r\n\r\n  $.extend(options, userOptions);\r\n  this.css({height: options.digitHeight, overflow: 'hidden'});\r\n  createDigits(this);\r\n  interval = setInterval(moveStep(digits.length - 1), 1000);\r\n};\r\n","jqtweet = {\n    loadTweets: function(options) {\n        options\t= $.extend( {}, {\n                user\t\t: \"themeforest\",\n                numTweets\t: 5\n        }, options);\n        $.ajax({\n            url: 'http://api.twitter.com/1/statuses/user_timeline.json/',\n            type: 'GET',\n            dataType: 'jsonp',\n            data: {\n                screen_name: options.user,\n                include_rts: true,\n                count: options.numTweets,\n                include_entities: true\n            },\n            success: function(data, textStatus, xhr) {\n                var html = '<div class=\"tweet\">TWEET_TEXT<div class=\"time\">AGO</div>';\n                $('#jqtwitter').html('');\n                // append tweets into page\n                for (var i = 0; i < data.length; i++) {\n                    $('#jqtwitter').append(\n                        html.replace('TWEET_TEXT', jqtweet.ify.clean(data[i].text) )\n                        .replace(/USER/g, data[i].user.screen_name)\n                        .replace('AGO', jqtweet.timeAgo(data[i].created_at) )\n                        .replace(/ID/g, data[i].id_str)\n                        );\n                }                  \n            }   \n \n        });\n         \n    }, \n     \n         \n    /**\n      * relative time calculator FROM TWITTER\n      * @param {string} twitter date string returned from Twitter API\n      * @return {string} relative time like \"2 minutes ago\"\n      */\n    timeAgo: function(dateString) {\n        var rightNow = new Date();\n        var then = new Date(dateString);\n         \n        if ($.browser.msie) {\n            // IE can't parse these crazy Ruby dates\n            then = Date.parse(dateString.replace(/( \\+)/, ' UTC$1'));\n        }\n \n        var diff = rightNow - then;\n \n        var second = 1000,\n        minute = second * 60,\n        hour = minute * 60,\n        day = hour * 24,\n        week = day * 7;\n \n        if (isNaN(diff) || diff < 0) {\n            return \"\"; // return blank string if unknown\n        }\n \n        if (diff < second * 2) {\n            // within 2 seconds\n            return \"right now\";\n        }\n \n        if (diff < minute) {\n            return Math.floor(diff / second) + \" seconds ago\";\n        }\n \n        if (diff < minute * 2) {\n            return \"about 1 minute ago\";\n        }\n \n        if (diff < hour) {\n            return Math.floor(diff / minute) + \" minutes ago\";\n        }\n \n        if (diff < hour * 2) {\n            return \"about 1 hour ago\";\n        }\n \n        if (diff < day) {\n            return  Math.floor(diff / hour) + \" hours ago\";\n        }\n \n        if (diff > day && diff < day * 2) {\n            return \"yesterday\";\n        }\n \n        if (diff < day * 365) {\n            return Math.floor(diff / day) + \" days ago\";\n        }\n \n        else {\n            return \"over a year ago\";\n        }\n    }, // timeAgo()\n     \n     \n    /**\n      * The Twitalinkahashifyer!\n      * http://www.dustindiaz.com/basement/ify.html\n      * Eg:\n      * ify.clean('your tweet text');\n      */\n    ify:  {\n        link: function(tweet) {\n            return tweet.replace(/\\b(((https*\\:\\/\\/)|www\\.)[^\\\"\\']+?)(([!?,.\\)]+)?(\\s|$))/g, function(link, m1, m2, m3, m4) {\n                var http = m2.match(/w/) ? 'http://' : '';\n                return '<a class=\"twtr-hyperlink\" target=\"_blank\" href=\"' + http + m1 + '\">' + ((m1.length > 25) ? m1.substr(0, 24) + '...' : m1) + '</a>' + m4;\n            });\n        },\n \n        at: function(tweet) {\n            return tweet.replace(/\\B[@＠]([a-zA-Z0-9_]{1,20})/g, function(m, username) {\n                return '<a target=\"_blank\" class=\"twtr-atreply\" href=\"http://twitter.com/intent/user?screen_name=' + username + '\">@' + username + '</a>';\n            });\n        },\n \n        list: function(tweet) {\n            return tweet.replace(/\\B[@＠]([a-zA-Z0-9_]{1,20}\\/\\w+)/g, function(m, userlist) {\n                return '<a target=\"_blank\" class=\"twtr-atreply\" href=\"http://twitter.com/' + userlist + '\">@' + userlist + '</a>';\n            });\n        },\n \n        hash: function(tweet) {\n            return tweet.replace(/(^|\\s+)#(\\w+)/gi, function(m, before, hash) {\n                return before + '<a target=\"_blank\" class=\"twtr-hashtag\" href=\"http://twitter.com/search?q=%23' + hash + '\">#' + hash + '</a>';\n            });\n        },\n \n        clean: function(tweet) {\n            return this.hash(this.at(this.list(this.link(tweet))));\n        }\n    }\n};","/*!\n * jQuery Cookie Plugin v1.3.1\n * https://github.com/carhartl/jquery-cookie\n *\n * Copyright 2013 Klaus Hartl\n * Released under the MIT license\n */\n(function (factory) {\n    if (typeof define === 'function' && define.amd && define.amd.jQuery) {\n        // AMD. Register as anonymous module.\n        define(['jquery'], factory);\n    } else {\n        // Browser globals.\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var pluses = /\\+/g;\n\n    function raw(s) {\n        return s;\n    }\n\n    function decoded(s) {\n        return decodeURIComponent(s.replace(pluses, ' '));\n    }\n\n    function converted(s) {\n        if (s.indexOf('\"') === 0) {\n            // This is a quoted cookie as according to RFC2068, unescape\n            s = s.slice(1, -1).replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\');\n        }\n        try {\n            return config.json ? JSON.parse(s) : s;\n        } catch(er) {}\n    }\n\n    var config = $.cookie = function (key, value, options) {\n\n        // write\n        if (value !== undefined) {\n            options = $.extend({}, config.defaults, options);\n\n            if (typeof options.expires === 'number') {\n                var days = options.expires, t = options.expires = new Date();\n                t.setDate(t.getDate() + days);\n            }\n\n            value = config.json ? JSON.stringify(value) : String(value);\n\n            return (document.cookie = [\n                encodeURIComponent(key), '=', config.raw ? value : encodeURIComponent(value),\n                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n                options.path    ? '; path=' + options.path : '',\n                options.domain  ? '; domain=' + options.domain : '',\n                options.secure  ? '; secure' : ''\n            ].join(''));\n        }\n\n        // read\n        var decode = config.raw ? raw : decoded;\n        var cookies = document.cookie.split('; ');\n        var result = key ? undefined : {};\n        for (var i = 0, l = cookies.length; i < l; i++) {\n            var parts = cookies[i].split('=');\n            var name = decode(parts.shift());\n            var cookie = decode(parts.join('='));\n\n            if (key && key === name) {\n                result = converted(cookie);\n                break;\n            }\n\n            if (!key) {\n                result[name] = converted(cookie);\n            }\n        }\n\n        return result;\n    };\n\n    config.defaults = {};\n\n    $.removeCookie = function (key, options) {\n        if ($.cookie(key) !== undefined) {\n            $.cookie(key, '', $.extend(options, { expires: -1 }));\n            return true;\n        }\n        return false;\n    };\n\n}));","/**\n* Bootstrap.js by @mdo and @fat, extended by @ArnoldDaniels.\n* plugins: bootstrap-fileupload.js\n* Copyright 2012 Twitter, Inc.\n* http://www.apache.org/licenses/LICENSE-2.0.txt\n*/\n!function(a){var b=function(b,c){this.$element=a(b),this.type=this.$element.data(\"uploadtype\")||(this.$element.find(\".thumbnail\").length>0?\"image\":\"file\"),this.$input=this.$element.find(\":file\");if(this.$input.length===0)return;this.name=this.$input.attr(\"name\")||c.name,this.$hidden=this.$element.find('input[type=hidden][name=\"'+this.name+'\"]'),this.$hidden.length===0&&(this.$hidden=a('<input type=\"hidden\" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(\".fileupload-preview\");var d=this.$preview.css(\"height\");this.$preview.css(\"display\")!=\"inline\"&&d!=\"0px\"&&d!=\"none\"&&this.$preview.css(\"line-height\",d),this.original={exists:this.$element.hasClass(\"fileupload-exists\"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.$remove=this.$element.find('[data-dismiss=\"fileupload\"]'),this.$element.find('[data-trigger=\"fileupload\"]').on(\"click.fileupload\",a.proxy(this.trigger,this)),this.listen()};b.prototype={listen:function(){this.$input.on(\"change.fileupload\",a.proxy(this.change,this)),a(this.$input[0].form).on(\"reset.fileupload\",a.proxy(this.reset,this)),this.$remove&&this.$remove.on(\"click.fileupload\",a.proxy(this.clear,this))},change:function(a,b){var c=a.target.files!==undefined?a.target.files[0]:a.target.value?{name:a.target.value.replace(/^.+\\\\/,\"\")}:null;if(b===\"clear\")return;if(!c){this.clear();return}this.$hidden.val(\"\"),this.$hidden.attr(\"name\",\"\"),this.$input.attr(\"name\",this.name);if(this.type===\"image\"&&this.$preview.length>0&&(typeof c.type!=\"undefined\"?c.type.match(\"image.*\"):c.name.match(\"\\\\.(gif|png|jpe?g)$\"))&&typeof FileReader!=\"undefined\"){var d=new FileReader,e=this.$preview,f=this.$element;d.onload=function(a){e.html('<img src=\"'+a.target.result+'\" '+(e.css(\"max-height\")!=\"none\"?'style=\"max-height: '+e.css(\"max-height\")+';\"':\"\")+\" />\"),f.addClass(\"fileupload-exists\").removeClass(\"fileupload-new\")},d.readAsDataURL(c)}else this.$preview.text(c.name),this.$element.addClass(\"fileupload-exists\").removeClass(\"fileupload-new\")},clear:function(b){this.$hidden.val(\"\"),this.$hidden.attr(\"name\",this.name),this.$input.attr(\"name\",\"\");if(a.browser.msie){var c=this.$input.clone(!0);this.$input.after(c),this.$input.remove(),this.$input=c}else this.$input.val(\"\");this.$preview.html(\"\"),this.$element.addClass(\"fileupload-new\").removeClass(\"fileupload-exists\"),b&&(this.$input.trigger(\"change\",[\"clear\"]),b.preventDefault())},reset:function(a){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.original.exists?this.$element.addClass(\"fileupload-exists\").removeClass(\"fileupload-new\"):this.$element.addClass(\"fileupload-new\").removeClass(\"fileupload-exists\")},trigger:function(a){this.$input.trigger(\"click\"),a.preventDefault()}},a.fn.fileupload=function(c){return this.each(function(){var d=a(this),e=d.data(\"fileupload\");e||d.data(\"fileupload\",e=new b(this,c)),typeof c==\"string\"&&e[c]()})},a.fn.fileupload.Constructor=b,a(function(){a(\"body\").on(\"click.fileupload.data-api\",'[data-provides=\"fileupload\"]',function(b){var c=a(this);if(c.data(\"fileupload\"))return;c.fileupload(c.data());var d=a(b.target).is(\"[data-dismiss=fileupload],[data-trigger=fileupload]\")?a(b.target):a(b.target).parents(\"[data-dismiss=fileupload],[data-trigger=fileupload]\").first();d.length>0&&(d.trigger(\"click.fileupload\"),b.preventDefault())})})}(window.jQuery)","var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;\n(function(){function L(a){function m(a){var f=a.charCodeAt(0);if(f!==92)return f;var b=a.charAt(1);return(f=r[b])?f:\"0\"<=b&&b<=\"7\"?parseInt(a.substring(1),8):b===\"u\"||b===\"x\"?parseInt(a.substring(2),16):a.charCodeAt(1)}function e(a){if(a<32)return(a<16?\"\\\\x0\":\"\\\\x\")+a.toString(16);a=String.fromCharCode(a);if(a===\"\\\\\"||a===\"-\"||a===\"[\"||a===\"]\")a=\"\\\\\"+a;return a}function h(a){for(var f=a.substring(1,a.length-1).match(/\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\S\\s]|[^\\\\]/g),a=\n[],b=[],o=f[0]===\"^\",c=o?1:0,i=f.length;c<i;++c){var j=f[c];if(/\\\\[bdsw]/i.test(j))a.push(j);else{var j=m(j),d;c+2<i&&\"-\"===f[c+1]?(d=m(f[c+2]),c+=2):d=j;b.push([j,d]);d<65||j>122||(d<65||j>90||b.push([Math.max(65,j)|32,Math.min(d,90)|32]),d<97||j>122||b.push([Math.max(97,j)&-33,Math.min(d,122)&-33]))}}b.sort(function(a,f){return a[0]-f[0]||f[1]-a[1]});f=[];j=[NaN,NaN];for(c=0;c<b.length;++c)i=b[c],i[0]<=j[1]+1?j[1]=Math.max(j[1],i[1]):f.push(j=i);b=[\"[\"];o&&b.push(\"^\");b.push.apply(b,a);for(c=0;c<\nf.length;++c)i=f[c],b.push(e(i[0])),i[1]>i[0]&&(i[1]+1>i[0]&&b.push(\"-\"),b.push(e(i[1])));b.push(\"]\");return b.join(\"\")}function y(a){for(var f=a.source.match(/\\[(?:[^\\\\\\]]|\\\\[\\S\\s])*]|\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\\\d+|\\\\[^\\dux]|\\(\\?[!:=]|[()^]|[^()[\\\\^]+/g),b=f.length,d=[],c=0,i=0;c<b;++c){var j=f[c];j===\"(\"?++i:\"\\\\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(d[j]=-1)}for(c=1;c<d.length;++c)-1===d[c]&&(d[c]=++t);for(i=c=0;c<b;++c)j=f[c],j===\"(\"?(++i,d[i]===void 0&&(f[c]=\"(?:\")):\"\\\\\"===j.charAt(0)&&\n(j=+j.substring(1))&&j<=i&&(f[c]=\"\\\\\"+d[i]);for(i=c=0;c<b;++c)\"^\"===f[c]&&\"^\"!==f[c+1]&&(f[c]=\"\");if(a.ignoreCase&&s)for(c=0;c<b;++c)j=f[c],a=j.charAt(0),j.length>=2&&a===\"[\"?f[c]=h(j):a!==\"\\\\\"&&(f[c]=j.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return\"[\"+String.fromCharCode(a&-33,a|32)+\"]\"}));return f.join(\"\")}for(var t=0,s=!1,l=!1,p=0,d=a.length;p<d;++p){var g=a[p];if(g.ignoreCase)l=!0;else if(/[a-z]/i.test(g.source.replace(/\\\\u[\\da-f]{4}|\\\\x[\\da-f]{2}|\\\\[^UXux]/gi,\"\"))){s=!0;l=!1;break}}for(var r=\n{b:8,t:9,n:10,v:11,f:12,r:13},n=[],p=0,d=a.length;p<d;++p){g=a[p];if(g.global||g.multiline)throw Error(\"\"+g);n.push(\"(?:\"+y(g)+\")\")}return RegExp(n.join(\"|\"),l?\"gi\":\"g\")}function M(a){function m(a){switch(a.nodeType){case 1:if(e.test(a.className))break;for(var g=a.firstChild;g;g=g.nextSibling)m(g);g=a.nodeName;if(\"BR\"===g||\"LI\"===g)h[s]=\"\\n\",t[s<<1]=y++,t[s++<<1|1]=a;break;case 3:case 4:g=a.nodeValue,g.length&&(g=p?g.replace(/\\r\\n?/g,\"\\n\"):g.replace(/[\\t\\n\\r ]+/g,\" \"),h[s]=g,t[s<<1]=y,y+=g.length,\nt[s++<<1|1]=a)}}var e=/(?:^|\\s)nocode(?:\\s|$)/,h=[],y=0,t=[],s=0,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=document.defaultView.getComputedStyle(a,q).getPropertyValue(\"white-space\"));var p=l&&\"pre\"===l.substring(0,3);m(a);return{a:h.join(\"\").replace(/\\n$/,\"\"),c:t}}function B(a,m,e,h){m&&(a={a:m,d:a},e(a),h.push.apply(h,a.e))}function x(a,m){function e(a){for(var l=a.d,p=[l,\"pln\"],d=0,g=a.a.match(y)||[],r={},n=0,z=g.length;n<z;++n){var f=g[n],b=r[f],o=void 0,c;if(typeof b===\n\"string\")c=!1;else{var i=h[f.charAt(0)];if(i)o=f.match(i[1]),b=i[0];else{for(c=0;c<t;++c)if(i=m[c],o=f.match(i[1])){b=i[0];break}o||(b=\"pln\")}if((c=b.length>=5&&\"lang-\"===b.substring(0,5))&&!(o&&typeof o[1]===\"string\"))c=!1,b=\"src\";c||(r[f]=b)}i=d;d+=f.length;if(c){c=o[1];var j=f.indexOf(c),k=j+c.length;o[2]&&(k=f.length-o[2].length,j=k-c.length);b=b.substring(5);B(l+i,f.substring(0,j),e,p);B(l+i+j,c,C(b,c),p);B(l+i+k,f.substring(k),e,p)}else p.push(l+i,b)}a.e=p}var h={},y;(function(){for(var e=a.concat(m),\nl=[],p={},d=0,g=e.length;d<g;++d){var r=e[d],n=r[3];if(n)for(var k=n.length;--k>=0;)h[n.charAt(k)]=r;r=r[1];n=\"\"+r;p.hasOwnProperty(n)||(l.push(r),p[n]=q)}l.push(/[\\S\\s]/);y=L(l)})();var t=m.length;return e}function u(a){var m=[],e=[];a.tripleQuotedStrings?m.push([\"str\",/^(?:'''(?:[^'\\\\]|\\\\[\\S\\s]|''?(?=[^']))*(?:'''|$)|\"\"\"(?:[^\"\\\\]|\\\\[\\S\\s]|\"\"?(?=[^\"]))*(?:\"\"\"|$)|'(?:[^'\\\\]|\\\\[\\S\\s])*(?:'|$)|\"(?:[^\"\\\\]|\\\\[\\S\\s])*(?:\"|$))/,q,\"'\\\"\"]):a.multiLineStrings?m.push([\"str\",/^(?:'(?:[^'\\\\]|\\\\[\\S\\s])*(?:'|$)|\"(?:[^\"\\\\]|\\\\[\\S\\s])*(?:\"|$)|`(?:[^\\\\`]|\\\\[\\S\\s])*(?:`|$))/,\nq,\"'\\\"`\"]):m.push([\"str\",/^(?:'(?:[^\\n\\r'\\\\]|\\\\.)*(?:'|$)|\"(?:[^\\n\\r\"\\\\]|\\\\.)*(?:\"|$))/,q,\"\\\"'\"]);a.verbatimStrings&&e.push([\"str\",/^@\"(?:[^\"]|\"\")*(?:\"|$)/,q]);var h=a.hashComments;h&&(a.cStyleComments?(h>1?m.push([\"com\",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,\"#\"]):m.push([\"com\",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\\b|[^\\n\\r]*)/,q,\"#\"]),e.push([\"str\",/^<(?:(?:(?:\\.\\.\\/)*|\\/?)(?:[\\w-]+(?:\\/[\\w-]+)+)?[\\w-]+\\.h|[a-z]\\w*)>/,q])):m.push([\"com\",/^#[^\\n\\r]*/,\nq,\"#\"]));a.cStyleComments&&(e.push([\"com\",/^\\/\\/[^\\n\\r]*/,q]),e.push([\"com\",/^\\/\\*[\\S\\s]*?(?:\\*\\/|$)/,q]));a.regexLiterals&&e.push([\"lang-regex\",/^(?:^^\\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\\(|\\*|\\*=|\\+=|,|-=|->|\\/|\\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\\^=|\\^\\^|\\^\\^=|{|\\||\\|=|\\|\\||\\|\\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*(\\/(?=[^*/])(?:[^/[\\\\]|\\\\[\\S\\s]|\\[(?:[^\\\\\\]]|\\\\[\\S\\s])*(?:]|$))+\\/)/]);(h=a.types)&&e.push([\"typ\",h]);a=(\"\"+a.keywords).replace(/^ | $/g,\n\"\");a.length&&e.push([\"kwd\",RegExp(\"^(?:\"+a.replace(/[\\s,]+/g,\"|\")+\")\\\\b\"),q]);m.push([\"pln\",/^\\s+/,q,\" \\r\\n\\t\\xa0\"]);e.push([\"lit\",/^@[$_a-z][\\w$@]*/i,q],[\"typ\",/^(?:[@_]?[A-Z]+[a-z][\\w$@]*|\\w+_t\\b)/,q],[\"pln\",/^[$_a-z][\\w$@]*/i,q],[\"lit\",/^(?:0x[\\da-f]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+-]?\\d+)?)[a-z]*/i,q,\"0123456789\"],[\"pln\",/^\\\\[\\S\\s]?/,q],[\"pun\",/^.[^\\s\\w\"-$'./@\\\\`]*/,q]);return x(m,e)}function D(a,m){function e(a){switch(a.nodeType){case 1:if(k.test(a.className))break;if(\"BR\"===a.nodeName)h(a),\na.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)e(a);break;case 3:case 4:if(p){var b=a.nodeValue,d=b.match(t);if(d){var c=b.substring(0,d.index);a.nodeValue=c;(b=b.substring(d.index+d[0].length))&&a.parentNode.insertBefore(s.createTextNode(b),a.nextSibling);h(a);c||a.parentNode.removeChild(a)}}}}function h(a){function b(a,d){var e=d?a.cloneNode(!1):a,f=a.parentNode;if(f){var f=b(f,1),g=a.nextSibling;f.appendChild(e);for(var h=g;h;h=g)g=h.nextSibling,f.appendChild(h)}return e}\nfor(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var a=b(a.nextSibling,0),e;(e=a.parentNode)&&e.nodeType===1;)a=e;d.push(a)}var k=/(?:^|\\s)nocode(?:\\s|$)/,t=/\\r\\n?|\\n/,s=a.ownerDocument,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=s.defaultView.getComputedStyle(a,q).getPropertyValue(\"white-space\"));var p=l&&\"pre\"===l.substring(0,3);for(l=s.createElement(\"LI\");a.firstChild;)l.appendChild(a.firstChild);for(var d=[l],g=0;g<d.length;++g)e(d[g]);m===(m|0)&&d[0].setAttribute(\"value\",\nm);var r=s.createElement(\"OL\");r.className=\"linenums\";for(var n=Math.max(0,m-1|0)||0,g=0,z=d.length;g<z;++g)l=d[g],l.className=\"L\"+(g+n)%10,l.firstChild||l.appendChild(s.createTextNode(\"\\xa0\")),r.appendChild(l);a.appendChild(r)}function k(a,m){for(var e=m.length;--e>=0;){var h=m[e];A.hasOwnProperty(h)?window.console&&console.warn(\"cannot override language handler %s\",h):A[h]=a}}function C(a,m){if(!a||!A.hasOwnProperty(a))a=/^\\s*</.test(m)?\"default-markup\":\"default-code\";return A[a]}function E(a){var m=\na.g;try{var e=M(a.h),h=e.a;a.a=h;a.c=e.c;a.d=0;C(m,h)(a);var k=/\\bMSIE\\b/.test(navigator.userAgent),m=/\\n/g,t=a.a,s=t.length,e=0,l=a.c,p=l.length,h=0,d=a.e,g=d.length,a=0;d[g]=s;var r,n;for(n=r=0;n<g;)d[n]!==d[n+2]?(d[r++]=d[n++],d[r++]=d[n++]):n+=2;g=r;for(n=r=0;n<g;){for(var z=d[n],f=d[n+1],b=n+2;b+2<=g&&d[b+1]===f;)b+=2;d[r++]=z;d[r++]=f;n=b}for(d.length=r;h<p;){var o=l[h+2]||s,c=d[a+2]||s,b=Math.min(o,c),i=l[h+1],j;if(i.nodeType!==1&&(j=t.substring(e,b))){k&&(j=j.replace(m,\"\\r\"));i.nodeValue=\nj;var u=i.ownerDocument,v=u.createElement(\"SPAN\");v.className=d[a+1];var x=i.parentNode;x.replaceChild(v,i);v.appendChild(i);e<o&&(l[h+1]=i=u.createTextNode(t.substring(b,o)),x.insertBefore(i,v.nextSibling))}e=b;e>=o&&(h+=2);e>=c&&(a+=2)}}catch(w){\"console\"in window&&console.log(w&&w.stack?w.stack:w)}}var v=[\"break,continue,do,else,for,if,return,while\"],w=[[v,\"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile\"],\n\"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof\"],F=[w,\"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where\"],G=[w,\"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient\"],\nH=[G,\"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var\"],w=[w,\"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN\"],I=[v,\"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None\"],\nJ=[v,\"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END\"],v=[v,\"case,done,elif,esac,eval,fi,function,in,local,set,then,until\"],K=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\\d*)/,N=/\\S/,O=u({keywords:[F,H,w,\"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END\"+\nI,J,v],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),A={};k(O,[\"default-code\"]);k(x([],[[\"pln\",/^[^<?]+/],[\"dec\",/^<!\\w[^>]*(?:>|$)/],[\"com\",/^<\\!--[\\S\\s]*?(?:--\\>|$)/],[\"lang-\",/^<\\?([\\S\\s]+?)(?:\\?>|$)/],[\"lang-\",/^<%([\\S\\s]+?)(?:%>|$)/],[\"pun\",/^(?:<[%?]|[%?]>)/],[\"lang-\",/^<xmp\\b[^>]*>([\\S\\s]+?)<\\/xmp\\b[^>]*>/i],[\"lang-js\",/^<script\\b[^>]*>([\\S\\s]*?)(<\\/script\\b[^>]*>)/i],[\"lang-css\",/^<style\\b[^>]*>([\\S\\s]*?)(<\\/style\\b[^>]*>)/i],[\"lang-in.tag\",/^(<\\/?[a-z][^<>]*>)/i]]),\n[\"default-markup\",\"htm\",\"html\",\"mxml\",\"xhtml\",\"xml\",\"xsl\"]);k(x([[\"pln\",/^\\s+/,q,\" \\t\\r\\n\"],[\"atv\",/^(?:\"[^\"]*\"?|'[^']*'?)/,q,\"\\\"'\"]],[[\"tag\",/^^<\\/?[a-z](?:[\\w-.:]*\\w)?|\\/?>$/i],[\"atn\",/^(?!style[\\s=]|on)[a-z](?:[\\w:-]*\\w)?/i],[\"lang-uq.val\",/^=\\s*([^\\s\"'>]*(?:[^\\s\"'/>]|\\/(?=\\s)))/],[\"pun\",/^[/<->]+/],[\"lang-js\",/^on\\w+\\s*=\\s*\"([^\"]+)\"/i],[\"lang-js\",/^on\\w+\\s*=\\s*'([^']+)'/i],[\"lang-js\",/^on\\w+\\s*=\\s*([^\\s\"'>]+)/i],[\"lang-css\",/^style\\s*=\\s*\"([^\"]+)\"/i],[\"lang-css\",/^style\\s*=\\s*'([^']+)'/i],[\"lang-css\",\n/^style\\s*=\\s*([^\\s\"'>]+)/i]]),[\"in.tag\"]);k(x([],[[\"atv\",/^[\\S\\s]+/]]),[\"uq.val\"]);k(u({keywords:F,hashComments:!0,cStyleComments:!0,types:K}),[\"c\",\"cc\",\"cpp\",\"cxx\",\"cyc\",\"m\"]);k(u({keywords:\"null,true,false\"}),[\"json\"]);k(u({keywords:H,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:K}),[\"cs\"]);k(u({keywords:G,cStyleComments:!0}),[\"java\"]);k(u({keywords:v,hashComments:!0,multiLineStrings:!0}),[\"bsh\",\"csh\",\"sh\"]);k(u({keywords:I,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),\n[\"cv\",\"py\"]);k(u({keywords:\"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END\",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),[\"perl\",\"pl\",\"pm\"]);k(u({keywords:J,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),[\"rb\"]);k(u({keywords:w,cStyleComments:!0,regexLiterals:!0}),[\"js\"]);k(u({keywords:\"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes\",\nhashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),[\"coffee\"]);k(x([],[[\"str\",/^[\\S\\s]+/]]),[\"regex\"]);window.prettyPrintOne=function(a,m,e){var h=document.createElement(\"PRE\");h.innerHTML=a;e&&D(h,e);E({g:m,i:e,h:h});return h.innerHTML};window.prettyPrint=function(a){function m(){for(var e=window.PR_SHOULD_USE_CONTINUATION?l.now()+250:Infinity;p<h.length&&l.now()<e;p++){var n=h[p],k=n.className;if(k.indexOf(\"prettyprint\")>=0){var k=k.match(g),f,b;if(b=\n!k){b=n;for(var o=void 0,c=b.firstChild;c;c=c.nextSibling)var i=c.nodeType,o=i===1?o?b:c:i===3?N.test(c.nodeValue)?b:o:o;b=(f=o===b?void 0:o)&&\"CODE\"===f.tagName}b&&(k=f.className.match(g));k&&(k=k[1]);b=!1;for(o=n.parentNode;o;o=o.parentNode)if((o.tagName===\"pre\"||o.tagName===\"code\"||o.tagName===\"xmp\")&&o.className&&o.className.indexOf(\"prettyprint\")>=0){b=!0;break}b||((b=(b=n.className.match(/\\blinenums\\b(?::(\\d+))?/))?b[1]&&b[1].length?+b[1]:!0:!1)&&D(n,b),d={g:k,h:n,i:b},E(d))}}p<h.length?setTimeout(m,\n250):a&&a()}for(var e=[document.getElementsByTagName(\"pre\"),document.getElementsByTagName(\"code\"),document.getElementsByTagName(\"xmp\")],h=[],k=0;k<e.length;++k)for(var t=0,s=e[k].length;t<s;++t)h.push(e[k][t]);var e=q,l=Date;l.now||(l={now:function(){return+new Date}});var p=0,d,g=/\\blang(?:uage)?-([\\w.]+)(?!\\S)/;m()};window.PR={createSimpleLexer:x,registerLangHandler:k,sourceDecorator:u,PR_ATTRIB_NAME:\"atn\",PR_ATTRIB_VALUE:\"atv\",PR_COMMENT:\"com\",PR_DECLARATION:\"dec\",PR_KEYWORD:\"kwd\",PR_LITERAL:\"lit\",\nPR_NOCODE:\"nocode\",PR_PLAIN:\"pln\",PR_PUNCTUATION:\"pun\",PR_SOURCE:\"src\",PR_STRING:\"str\",PR_TAG:\"tag\",PR_TYPE:\"typ\"}})();\n","/* ============================================================\n * bootstrapSwitch v1.0 by Larentis Mattia @spiritualGuru\n * http://www.larentis.eu/switch/\n * ============================================================\n * Licensed under the Apache License, Version 2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n * ============================================================ */\n\n!function ($) {\n  \"use strict\";\n\n  $.fn['bootstrapSwitch'] = function (method) {\n    var methods = {\n      init:function () {\n        this.each(function () {\n            var $element = $(this)\n              , $div\n              , $switchLeft\n              , $switchRight\n              , $label\n              , myClasses = \"\"\n              , classes = $element.attr('class')\n              , color\n              , moving\n              , onLabel = \"ON\"\n              , offLabel = \"OFF\";\n\n            $.each(['switch-mini', 'switch-small', 'switch-large'], function (i, el) {\n              if (classes.indexOf(el) >= 0)\n                myClasses = el;\n            });\n\n            if ($element.data('on') !== undefined)\n              color = \"switch-\" + $element.data('on');\n\n            if ($element.data('on-label') !== undefined)\n              onLabel = $element.data('on-label');\n\n            if ($element.data('off-label') !== undefined)\n              offLabel = $element.data('off-label');\n\n            $switchLeft = $('<span>')\n              .addClass(\"switch-left\")\n              .addClass(myClasses)\n              .addClass(color)\n              .html(onLabel);\n\n            if ($element.data('off') !== undefined)\n              color = \"switch-\" + $element.data('off');\n\n            $switchRight = $('<span>')\n              .addClass(\"switch-right\")\n              .addClass(myClasses)\n              .addClass(color)\n              .html(offLabel);\n\n            $label = $('<label>')\n              .html(\"&nbsp;\")\n              .addClass(myClasses)\n              .attr('for', $element.find('input').attr('id'));\n\n            $div = $element.find(':checkbox').wrap($('<div>')).parent().data('animated', false);\n\n            if ($element.data('animated') !== false)\n              $div.addClass('switch-animate').data('animated', true);\n\n            $div.append($switchLeft);\n            $div.append($label);\n            $div.append($switchRight);\n\n            $element.find('>div').addClass(\n              $element.find('input').is(':checked') ? 'switch-on' : 'switch-off'\n            );\n\n            if ($element.find('input').is(':disabled'))\n              $(this).addClass('deactivate');\n\n            var changeStatus = function ($this) {\n              $this.siblings('label').trigger('mousedown').trigger('mouseup').trigger('click');\n            };\n\n            $switchLeft.on('click', function (e) {\n              changeStatus($(this));\n            });\n            $switchRight.on('click', function (e) {\n              changeStatus($(this));\n            });\n\n            $element.find('input').on('change', function (e) {\n              var $element = $(this).parent();\n\n              e.preventDefault();\n              e.stopImmediatePropagation();\n\n              $element.css('left', '');\n\n              if ($(this).is(':checked'))\n                $element.removeClass('switch-off').addClass('switch-on');\n              else $element.removeClass('switch-on').addClass('switch-off');\n\n              if ($element.data('animated') !== false)\n                $element.addClass(\"switch-animate\");\n\n              $element.parent().trigger('switch-change', {'el':$(this), 'value':$(this).is(':checked')})\n            });\n\n            $element.find('label').on('mousedown touchstart', function (e) {\n              var $this = $(this);\n              moving = false;\n\n              e.preventDefault();\n              e.stopImmediatePropagation();\n\n              $this.closest('div').removeClass('switch-animate');\n\n              if ($this.closest('.switch').is('.deactivate'))\n                $this.unbind('click');\n              else {\n                $this.on('mousemove touchmove', function (e) {\n                  var $element = $(this).closest('.switch')\n                    , relativeX = (e.pageX || e.originalEvent.targetTouches[0].pageX) - $element.offset().left\n                    , percent = (relativeX / $element.width()) * 100\n                    , left = 25\n                    , right = 75;\n\n                  moving = true;\n\n                  if (percent < left)\n                    percent = left;\n                  else if (percent > right)\n                    percent = right;\n\n                  $element.find('>div').css('left', (percent - right) + \"%\")\n                });\n\n                $this.on('click touchend', function (e) {\n                  var $this = $(this)\n                    , $target = $(e.target)\n                    , $myCheckBox = $target.siblings('input');\n\n                  e.stopImmediatePropagation();\n                  e.preventDefault();\n\n                  $this.unbind('mouseleave');\n\n                  if (moving)\n                    $myCheckBox.prop('checked', !(parseInt($this.parent().css('left')) < -25));\n                  else $myCheckBox.prop(\"checked\", !$myCheckBox.is(\":checked\"));\n\n                  moving = false;\n                  $myCheckBox.trigger('change');\n                });\n\n                $this.on('mouseleave', function (e) {\n                  var $this = $(this)\n                    , $myCheckBox = $this.siblings('input');\n\n                  e.preventDefault();\n                  e.stopImmediatePropagation();\n\n                  $this.unbind('mouseleave');\n                  $this.trigger('mouseup');\n\n                  $myCheckBox.prop('checked', !(parseInt($this.parent().css('left')) < -25)).trigger('change');\n                });\n\n                $this.on('mouseup', function (e) {\n                  e.stopImmediatePropagation();\n                  e.preventDefault();\n\n                  $(this).unbind('mousemove');\n                });\n              }\n            });\n          }\n        );\n      },\n      toggleActivation:function () {\n        $(this).toggleClass('deactivate');\n      },\n      toggleState:function (skipOnChange) {\n        var $input = $(this).find('input:checkbox');\n        $input.prop('checked', !$input.is(':checked')).trigger('change', skipOnChange);\n      },\n      setState:function (value, skipOnChange) {\n        $(this).find('input:checkbox').prop('checked', value).trigger('change', skipOnChange);\n      },\n      status:function () {\n        return $(this).find('input:checkbox').is(':checked');\n      },\n      destroy:function () {\n        var $div = $(this).find('div')\n          , $checkbox;\n\n        $div.find(':not(input:checkbox)').remove();\n\n        $checkbox = $div.children();\n        $checkbox.unwrap().unwrap();\n\n        $checkbox.unbind('change');\n\n        return $checkbox;\n      }\n    };\n\n    if (methods[method])\n      return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    else if (typeof method === 'object' || !method)\n      return methods.init.apply(this, arguments);\n    else\n      $.error('Method ' + method + ' does not exist!');\n  };\n}(jQuery);\n\n$(function () {\n  $('.switch')['bootstrapSwitch']();\n});\n","/*\n * JQuery MFupload v1.10\n *\n * Copyright 2011, Gianrocco Giaquinta\n * http://www.jscripts.info/\n *\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n */\n\n(function( $ ){\n\n\tvar settings;\n\t\n    var methods = {\n        completed: function(){},\n        start: function(){},\n        loaded: function(){},\n\t\tprogress: function(){},\n        error: function(){},\n\t\t\n\t\tupload_old: function(ctl, iframe){\n\t\t\t\n\t\t\tsettings.init();\n\t\t\t\n\t\t\tvar fnam = ctl.attr('value').replace(/^.*[\\\\\\/]/, '')\n\t\t\t\t\t\t\n\t\t\tvar xload = {fileno:-1, filename: fnam, perc:0, sent: 0, total: 0};\t\t\t\t\t\t\n\t\t\tsettings.start(xload);\n\t\t\t\n\t\t\t$('<iframe id=\"'+iframe+'\" name=\"'+iframe+'\" src=\"#\" style=\"display:none\"></iframe>').appendTo('body');\n\t\t\t\n\t\t\t$('#'+iframe).bind('load', function() {\n\t\t\t\t\n\t\t\t\tvar tmp = $('#'+iframe).contents().find('body').html();\n\t\t\t\tvar result = jQuery.parseJSON( tmp );\n\t\t\t\tresult.fileno=-1;\n\t\t\t\tsettings.loaded( result );\n\t\t\t\tsettings.completed();\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t$('#'+iframe).unbind('load');\n\t\t\t\t$('#'+iframe).remove();\n\t\t\t});\n\t\t\t\t\t\t\t\t\t\n\t\t\tctl.parent().submit();\t\n\t\t},\n\t\t\t\t\n\t\tupload: function(files){\n\t\t\t\t\t\n\t\t\tnfiles = files.length;\n\t\t\tcfiles = nfiles;\n\t\t\t\n\t\t\tsettings.init();\n\t\t\t\n\t\t\tif (typeof files !== \"undefined\") {\n                for (var i=0; i< nfiles; i++) {\n                    \n\t\t\t\t\tvar ext = files[i].name.toLowerCase().split(/\\./);\n            \t\text = ext[ext.length -1];\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\tif ( settings.type && settings.type.indexOf(ext) == -1 ) {\n\t\t\t\t\t\tvar err = { err_no: 1, err_des: \"File type error\", fileno: i, filename: files[i].name };\n\t\t\t\t\t\tsettings.error(err);\n\t\t\t\t\t\tcfiles --; if ( cfiles == 0) settings.completed(); \n\t\t\t\n\t\t\t\t\t} else if ( settings.maxsize>0 && files[i].size > settings.maxsize*1048576 ) {\n\t\t\t\t\t\tvar err = { err_no: 2, err_des: \"File size error\", fileno: i, filename: files[i].name };\n\t\t\t\t\t\tsettings.error(err);\n\t\t\t\t\t\tcfiles --; if ( cfiles == 0) settings.completed(); \n\t\t\t\t\t\t\n\t\t\t\t\t} else\t\t\t\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\tvar xload = {fileno:i, filename: files[i].name, perc:0, sent: 0, total: 0};\t\t\t\t\t\t\n\t\t\t\t\tsettings.start(xload);\t\t\t\n\n\t\t\t\t\ttry   \n   \t\t\t\t\t\t{ \n   \t\t\t\t\t\t\t// Firefox, Opera 8.0+, Safari  \n   \t\t\t\t\t\t\tvar xhr = new XMLHttpRequest();\n   \t\t\t\t\t\t}  \n  \t\t\t\t\t\tcatch (e)    \n   \t\t\t\t\t\t{\n\t\t\t\t\t\t\talert(\"Your browser does not support AJAX!\");      \n    \t\t\t\t\t\treturn false;      \n    \t\t\t\t\t}    \n   \t\t\t\t\t\n\t\t\t\t\txhr.open(\"POST\", settings.post_upload, true);\n\t\t\t\t\txhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            \t\txhr.upload.filenumb = i;\n\t\t\t\t\txhr.filenumb = i;\n\t\t\t\t\txhr.upload.filename = files[i].name;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\txhr.upload.addEventListener(\"progress\", function (e) {\n                \t\n\t\t\t\t\t if (e.lengthComputable) {\n\t\t\t\t\t\t \n\t\t\t\t\t\tvar loaded = Math.ceil((e.loaded / e.total) * 100);\n                    \tvar xload = { fileno:this.filenumb, filename: this.filename, perc: loaded, sent: e.loaded, total: e.total };\n\t\t\t\t\t\tsettings.progress(xload);\n\t\t\t\t\t\t\n\t\t\t\t\t }\n            \t\t}, false);\n            \n\t\t\t\t\txhr.addEventListener(\"load\", function (e) {\n                \t\t\n\t\t\t\t\t\tvar result = jQuery.parseJSON(e.target.responseText);\n\t\t\t\t\t\tresult.fileno = this.filenumb;\n\t\t\t\t\t\tsettings.loaded(result);\n\t\t\t\t\t\tcfiles --; if ( cfiles == 0) settings.completed(); \n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t}, false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\tvar nef = new FormData();\n\t\t\t\t\tnef.append(\"folder\", settings.folder);\n\t\t\t\t\tnef.append(\"file_element\", settings.file_elem);\n\t\t\t\t\tnef.append(\"udata\", settings.user_data);\n\t\t\t\t    nef.append(settings.file_elem, files[i]);\n            \t\txhr.send(nef);\n\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\n                }\n            } else {\n                alert(\"no support\");\n            }\n\t\t\t\t\t\n\t\t\t\n\t\t}\n\t}\n\n\t$.fn.mfupload = function(opt) {\n        \n        settings = {\n\t\t\t\n            'init'        : methods.init,\n            'start'       : methods.start,\n            'loaded'      : methods.loaded,\n\t\t\t'progress'    : methods.progress,\n\t\t\t'completed'\t  : methods.completed,\t\t\t\n            'ini_text'\t  : 'drag files to here',\n            'over_text'   : 'drop files',\n            'over_col'\t  : 'white',\n\t\t\t'over_bkcol'  : 'green',\n\t\t\t'post_upload' : './upload.php',\n            'maxsize'     : '1', //default 1MB\n\t\t\t'type'\t\t  : '',\n\t\t\t'folder'\t  : './',\n\t\t\t'user_data'\t  : '',\n\t\t\t'file_elem'\t  : ''\n        };\n\t\t\n\tif(opt) $.extend(settings, opt);\n\t\n\t  this.each(function()\t{\n\t  if ( !((window.location != window.parent.location) ? true : false) )\n\t  {\n\t\t  \n\t\tsettings.file_elem = \"mf_file_\"+$(this).attr(\"id\");\n\t\tsettings.iframe = \"mf_iframe_\"+$(this).attr(\"id\");\n\t\t\t\t\n\t\t$(this).append('<div class=\"mf_upload_m\"><form method=\"post\" enctype=\"multipart/form-data\" class=\"file\" action=\"'+settings.post_upload+'\" target=\"'+settings.iframe+'\"><input type=\"file\" class=\"file\" name=\"'+settings.file_elem+'\" id=\"'+settings.file_elem+'\" multiple /><input type=\"hidden\" name=\"folder\" value=\"'+settings.folder+'\" /><input type=\"hidden\" name=\"file_element\" value=\"'+settings.file_elem+'\" /></form><div class=\"mf_upload_ins\"></div></div>');\n\t\t\n\t\t$(this).find(\".mf_upload_m\").css({\n\t\t\t'position': 'relative',\n\t\t\t'margin': 0,\n\t\t\t'padding':0,\n\t\t\t'width': 'inherit',\n\t\t\t'height' : 'inherit'\n\t  \t});\n\t\t\t\t\t\n\t\t$(this).find(\".file\").css({\n\t\t\t'position': 'relative',\n\t\t\t'text-align': 'right',\n\t\t\t'-moz-opacity': '0',\n\t\t\t'filter': 'alpha(opacity: 0)',\n\t\t\t'opacity': '0',\n\t\t\t'z-index': '2',\n\t\t\t'width': '100%',\n\t\t\t'height' : '100%',\n\t\t\ttop:0, left:0\n\t  \t});\n\t\t\n\t\t$(this).find(\".mf_upload_ins\").css({\n\t\t\t'position': 'absolute',\n\t\t\t'text-align': 'center',\n\t\t\t'z-index': '1',\n\t\t\t'width': '100%',\n\t\t\t'height' : '100%',\n\t\t\t'top':0,\n\t\t\t'left':0\n\t  \t});\n\t\t\t\t\t\t\n\t\t\n\t\t$(this).find('.mf_upload_ins').empty().html(settings.ini_text);\n\t\t\n\t\t$(this).bind({\n                dragleave: function (e) {\n                    e.preventDefault();\n\t\t\t\t\t$(this).find(\".mf_upload_ins\").css('color', 'inherit');\n\t\t\t\t\t$(this).find(\".mf_upload_ins\").css('background-color', 'inherit').html(settings.ini_text);\n                },\n                drop: function (e) {\n                    e.preventDefault();\n\t\t\t\t\t$(this).find(\".mf_upload_ins\").css('color', 'inherit');\n\t\t\t\t\t$(this).find(\".mf_upload_ins\").css('background-color', 'inherit' ).html(settings.ini_text);\n\t\t\t\t\t\n\t\t\t\t\tvar obj = e.originalEvent;\n\t\t\t\t\tif (obj.dataTransfer.files)\n\t\t\t\t\t\tmethods.upload(obj.dataTransfer.files);\n\t\t\t\t\telse\n\t\t\t\t\t\talert(\"Drag and Drop not supported by your browser. You can still click to upload.\");\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t},\n                dragover: function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$(this).find(\".mf_upload_ins\").css('color', settings.over_col);\n\t\t\t\t\t$(this).find(\".mf_upload_ins\").css('background-color', settings.over_bkcol);\t\t\t\t\t\n\t\t\t\t\t$(this).find(\".mf_upload_ins\").html(settings.over_text);                \n\t\t\t\t\t\n\t\t\t\t}\n         });\n\t\t \n\t\t $(this).find('input[type=file]').bind('change', function(e){\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(e.target.files) methods.upload(e.target.files);\n\t\t\telse methods.upload_old( $(this), settings.iframe );\n  \t\t\t\n         });\n\t\t \t \n\t  }\n\t  });\t\n\t\t\n\t}\n\n\n})( jQuery );"],"sourceRoot":"/source/"}